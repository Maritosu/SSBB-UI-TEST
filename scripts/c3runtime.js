// Generated by Construct, the game and app creator :: https://www.construct.net
var aa;"use strict";var ba=this;
function ca(a){function b(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=m[0],y=m[1],B=m[2];m=m[3];f[0]=q*v+u*y;f[1]=t*v+h*y;f[2]=q*B+u*m;f[3]=t*B+h*m;return f}function d(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];return f}function c(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4];h=h[5];var B=m[0],C=m[1],E=m[2],H=m[3],N=m[4];m=m[5];f[0]=q*B+u*C;f[1]=t*B+v*C;f[2]=q*E+u*H;f[3]=t*E+v*H;f[4]=q*N+u*m+y;f[5]=t*N+v*m+h;return f}function e(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-
m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];f[5]=h[5]-m[5];return f}function g(){var f=new va(9);va!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function k(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7];h=h[8];var H=m[0],N=m[1],L=m[2],U=m[3],V=m[4],Q=m[5],oa=m[6],ia=m[7];m=m[8];f[0]=H*q+N*v+L*C;f[1]=H*t+N*y+L*E;f[2]=H*u+N*B+L*h;f[3]=U*q+V*v+Q*C;f[4]=U*t+V*y+Q*E;f[5]=U*u+V*B+Q*h;f[6]=oa*q+ia*v+m*C;f[7]=oa*t+ia*y+m*E;f[8]=oa*u+ia*B+m*h;return f}
function l(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];f[5]=h[5]-m[5];f[6]=h[6]-m[6];f[7]=h[7]-m[7];f[8]=h[8]-m[8];return f}function n(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function p(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7],H=h[8],N=h[9],L=h[10],U=h[11],V=h[12],Q=h[13],oa=h[14];h=h[15];var ia=m[0],sa=m[1],ta=m[2],pa=m[3];f[0]=ia*q+sa*y+ta*H+pa*
V;f[1]=ia*t+sa*B+ta*N+pa*Q;f[2]=ia*u+sa*C+ta*L+pa*oa;f[3]=ia*v+sa*E+ta*U+pa*h;ia=m[4];sa=m[5];ta=m[6];pa=m[7];f[4]=ia*q+sa*y+ta*H+pa*V;f[5]=ia*t+sa*B+ta*N+pa*Q;f[6]=ia*u+sa*C+ta*L+pa*oa;f[7]=ia*v+sa*E+ta*U+pa*h;ia=m[8];sa=m[9];ta=m[10];pa=m[11];f[8]=ia*q+sa*y+ta*H+pa*V;f[9]=ia*t+sa*B+ta*N+pa*Q;f[10]=ia*u+sa*C+ta*L+pa*oa;f[11]=ia*v+sa*E+ta*U+pa*h;ia=m[12];sa=m[13];ta=m[14];pa=m[15];f[12]=ia*q+sa*y+ta*H+pa*V;f[13]=ia*t+sa*B+ta*N+pa*Q;f[14]=ia*u+sa*C+ta*L+pa*oa;f[15]=ia*v+sa*E+ta*U+pa*h;return f}function r(f,
h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=q+q,B=t+t,C=u+u;h=q*y;var E=q*B;q*=C;var H=t*B;t*=C;u*=C;y*=v;B*=v;v*=C;f[0]=1-(H+u);f[1]=E+v;f[2]=q-B;f[3]=0;f[4]=E-v;f[5]=1-(h+u);f[6]=t+y;f[7]=0;f[8]=q+B;f[9]=t-y;f[10]=1-(h+H);f[11]=0;f[12]=m[0];f[13]=m[1];f[14]=m[2];f[15]=1;return f}function w(f,h){f[0]=h[12];f[1]=h[13];f[2]=h[14];return f}function x(f,h){var m=h[4],q=h[5],t=h[6],u=h[8],v=h[9],y=h[10];f[0]=Math.hypot(h[0],h[1],h[2]);f[1]=Math.hypot(m,q,t);f[2]=Math.hypot(u,v,y);return f}function z(f,h){var m=
new va(3);x(m,h);var q=1/m[0],t=1/m[1],u=1/m[2],v=h[0]*q;m=h[1]*t;var y=h[2]*u,B=h[4]*q,C=h[5]*t,E=h[6]*u;q*=h[8];t*=h[9];h=h[10]*u;u=v+C+h;0<u?(v=2*Math.sqrt(u+1),f[3]=.25*v,f[0]=(E-t)/v,f[1]=(q-y)/v,f[2]=(m-B)/v):v>C&&v>h?(v=2*Math.sqrt(1+v-C-h),f[3]=(E-t)/v,f[0]=.25*v,f[1]=(m+B)/v,f[2]=(q+y)/v):C>h?(v=2*Math.sqrt(1+C-v-h),f[3]=(q-y)/v,f[0]=(m+B)/v,f[1]=.25*v,f[2]=(E+t)/v):(v=2*Math.sqrt(1+h-v-C),f[3]=(m-B)/v,f[0]=(q+y)/v,f[1]=(E+t)/v,f[2]=.25*v);return f}function F(f,h,m,q,t){h=1/Math.tan(h/2);
f[0]=h/m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=t&&Infinity!==t?(m=1/(q-t),f[10]=(t+q)*m,f[14]=2*t*q*m):(f[10]=-1,f[14]=-2*q);return f}function D(f,h,m,q,t,u,v){var y=1/(h-m),B=1/(q-t),C=1/(u-v);f[0]=-2*y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*B;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*C;f[11]=0;f[12]=(h+m)*y;f[13]=(t+q)*B;f[14]=(v+u)*C;f[15]=1;return f}function G(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];
f[5]=h[5]-m[5];f[6]=h[6]-m[6];f[7]=h[7]-m[7];f[8]=h[8]-m[8];f[9]=h[9]-m[9];f[10]=h[10]-m[10];f[11]=h[11]-m[11];f[12]=h[12]-m[12];f[13]=h[13]-m[13];f[14]=h[14]-m[14];f[15]=h[15]-m[15];return f}function J(){var f=new va(3);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function M(f){return Math.hypot(f[0],f[1],f[2])}function P(f,h,m){var q=new va(3);q[0]=f;q[1]=h;q[2]=m;return q}function Ja(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];return f}function Sa(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];
f[2]=h[2]*m[2];return f}function Za(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];f[2]=h[2]/m[2];return f}function Cd(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1],h[2]-f[2])}function tc(f,h){var m=h[0]-f[0],q=h[1]-f[1];f=h[2]-f[2];return m*m+q*q+f*f}function Mb(f){var h=f[0],m=f[1];f=f[2];return h*h+m*m+f*f}function jd(f,h){var m=h[0],q=h[1],t=h[2];m=m*m+q*q+t*t;0<m&&(m=1/Math.sqrt(m));f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;return f}function qf(f,h){return f[0]*h[0]+f[1]*h[1]+f[2]*h[2]}function rf(f,h,m){var q=
h[0],t=h[1];h=h[2];var u=m[0],v=m[1];m=m[2];f[0]=t*m-h*v;f[1]=h*u-q*m;f[2]=q*v-t*u;return f}function Fh(){var f=new va(4);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Gh(f){var h=new va(4);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];return h}function Hh(f,h,m,q){var t=new va(4);t[0]=f;t[1]=h;t[2]=m;t[3]=q;return t}function sf(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];return f}function Ih(f,h,m,q,t){f[0]=h;f[1]=m;f[2]=q;f[3]=t;return f}function Jh(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+
m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];return f}function ds(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];return f}function es(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];f[2]=h[2]*m[2];f[3]=h[3]*m[3];return f}function fs(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];f[2]=h[2]/m[2];f[3]=h[3]/m[3];return f}function jn(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;return f}function gs(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1],h[2]-f[2],h[3]-f[3])}function hs(f,h){var m=h[0]-f[0],q=h[1]-f[1],
t=h[2]-f[2];f=h[3]-f[3];return m*m+q*q+t*t+f*f}function kg(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Be(f){var h=f[0],m=f[1],q=f[2];f=f[3];return h*h+m*m+q*q+f*f}function hk(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m*m+q*q+t*t+h*h;0<u&&(u=1/Math.sqrt(u));f[0]=m*u;f[1]=q*u;f[2]=t*u;f[3]=h*u;return f}function lg(f,h){return f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]*h[3]}function is(f,h,m,q){var t=h[0],u=h[1],v=h[2];h=h[3];f[0]=t+q*(m[0]-t);f[1]=u+q*(m[1]-u);f[2]=v+q*(m[2]-v);f[3]=h+q*(m[3]-h);return f}
function js(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]}function ik(){var f=new va(4);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function ks(f,h,m){m*=.5;var q=Math.sin(m);f[0]=q*h[0];f[1]=q*h[1];f[2]=q*h[2];f[3]=Math.cos(m);return f}function ls(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=m[0],y=m[1],B=m[2];m=m[3];f[0]=q*m+h*v+t*B-u*y;f[1]=t*m+h*y+u*v-q*B;f[2]=u*m+h*B+q*y-t*v;f[3]=h*m-q*v-t*y-u*B;return f}function ms(f,h,m){m*=.5;var q=h[0],t=h[1],u=h[2];h=h[3];var v=
Math.sin(m);m=Math.cos(m);f[0]=q*m+h*v;f[1]=t*m+u*v;f[2]=u*m-t*v;f[3]=h*m-q*v;return f}function ns(f,h,m){m*=.5;var q=h[0],t=h[1],u=h[2];h=h[3];var v=Math.sin(m);m=Math.cos(m);f[0]=q*m-u*v;f[1]=t*m+h*v;f[2]=u*m+q*v;f[3]=h*m-t*v;return f}function os(f,h,m){m*=.5;var q=h[0],t=h[1],u=h[2];h=h[3];var v=Math.sin(m);m=Math.cos(m);f[0]=q*m+t*v;f[1]=t*m-q*v;f[2]=u*m+h*v;f[3]=h*m-u*v;return f}function ps(f,h){var m=h[0],q=h[1],t=h[2],u=Math.sqrt(m*m+q*q+t*t);h=Math.exp(h[3]);var v=0<u?h*Math.sin(u)/u:0;f[0]=
m*v;f[1]=q*v;f[2]=t*v;f[3]=h*Math.cos(u);return f}function qs(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=Math.sqrt(m*m+q*q+t*t);u=0<u?Math.atan2(u,h)/u:0;f[0]=m*u;f[1]=q*u;f[2]=t*u;f[3]=.5*Math.log(m*m+q*q+t*t+h*h);return f}function jk(f,h,m,q){var t=h[0],u=h[1],v=h[2];h=h[3];var y=m[0],B=m[1],C=m[2];m=m[3];var E=t*y+u*B+v*C+h*m;0>E&&(E=-E,y=-y,B=-B,C=-C,m=-m);if(1E-6<1-E){var H=Math.acos(E);var N=Math.sin(H);E=Math.sin((1-q)*H)/N;q=Math.sin(q*H)/N}else E=1-q;f[0]=E*t+q*y;f[1]=E*u+q*B;f[2]=E*v+q*
C;f[3]=E*h+q*m;return f}function rs(f,h){var m=h[0]+h[4]+h[8];if(0<m)m=Math.sqrt(m+1),f[3]=.5*m,m=.5/m,f[0]=(h[5]-h[7])*m,f[1]=(h[6]-h[2])*m,f[2]=(h[1]-h[3])*m;else{var q=0;h[4]>h[0]&&(q=1);h[8]>h[3*q+q]&&(q=2);var t=(q+1)%3,u=(q+2)%3;m=Math.sqrt(h[3*q+q]-h[3*t+t]-h[3*u+u]+1);f[q]=.5*m;m=.5/m;f[3]=(h[3*t+u]-h[3*u+t])*m;f[t]=(h[3*t+q]+h[3*q+t])*m;f[u]=(h[3*u+q]+h[3*q+u])*m}return f}function ss(f,h,m){var q=.5*m[0],t=.5*m[1];m=.5*m[2];var u=h[0],v=h[1],y=h[2];h=h[3];f[0]=u;f[1]=v;f[2]=y;f[3]=h;f[4]=
q*h+t*y-m*v;f[5]=t*h+m*u-q*y;f[6]=m*h+q*v-t*u;f[7]=-q*u-t*v-m*y;return f}function ts(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];return f}function us(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=m[4],B=m[5],C=m[6],E=m[7],H=h[4],N=h[5],L=h[6];h=h[7];var U=m[0],V=m[1],Q=m[2];m=m[3];f[0]=q*m+v*U+t*Q-u*V;f[1]=t*m+v*V+u*U-q*Q;f[2]=u*m+v*Q+q*V-t*U;f[3]=v*m-q*U-t*V-u*Q;f[4]=q*E+v*y+t*C-u*B+H*m+h*U+N*Q-L*V;f[5]=t*E+v*B+u*y-q*C+N*m+h*V+L*U-H*Q;f[6]=u*E+v*C+q*B-t*y+L*m+
h*Q+H*V-N*U;f[7]=v*E-q*y-t*B-u*C+h*m-H*U-N*V-L*Q;return f}function vs(){var f=new va(2);va!=Float32Array&&(f[0]=0,f[1]=0);return f}function ws(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];return f}function xs(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];return f}function ys(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];return f}function zs(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1])}function As(f,h){var m=h[0]-f[0];f=h[1]-f[1];return m*m+f*f}function Bs(f){return Math.hypot(f[0],f[1])}function Cs(f){var h=f[0];f=f[1];return h*
h+f*f}var va="undefined"!==typeof Float32Array?Float32Array:Array,kd=Math.random,cB=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,h=arguments.length;h--;)f+=arguments[h]*arguments[h];return Math.sqrt(f)});var dB=Object.freeze({__proto__:null,EPSILON:1E-6,get a5(){return va},taa:kd,Z4:"zyx",eia:function(f){va=f},yia:function(f){return f*cB},zd:function(f,h){return Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))}}),eB=Object.freeze({__proto__:null,create:function(){var f=new va(4);
va!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var h=new va(4);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];return h},xa:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];return f},SA:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Gg:function(f,h,m,q){var t=new va(4);t[0]=f;t[1]=h;t[2]=m;t[3]=q;return t},set:function(f,h,m,q,t){f[0]=h;f[1]=m;f[2]=q;f[3]=t;return f},dW:function(f,h){if(f===h){var m=h[1];f[1]=h[2];f[2]=m}else f[0]=h[0],f[1]=h[2],f[2]=h[1],f[3]=h[3];return f},
uw:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m*h-t*q;if(!u)return null;u=1/u;f[0]=h*u;f[1]=-q*u;f[2]=-t*u;f[3]=m*u;return f},QU:function(f,h){var m=h[0];f[0]=h[3];f[1]=-h[1];f[2]=-h[2];f[3]=m;return f},tN:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=Math.sin(m);m=Math.cos(m);f[0]=q*m+u*v;f[1]=t*m+h*v;f[2]=q*-v+u*m;f[3]=t*-v+h*m;return f},scale:function(f,h,m){var q=h[1],t=h[2],u=h[3],v=m[0];m=m[1];f[0]=h[0]*v;f[1]=q*v;f[2]=
t*m;f[3]=u*m;return f},qG:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=-m;f[3]=h;return f},BN:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=h[1];return f},ko:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},AN:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},j9:function(f,h,m,q){f[2]=q[2]/q[0];m[0]=q[0];m[1]=q[1];m[3]=q[3]-f[2]*m[1];return[f,h,m]},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];return f},lo:d,Ui:function(f,h){return f[0]===
h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]},zd:function(f,h){var m=f[0],q=f[1],t=f[2];f=f[3];var u=h[0],v=h[1],y=h[2];h=h[3];return Math.abs(m-u)<=1E-6*Math.max(1,Math.abs(m),Math.abs(u))&&Math.abs(q-v)<=1E-6*Math.max(1,Math.abs(q),Math.abs(v))&&Math.abs(t-y)<=1E-6*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},VN:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;return f},WN:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+
m[2]*q;f[3]=h[3]+m[3]*q;return f},io:b,sub:d}),fB=Object.freeze({__proto__:null,create:function(){var f=new va(6);va!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var h=new va(6);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];return h},xa:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];return f},SA:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Gg:function(f,h,m,q,t,u){var v=new va(6);v[0]=f;v[1]=h;v[2]=
m;v[3]=q;v[4]=t;v[5]=u;return v},set:function(f,h,m,q,t,u,v){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;return f},uw:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4];h=h[5];var y=m*u-q*t;if(!y)return null;y=1/y;f[0]=u*y;f[1]=-q*y;f[2]=-t*y;f[3]=m*y;f[4]=(t*h-u*v)*y;f[5]=(q*v-m*h)*y;return f},tN:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:c,rotate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4];h=h[5];var B=Math.sin(m);m=Math.cos(m);f[0]=q*m+u*B;f[1]=t*m+v*B;f[2]=q*-B+u*m;f[3]=t*-B+
v*m;f[4]=y;f[5]=h;return f},scale:function(f,h,m){var q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],B=m[0];m=m[1];f[0]=h[0]*B;f[1]=q*B;f[2]=t*m;f[3]=u*m;f[4]=v;f[5]=y;return f},translate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4];h=h[5];var B=m[0];m=m[1];f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=q*B+u*m+y;f[5]=t*B+v*m+h;return f},qG:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=-m;f[3]=h;f[4]=0;f[5]=0;return f},BN:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=h[1];f[4]=0;f[5]=0;return f},
CN:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=h[0];f[5]=h[1];return f},ko:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},AN:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];return f},lo:e,VN:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;return f},WN:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=
h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;return f},Ui:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]},zd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4];f=f[5];var y=h[0],B=h[1],C=h[2],E=h[3],H=h[4];h=h[5];return Math.abs(m-y)<=1E-6*Math.max(1,Math.abs(m),Math.abs(y))&&Math.abs(q-B)<=1E-6*Math.max(1,Math.abs(q),Math.abs(B))&&Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(u-E)<=1E-6*Math.max(1,
Math.abs(u),Math.abs(E))&&Math.abs(v-H)<=1E-6*Math.max(1,Math.abs(v),Math.abs(H))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},io:c,sub:e}),gB=Object.freeze({__proto__:null,create:g,P3:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[4];f[4]=h[5];f[5]=h[6];f[6]=h[8];f[7]=h[9];f[8]=h[10];return f},clone:function(f){var h=new va(9);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];h[8]=f[8];return h},xa:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];
f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];return f},Gg:function(f,h,m,q,t,u,v,y,B){var C=new va(9);C[0]=f;C[1]=h;C[2]=m;C[3]=q;C[4]=t;C[5]=u;C[6]=v;C[7]=y;C[8]=B;return C},set:function(f,h,m,q,t,u,v,y,B,C){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;f[6]=y;f[7]=B;f[8]=C;return f},SA:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},dW:function(f,h){if(f===h){var m=h[1],q=h[2],t=h[5];f[1]=h[3];f[2]=h[6];f[3]=m;f[5]=h[7];f[6]=q;f[7]=t}else f[0]=h[0],f[1]=h[3],
f[2]=h[6],f[3]=h[1],f[4]=h[4],f[5]=h[7],f[6]=h[2],f[7]=h[5],f[8]=h[8];return f},uw:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],B=h[6],C=h[7];h=h[8];var E=h*v-y*C,H=-h*u+y*B,N=C*u-v*B,L=m*E+q*H+t*N;if(!L)return null;L=1/L;f[0]=E*L;f[1]=(-h*q+t*C)*L;f[2]=(y*q-t*v)*L;f[3]=H*L;f[4]=(h*m-t*B)*L;f[5]=(-y*m+t*u)*L;f[6]=N*L;f[7]=(-C*m+q*B)*L;f[8]=(v*m-q*u)*L;return f},QU:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],B=h[6],C=h[7];h=h[8];f[0]=v*h-y*C;f[1]=t*C-q*h;f[2]=q*y-t*v;
f[3]=y*B-u*h;f[4]=m*h-t*B;f[5]=t*u-m*y;f[6]=u*C-v*B;f[7]=q*B-m*C;f[8]=m*v-q*u;return f},tN:function(f){var h=f[3],m=f[4],q=f[5],t=f[6],u=f[7],v=f[8];return f[0]*(v*m-q*u)+f[1]*(-v*h+q*t)+f[2]*(u*h-m*t)},multiply:k,translate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7];h=h[8];var H=m[0];m=m[1];f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=y;f[5]=B;f[6]=H*q+m*v+C;f[7]=H*t+m*y+E;f[8]=H*u+m*B+h;return f},rotate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7];
h=h[8];var H=Math.sin(m);m=Math.cos(m);f[0]=m*q+H*v;f[1]=m*t+H*y;f[2]=m*u+H*B;f[3]=m*v-H*q;f[4]=m*y-H*t;f[5]=m*B-H*u;f[6]=C;f[7]=E;f[8]=h;return f},scale:function(f,h,m){var q=m[0];m=m[1];f[0]=q*h[0];f[1]=q*h[1];f[2]=q*h[2];f[3]=m*h[3];f[4]=m*h[4];f[5]=m*h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];return f},CN:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=h[0];f[7]=h[1];f[8]=1;return f},qG:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=0;f[3]=-m;f[4]=h;f[5]=0;f[6]=0;f[7]=0;
f[8]=1;return f},BN:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=0;f[4]=h[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},Yfa:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=0;f[3]=h[2];f[4]=h[3];f[5]=0;f[6]=h[4];f[7]=h[5];f[8]=1;return f},Q3:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m+m,v=q+q,y=t+t;m*=u;var B=q*u;q*=v;var C=t*u,E=t*v;t*=y;u*=h;v*=h;h*=y;f[0]=1-q-t;f[3]=B-h;f[6]=C+v;f[1]=B+h;f[4]=1-m-t;f[7]=E-u;f[2]=C-v;f[5]=E+u;f[8]=1-m-q;return f},kha:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],
y=h[5],B=h[6],C=h[7],E=h[8],H=h[9],N=h[10],L=h[11],U=h[12],V=h[13],Q=h[14];h=h[15];var oa=m*y-q*v,ia=m*B-t*v,sa=m*C-u*v,ta=q*B-t*y,pa=q*C-u*y,eb=t*C-u*B,fb=E*V-H*U,gb=E*Q-N*U;E=E*h-L*U;var hb=H*Q-N*V;H=H*h-L*V;N=N*h-L*Q;L=oa*N-ia*H+sa*hb+ta*E-pa*gb+eb*fb;if(!L)return null;L=1/L;f[0]=(y*N-B*H+C*hb)*L;f[1]=(B*E-v*N-C*gb)*L;f[2]=(v*H-y*E+C*fb)*L;f[3]=(t*H-q*N-u*hb)*L;f[4]=(m*N-t*E+u*gb)*L;f[5]=(q*E-m*H-u*fb)*L;f[6]=(V*eb-Q*pa+h*ta)*L;f[7]=(Q*sa-U*eb-h*ia)*L;f[8]=(U*pa-V*sa+h*oa)*L;return f},KV:function(f,
h,m){f[0]=2/h;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/m;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},ko:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},AN:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];f[8]=h[8]+m[8];return f},lo:l,VN:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=
h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;f[8]=h[8]*m;return f},WN:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;f[6]=h[6]+m[6]*q;f[7]=h[7]+m[7]*q;f[8]=h[8]+m[8]*q;return f},Ui:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===h[7]&&f[8]===h[8]},zd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4],y=f[5],B=f[6],C=f[7];f=f[8];var E=
h[0],H=h[1],N=h[2],L=h[3],U=h[4],V=h[5],Q=h[6],oa=h[7];h=h[8];return Math.abs(m-E)<=1E-6*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(q-H)<=1E-6*Math.max(1,Math.abs(q),Math.abs(H))&&Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(u-L)<=1E-6*Math.max(1,Math.abs(u),Math.abs(L))&&Math.abs(v-U)<=1E-6*Math.max(1,Math.abs(v),Math.abs(U))&&Math.abs(y-V)<=1E-6*Math.max(1,Math.abs(y),Math.abs(V))&&Math.abs(B-Q)<=1E-6*Math.max(1,Math.abs(B),Math.abs(Q))&&Math.abs(C-oa)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(oa))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},io:k,sub:l}),hB=Object.freeze({__proto__:null,create:function(){var f=new va(16);va!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var h=new va(16);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];h[8]=f[8];h[9]=f[9];h[10]=f[10];h[11]=f[11];h[12]=f[12];h[13]=f[13];h[14]=f[14];h[15]=
f[15];return h},xa:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];f[9]=h[9];f[10]=h[10];f[11]=h[11];f[12]=h[12];f[13]=h[13];f[14]=h[14];f[15]=h[15];return f},Gg:function(f,h,m,q,t,u,v,y,B,C,E,H,N,L,U,V){var Q=new va(16);Q[0]=f;Q[1]=h;Q[2]=m;Q[3]=q;Q[4]=t;Q[5]=u;Q[6]=v;Q[7]=y;Q[8]=B;Q[9]=C;Q[10]=E;Q[11]=H;Q[12]=N;Q[13]=L;Q[14]=U;Q[15]=V;return Q},set:function(f,h,m,q,t,u,v,y,B,C,E,H,N,L,U,V,Q){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;f[6]=y;
f[7]=B;f[8]=C;f[9]=E;f[10]=H;f[11]=N;f[12]=L;f[13]=U;f[14]=V;f[15]=Q;return f},SA:n,dW:function(f,h){if(f===h){var m=h[1],q=h[2],t=h[3],u=h[6],v=h[7],y=h[11];f[1]=h[4];f[2]=h[8];f[3]=h[12];f[4]=m;f[6]=h[9];f[7]=h[13];f[8]=q;f[9]=u;f[11]=h[14];f[12]=t;f[13]=v;f[14]=y}else f[0]=h[0],f[1]=h[4],f[2]=h[8],f[3]=h[12],f[4]=h[1],f[5]=h[5],f[6]=h[9],f[7]=h[13],f[8]=h[2],f[9]=h[6],f[10]=h[10],f[11]=h[14],f[12]=h[3],f[13]=h[7],f[14]=h[11],f[15]=h[15];return f},uw:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],
v=h[4],y=h[5],B=h[6],C=h[7],E=h[8],H=h[9],N=h[10],L=h[11],U=h[12],V=h[13],Q=h[14];h=h[15];var oa=m*y-q*v,ia=m*B-t*v,sa=m*C-u*v,ta=q*B-t*y,pa=q*C-u*y,eb=t*C-u*B,fb=E*V-H*U,gb=E*Q-N*U,hb=E*h-L*U,Hb=H*Q-N*V,uc=H*h-L*V,vc=N*h-L*Q,ib=oa*vc-ia*uc+sa*Hb+ta*hb-pa*gb+eb*fb;if(!ib)return null;ib=1/ib;f[0]=(y*vc-B*uc+C*Hb)*ib;f[1]=(t*uc-q*vc-u*Hb)*ib;f[2]=(V*eb-Q*pa+h*ta)*ib;f[3]=(N*pa-H*eb-L*ta)*ib;f[4]=(B*hb-v*vc-C*gb)*ib;f[5]=(m*vc-t*hb+u*gb)*ib;f[6]=(Q*sa-U*eb-h*ia)*ib;f[7]=(E*eb-N*sa+L*ia)*ib;f[8]=(v*uc-
y*hb+C*fb)*ib;f[9]=(q*hb-m*uc-u*fb)*ib;f[10]=(U*pa-V*sa+h*oa)*ib;f[11]=(H*sa-E*pa-L*oa)*ib;f[12]=(y*gb-v*Hb-B*fb)*ib;f[13]=(m*Hb-q*gb+t*fb)*ib;f[14]=(V*ia-U*ta-Q*oa)*ib;f[15]=(E*ta-H*ia+N*oa)*ib;return f},QU:function(f,h){var m=h[0],q=h[1],t=h[2],u=h[3],v=h[4],y=h[5],B=h[6],C=h[7],E=h[8],H=h[9],N=h[10],L=h[11],U=h[12],V=h[13],Q=h[14];h=h[15];var oa=m*y-q*v,ia=m*B-t*v,sa=m*C-u*v,ta=q*B-t*y,pa=q*C-u*y,eb=t*C-u*B,fb=E*V-H*U,gb=E*Q-N*U,hb=E*h-L*U,Hb=H*Q-N*V,uc=H*h-L*V,vc=N*h-L*Q;f[0]=y*vc-B*uc+C*Hb;f[1]=
t*uc-q*vc-u*Hb;f[2]=V*eb-Q*pa+h*ta;f[3]=N*pa-H*eb-L*ta;f[4]=B*hb-v*vc-C*gb;f[5]=m*vc-t*hb+u*gb;f[6]=Q*sa-U*eb-h*ia;f[7]=E*eb-N*sa+L*ia;f[8]=v*uc-y*hb+C*fb;f[9]=q*hb-m*uc-u*fb;f[10]=U*pa-V*sa+h*oa;f[11]=H*sa-E*pa-L*oa;f[12]=y*gb-v*Hb-B*fb;f[13]=m*Hb-q*gb+t*fb;f[14]=V*ia-U*ta-Q*oa;f[15]=E*ta-H*ia+N*oa;return f},tN:function(f){var h=f[0],m=f[1],q=f[2],t=f[4],u=f[5],v=f[6],y=f[8],B=f[9],C=f[10],E=f[12],H=f[13],N=f[14],L=h*u-m*t,U=h*v-q*t,V=m*v-q*u,Q=y*H-B*E,oa=y*N-C*E,ia=B*N-C*H;return f[7]*(h*ia-m*oa+
q*Q)-f[3]*(t*ia-u*oa+v*Q)+f[15]*(y*V-B*U+C*L)-f[11]*(E*V-H*U+N*L)},multiply:p,translate:function(f,h,m){var q=m[0],t=m[1];m=m[2];if(h===f)f[12]=h[0]*q+h[4]*t+h[8]*m+h[12],f[13]=h[1]*q+h[5]*t+h[9]*m+h[13],f[14]=h[2]*q+h[6]*t+h[10]*m+h[14],f[15]=h[3]*q+h[7]*t+h[11]*m+h[15];else{var u=h[0];var v=h[1];var y=h[2];var B=h[3];var C=h[4];var E=h[5];var H=h[6];var N=h[7];var L=h[8];var U=h[9];var V=h[10];var Q=h[11];f[0]=u;f[1]=v;f[2]=y;f[3]=B;f[4]=C;f[5]=E;f[6]=H;f[7]=N;f[8]=L;f[9]=U;f[10]=V;f[11]=Q;f[12]=
u*q+C*t+L*m+h[12];f[13]=v*q+E*t+U*m+h[13];f[14]=y*q+H*t+V*m+h[14];f[15]=B*q+N*t+Q*m+h[15]}return f},scale:function(f,h,m){var q=m[0],t=m[1];m=m[2];f[0]=h[0]*q;f[1]=h[1]*q;f[2]=h[2]*q;f[3]=h[3]*q;f[4]=h[4]*t;f[5]=h[5]*t;f[6]=h[6]*t;f[7]=h[7]*t;f[8]=h[8]*m;f[9]=h[9]*m;f[10]=h[10]*m;f[11]=h[11]*m;f[12]=h[12];f[13]=h[13];f[14]=h[14];f[15]=h[15];return f},rotate:function(f,h,m,q){var t=q[0],u=q[1];q=q[2];var v=Math.hypot(t,u,q);if(1E-6>v)return null;v=1/v;t*=v;u*=v;q*=v;var y=Math.sin(m);var B=Math.cos(m);
var C=1-B;m=h[0];v=h[1];var E=h[2];var H=h[3];var N=h[4];var L=h[5];var U=h[6];var V=h[7];var Q=h[8];var oa=h[9];var ia=h[10];var sa=h[11];var ta=t*t*C+B;var pa=u*t*C+q*y;var eb=q*t*C-u*y;var fb=t*u*C-q*y;var gb=u*u*C+B;var hb=q*u*C+t*y;var Hb=t*q*C+u*y;t=u*q*C-t*y;u=q*q*C+B;f[0]=m*ta+N*pa+Q*eb;f[1]=v*ta+L*pa+oa*eb;f[2]=E*ta+U*pa+ia*eb;f[3]=H*ta+V*pa+sa*eb;f[4]=m*fb+N*gb+Q*hb;f[5]=v*fb+L*gb+oa*hb;f[6]=E*fb+U*gb+ia*hb;f[7]=H*fb+V*gb+sa*hb;f[8]=m*Hb+N*t+Q*u;f[9]=v*Hb+L*t+oa*u;f[10]=E*Hb+U*t+ia*u;f[11]=
H*Hb+V*t+sa*u;h!==f&&(f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);return f},kO:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[4],u=h[5],v=h[6],y=h[7],B=h[8],C=h[9],E=h[10],H=h[11];h!==f&&(f[0]=h[0],f[1]=h[1],f[2]=h[2],f[3]=h[3],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[4]=t*m+B*q;f[5]=u*m+C*q;f[6]=v*m+E*q;f[7]=y*m+H*q;f[8]=B*m-t*q;f[9]=C*m-u*q;f[10]=E*m-v*q;f[11]=H*m-y*q;return f},lO:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[0],u=h[1],v=h[2],y=h[3],B=h[8],C=h[9],
E=h[10],H=h[11];h!==f&&(f[4]=h[4],f[5]=h[5],f[6]=h[6],f[7]=h[7],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[0]=t*m-B*q;f[1]=u*m-C*q;f[2]=v*m-E*q;f[3]=y*m-H*q;f[8]=t*q+B*m;f[9]=u*q+C*m;f[10]=v*q+E*m;f[11]=y*q+H*m;return f},mO:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[0],u=h[1],v=h[2],y=h[3],B=h[4],C=h[5],E=h[6],H=h[7];h!==f&&(f[8]=h[8],f[9]=h[9],f[10]=h[10],f[11]=h[11],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[0]=t*m+B*q;f[1]=u*m+C*q;f[2]=v*m+E*q;f[3]=y*m+H*q;f[4]=B*m-
t*q;f[5]=C*m-u*q;f[6]=E*m-v*q;f[7]=H*m-y*q;return f},CN:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=h[0];f[13]=h[1];f[14]=h[2];f[15]=1;return f},BN:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=h[2];f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},qG:function(f,h,m){var q=m[0],t=m[1];m=m[2];var u=Math.hypot(q,t,m);if(1E-6>u)return null;u=1/u;q*=u;t*=u;m*=u;u=Math.sin(h);h=Math.cos(h);var v=
1-h;f[0]=q*q*v+h;f[1]=t*q*v+m*u;f[2]=m*q*v-t*u;f[3]=0;f[4]=q*t*v-m*u;f[5]=t*t*v+h;f[6]=m*t*v+q*u;f[7]=0;f[8]=q*m*v+t*u;f[9]=t*m*v-q*u;f[10]=m*m*v+h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},dga:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=m;f[7]=0;f[8]=0;f[9]=-m;f[10]=h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},ega:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=0;f[2]=-m;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=m;f[9]=0;f[10]=
h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},fga:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=0;f[3]=0;f[4]=-m;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},R3:r,$fa:function(f,h){var m=new va(3),q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7],H=q*q+t*t+u*u+v*v;0<H?(m[0]=2*(y*v+E*q+B*u-C*t)/H,m[1]=2*(B*v+E*t+C*q-y*u)/H,m[2]=2*(C*v+E*u+y*t-B*q)/H):(m[0]=2*(y*v+E*q+B*u-C*t),m[1]=2*(B*v+E*t+C*q-y*u),m[2]=2*(C*v+E*u+
y*t-B*q));r(f,h,m);return f},V3:w,oga:x,nga:z,Ifa:function(f,h,m,q){h[0]=q[12];h[1]=q[13];h[2]=q[14];var t=q[0],u=q[1],v=q[2],y=q[4],B=q[5],C=q[6],E=q[8];h=q[9];q=q[10];m[0]=Math.hypot(t,u,v);m[1]=Math.hypot(y,B,C);m[2]=Math.hypot(E,h,q);var H=1/m[0],N=1/m[1],L=1/m[2];m=t*H;u*=N;v*=L;y*=H;B*=N;C*=L;E*=H;h*=N;q*=L;N=m+B+q;0<N?(q=2*Math.sqrt(N+1),f[3]=.25*q,f[0]=(C-h)/q,f[1]=(E-v)/q,f[2]=(u-y)/q):m>B&&m>q?(q=2*Math.sqrt(1+m-B-q),f[3]=(C-h)/q,f[0]=.25*q,f[1]=(u+y)/q,f[2]=(E+v)/q):B>q?(q=2*Math.sqrt(1+
B-m-q),f[3]=(E-v)/q,f[0]=(u+y)/q,f[1]=.25*q,f[2]=(C+h)/q):(q=2*Math.sqrt(1+q-m-B),f[3]=(u-y)/q,f[0]=(E+v)/q,f[1]=(C+h)/q,f[2]=.25*q);return f},aga:function(f,h,m,q){var t=h[0],u=h[1],v=h[2],y=h[3],B=t+t,C=u+u,E=v+v;h=t*B;var H=t*C;t*=E;var N=u*C;u*=E;v*=E;B*=y;C*=y;y*=E;E=q[0];var L=q[1];q=q[2];f[0]=(1-(N+v))*E;f[1]=(H+y)*E;f[2]=(t-C)*E;f[3]=0;f[4]=(H-y)*L;f[5]=(1-(h+v))*L;f[6]=(u+B)*L;f[7]=0;f[8]=(t+C)*q;f[9]=(u-B)*q;f[10]=(1-(h+N))*q;f[11]=0;f[12]=m[0];f[13]=m[1];f[14]=m[2];f[15]=1;return f},bga:function(f,
h,m,q,t){var u=h[0],v=h[1],y=h[2],B=h[3],C=u+u,E=v+v,H=y+y;h=u*C;var N=u*E,L=u*H;u=v*E;v*=H;var U=y*H;y=B*C;E*=B;var V=B*H,Q=q[0],oa=q[1];H=q[2];q=t[0];B=t[1];t=t[2];C=(1-(u+U))*Q;var ia=(N+V)*Q;Q*=L-E;N=(N-V)*oa;U=(1-(h+U))*oa;oa*=v+y;L=(L+E)*H;v=(v-y)*H;h=(1-(h+u))*H;f[0]=C;f[1]=ia;f[2]=Q;f[3]=0;f[4]=N;f[5]=U;f[6]=oa;f[7]=0;f[8]=L;f[9]=v;f[10]=h;f[11]=0;f[12]=m[0]+q-(C*q+N*B+L*t);f[13]=m[1]+B-(ia*q+U*B+v*t);f[14]=m[2]+t-(Q*q+oa*B+h*t);f[15]=1;return f},Q3:function(f,h){var m=h[0],q=h[1],t=h[2];
h=h[3];var u=m+m,v=q+q,y=t+t;m*=u;var B=q*u;q*=v;var C=t*u,E=t*v;t*=y;u*=h;v*=h;h*=y;f[0]=1-q-t;f[1]=B+h;f[2]=C-v;f[3]=0;f[4]=B-h;f[5]=1-m-t;f[6]=E+u;f[7]=0;f[8]=C+v;f[9]=E-u;f[10]=1-m-q;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},S3:function(f,h,m,q,t,u,v){var y=1/(m-h),B=1/(t-q),C=1/(u-v);f[0]=2*u*y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*u*B;f[6]=0;f[7]=0;f[8]=(m+h)*y;f[9]=(t+q)*B;f[10]=(v+u)*C;f[11]=-1;f[12]=0;f[13]=0;f[14]=v*u*2*C;f[15]=0;return f},tha:F,perspective:F,A4:function(f,h,m,q,t){h=
1/Math.tan(h/2);f[0]=h/m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=t&&Infinity!==t?(m=1/(q-t),f[10]=t*m,f[14]=t*q*m):(f[10]=-1,f[14]=-q);return f},sha:function(f,h,m,q){var t=Math.tan(h.Gia*Math.PI/180),u=Math.tan(h.Ofa*Math.PI/180),v=Math.tan(h.Zga*Math.PI/180);h=Math.tan(h.Qha*Math.PI/180);var y=2/(v+h),B=2/(t+u);f[0]=y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=B;f[6]=0;f[7]=0;f[8]=-((v-h)*y*.5);f[9]=(t-u)*B*.5;f[10]=q/(m-q);f[11]=-1;f[12]=0;f[13]=
0;f[14]=q*m/(m-q);f[15]=0;return f},rha:D,x4:D,y4:function(f,h,m,q,t,u,v){var y=1/(h-m),B=1/(q-t);v=1/(u-v);f[0]=-2*y;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*B;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=v;f[11]=0;f[12]=(h+m)*y;f[13]=(t+q)*B;f[14]=u*v;f[15]=1;return f},m4:function(f,h,m,q){var t=h[0],u=h[1];h=h[2];var v=q[0];var y=q[1];var B=q[2];var C=m[0];q=m[1];var E=m[2];if(1E-6>Math.abs(t-C)&&1E-6>Math.abs(u-q)&&1E-6>Math.abs(h-E))return n(f);m=t-C;q=u-q;C=h-E;var H=1/Math.hypot(m,q,C);m*=H;q*=H;C*=H;E=y*
C-B*q;B=B*m-v*C;v=v*q-y*m;(H=Math.hypot(E,B,v))?(H=1/H,E*=H,B*=H,v*=H):v=B=E=0;y=q*v-C*B;var N=C*E-m*v;var L=m*B-q*E;(H=Math.hypot(y,N,L))?(H=1/H,y*=H,N*=H,L*=H):L=N=y=0;f[0]=E;f[1]=y;f[2]=m;f[3]=0;f[4]=B;f[5]=N;f[6]=q;f[7]=0;f[8]=v;f[9]=L;f[10]=C;f[11]=0;f[12]=-(E*t+B*u+v*h);f[13]=-(y*t+N*u+L*h);f[14]=-(m*t+q*u+C*h);f[15]=1;return f},ria:function(f,h,m,q){var t=h[0],u=h[1];h=h[2];var v=q[0],y=q[1],B=q[2];q=t-m[0];var C=u-m[1];m=h-m[2];var E=q*q+C*C+m*m;0<E&&(E=1/Math.sqrt(E),q*=E,C*=E,m*=E);var H=
y*m-B*C;B=B*q-v*m;v=v*C-y*q;E=H*H+B*B+v*v;0<E&&(E=1/Math.sqrt(E),H*=E,B*=E,v*=E);f[0]=H;f[1]=B;f[2]=v;f[3]=0;f[4]=C*v-m*B;f[5]=m*H-q*v;f[6]=q*B-C*H;f[7]=0;f[8]=q;f[9]=C;f[10]=m;f[11]=0;f[12]=t;f[13]=u;f[14]=h;f[15]=1;return f},ko:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},AN:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],
f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];f[8]=h[8]+m[8];f[9]=h[9]+m[9];f[10]=h[10]+m[10];f[11]=h[11]+m[11];f[12]=h[12]+m[12];f[13]=h[13]+m[13];f[14]=h[14]+m[14];f[15]=h[15]+m[15];return f},lo:G,VN:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;f[8]=h[8]*m;f[9]=h[9]*m;f[10]=h[10]*m;f[11]=h[11]*m;f[12]=
h[12]*m;f[13]=h[13]*m;f[14]=h[14]*m;f[15]=h[15]*m;return f},WN:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;f[6]=h[6]+m[6]*q;f[7]=h[7]+m[7]*q;f[8]=h[8]+m[8]*q;f[9]=h[9]+m[9]*q;f[10]=h[10]+m[10]*q;f[11]=h[11]+m[11]*q;f[12]=h[12]+m[12]*q;f[13]=h[13]+m[13]*q;f[14]=h[14]+m[14]*q;f[15]=h[15]+m[15]*q;return f},Ui:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===
h[7]&&f[8]===h[8]&&f[9]===h[9]&&f[10]===h[10]&&f[11]===h[11]&&f[12]===h[12]&&f[13]===h[13]&&f[14]===h[14]&&f[15]===h[15]},zd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4],y=f[5],B=f[6],C=f[7],E=f[8],H=f[9],N=f[10],L=f[11],U=f[12],V=f[13],Q=f[14];f=f[15];var oa=h[0],ia=h[1],sa=h[2],ta=h[3],pa=h[4],eb=h[5],fb=h[6],gb=h[7],hb=h[8],Hb=h[9],uc=h[10],vc=h[11],ib=h[12],Ds=h[13],Es=h[14];h=h[15];return Math.abs(m-oa)<=1E-6*Math.max(1,Math.abs(m),Math.abs(oa))&&Math.abs(q-ia)<=1E-6*Math.max(1,Math.abs(q),
Math.abs(ia))&&Math.abs(t-sa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(sa))&&Math.abs(u-ta)<=1E-6*Math.max(1,Math.abs(u),Math.abs(ta))&&Math.abs(v-pa)<=1E-6*Math.max(1,Math.abs(v),Math.abs(pa))&&Math.abs(y-eb)<=1E-6*Math.max(1,Math.abs(y),Math.abs(eb))&&Math.abs(B-fb)<=1E-6*Math.max(1,Math.abs(B),Math.abs(fb))&&Math.abs(C-gb)<=1E-6*Math.max(1,Math.abs(C),Math.abs(gb))&&Math.abs(E-hb)<=1E-6*Math.max(1,Math.abs(E),Math.abs(hb))&&Math.abs(H-Hb)<=1E-6*Math.max(1,Math.abs(H),Math.abs(Hb))&&Math.abs(N-uc)<=
1E-6*Math.max(1,Math.abs(N),Math.abs(uc))&&Math.abs(L-vc)<=1E-6*Math.max(1,Math.abs(L),Math.abs(vc))&&Math.abs(U-ib)<=1E-6*Math.max(1,Math.abs(U),Math.abs(ib))&&Math.abs(V-Ds)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ds))&&Math.abs(Q-Es)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Es))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},io:p,sub:G}),kn=function(){var f=J();return function(h,m,q,t,u,v){m||(m=3);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],f[2]=h[q+
2],u(f,f,v),h[q]=f[0],h[q+1]=f[1],h[q+2]=f[2];return h}}();kn=Object.freeze({__proto__:null,create:J,clone:function(f){var h=new va(3);h[0]=f[0];h[1]=f[1];h[2]=f[2];return h},length:M,Gg:P,xa:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];return f},set:function(f,h,m,q){f[0]=h;f[1]=m;f[2]=q;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];return f},lo:Ja,multiply:Sa,il:Za,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);f[2]=Math.ceil(h[2]);return f},floor:function(f,
h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);f[2]=Math.floor(h[2]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);f[2]=Math.min(h[2],m[2]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);f[2]=Math.max(h[2],m[2]);return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);f[2]=Math.round(h[2]);return f},scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;return f},nO:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+
m[1]*q;f[2]=h[2]+m[2]*q;return f},ci:Cd,SV:tc,EG:Mb,EV:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];return f},inverse:function(f,h){f[0]=1/h[0];f[1]=1/h[1];f[2]=1/h[2];return f},normalize:jd,ho:qf,sN:rf,qf:function(f,h,m,q){var t=h[0],u=h[1];h=h[2];f[0]=t+q*(m[0]-t);f[1]=u+q*(m[1]-u);f[2]=h+q*(m[2]-h);return f},I4:function(f,h,m,q){var t=Math.acos(Math.min(Math.max(qf(h,m),-1),1)),u=Math.sin(t),v=Math.sin((1-q)*t)/u;q=Math.sin(q*t)/u;f[0]=v*h[0]+q*m[0];f[1]=v*h[1]+q*m[1];f[2]=v*h[2]+q*m[2];return f},
sga:function(f,h,m,q,t,u){var v=u*u,y=v*(2*u-3)+1,B=v*(u-2)+u,C=v*(u-1);u=v*(3-2*u);f[0]=h[0]*y+m[0]*B+q[0]*C+t[0]*u;f[1]=h[1]*y+m[1]*B+q[1]*C+t[1]*u;f[2]=h[2]*y+m[2]*B+q[2]*C+t[2]*u;return f},pfa:function(f,h,m,q,t,u){var v=1-u,y=v*v,B=u*u,C=y*v;y*=3*u;v*=3*B;u*=B;f[0]=h[0]*C+m[0]*y+q[0]*v+t[0]*u;f[1]=h[1]*C+m[1]*y+q[1]*v+t[1]*u;f[2]=h[2]*C+m[2]*y+q[2]*v+t[2]*u;return f},random:function(f,h){h=h||1;var m=2*kd()*Math.PI,q=2*kd()-1,t=Math.sqrt(1-q*q)*h;f[0]=Math.cos(m)*t;f[1]=Math.sin(m)*t;f[2]=q*
h;return f},wO:function(f,h,m){var q=h[0],t=h[1];h=h[2];var u=m[3]*q+m[7]*t+m[11]*h+m[15];u=u||1;f[0]=(m[0]*q+m[4]*t+m[8]*h+m[12])/u;f[1]=(m[1]*q+m[5]*t+m[9]*h+m[13])/u;f[2]=(m[2]*q+m[6]*t+m[10]*h+m[14])/u;return f},Q4:function(f,h,m){var q=h[0],t=h[1];h=h[2];f[0]=q*m[0]+t*m[3]+h*m[6];f[1]=q*m[1]+t*m[4]+h*m[7];f[2]=q*m[2]+t*m[5]+h*m[8];return f},R4:function(f,h,m){var q=m[0],t=m[1],u=m[2],v=h[0],y=h[1];h=h[2];var B=t*h-u*y,C=u*v-q*h,E=q*y-t*v;m=2*m[3];f[0]=v+B*m+2*(t*E-u*C);f[1]=y+C*m+2*(u*B-q*E);
f[2]=h+E*m+2*(q*C-t*B);return f},kO:function(f,h,m,q){var t=[],u=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];u[0]=t[0];u[1]=t[1]*Math.cos(q)-t[2]*Math.sin(q);u[2]=t[1]*Math.sin(q)+t[2]*Math.cos(q);f[0]=u[0]+m[0];f[1]=u[1]+m[1];f[2]=u[2]+m[2];return f},lO:function(f,h,m,q){var t=[],u=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];u[0]=t[2]*Math.sin(q)+t[0]*Math.cos(q);u[1]=t[1];u[2]=t[2]*Math.cos(q)-t[0]*Math.sin(q);f[0]=u[0]+m[0];f[1]=u[1]+m[1];f[2]=u[2]+m[2];return f},mO:function(f,h,m,q){var t=
[],u=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];u[0]=t[0]*Math.cos(q)-t[1]*Math.sin(q);u[1]=t[0]*Math.sin(q)+t[1]*Math.cos(q);u[2]=t[2];f[0]=u[0]+m[0];f[1]=u[1]+m[1];f[2]=u[2]+m[2];return f},angle:function(f,h){var m=f[0],q=f[1],t=f[2],u=h[0],v=h[1],y=h[2];f=(m=Math.sqrt((m*m+q*q+t*t)*(u*u+v*v+y*y)))&&qf(f,h)/m;return Math.acos(Math.min(Math.max(f,-1),1))},sW:function(f){f[0]=0;f[1]=0;f[2]=0;return f},ko:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Ui:function(f,h){return f[0]===h[0]&&
f[1]===h[1]&&f[2]===h[2]},zd:function(f,h){var m=f[0],q=f[1];f=f[2];var t=h[0],u=h[1];h=h[2];return Math.abs(m-t)<=1E-6*Math.max(1,Math.abs(m),Math.abs(t))&&Math.abs(q-u)<=1E-6*Math.max(1,Math.abs(q),Math.abs(u))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},sub:Ja,io:Sa,fV:Za,dV:Cd,RV:tc,ZA:M,DG:Mb,forEach:kn});var ln=function(){var f=Fh();return function(h,m,q,t,u,v){m||(m=4);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],f[2]=h[q+2],f[3]=h[q+3],u(f,
f,v),h[q]=f[0],h[q+1]=f[1],h[q+2]=f[2],h[q+3]=f[3];return h}}();ln=Object.freeze({__proto__:null,create:Fh,clone:Gh,Gg:Hh,xa:sf,set:Ih,add:Jh,lo:ds,multiply:es,il:fs,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);f[2]=Math.ceil(h[2]);f[3]=Math.ceil(h[3]);return f},floor:function(f,h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);f[2]=Math.floor(h[2]);f[3]=Math.floor(h[3]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);f[2]=Math.min(h[2],m[2]);f[3]=Math.min(h[3],
m[3]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);f[2]=Math.max(h[2],m[2]);f[3]=Math.max(h[3],m[3]);return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);f[2]=Math.round(h[2]);f[3]=Math.round(h[3]);return f},scale:jn,nO:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;return f},ci:gs,SV:hs,length:kg,EG:Be,EV:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=-h[3];return f},inverse:function(f,h){f[0]=1/h[0];
f[1]=1/h[1];f[2]=1/h[2];f[3]=1/h[3];return f},normalize:hk,ho:lg,sN:function(f,h,m,q){var t=m[0]*q[1]-m[1]*q[0],u=m[0]*q[2]-m[2]*q[0],v=m[0]*q[3]-m[3]*q[0],y=m[1]*q[2]-m[2]*q[1],B=m[1]*q[3]-m[3]*q[1];m=m[2]*q[3]-m[3]*q[2];q=h[0];var C=h[1],E=h[2];h=h[3];f[0]=C*m-E*B+h*y;f[1]=-(q*m)+E*v-h*u;f[2]=q*B-C*v+h*t;f[3]=-(q*y)+C*u-E*t;return f},qf:is,random:function(f,h){h=h||1;do{var m=2*kd()-1;var q=2*kd()-1;var t=m*m+q*q}while(1<=t);do{var u=2*kd()-1;var v=2*kd()-1;var y=u*u+v*v}while(1<=y);t=Math.sqrt((1-
t)/y);f[0]=h*m;f[1]=h*q;f[2]=h*u*t;f[3]=h*v*t;return f},wO:function(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];f[0]=m[0]*q+m[4]*t+m[8]*u+m[12]*h;f[1]=m[1]*q+m[5]*t+m[9]*u+m[13]*h;f[2]=m[2]*q+m[6]*t+m[10]*u+m[14]*h;f[3]=m[3]*q+m[7]*t+m[11]*u+m[15]*h;return f},R4:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=m[0],y=m[1],B=m[2];m=m[3];var C=m*q+y*u-B*t,E=m*t+B*q-v*u,H=m*u+v*t-y*q;q=-v*q-y*t-B*u;f[0]=C*m+q*-v+E*-B-H*-y;f[1]=E*m+q*-y+H*-v-C*-B;f[2]=H*m+q*-B+C*-y-E*-v;f[3]=h[3];return f},sW:function(f){f[0]=0;
f[1]=0;f[2]=0;f[3]=0;return f},ko:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Ui:js,zd:function(f,h){var m=f[0],q=f[1],t=f[2];f=f[3];var u=h[0],v=h[1],y=h[2];h=h[3];return Math.abs(m-u)<=1E-6*Math.max(1,Math.abs(m),Math.abs(u))&&Math.abs(q-v)<=1E-6*Math.max(1,Math.abs(q),Math.abs(v))&&Math.abs(t-y)<=1E-6*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},sub:ds,io:es,fV:fs,dV:gs,RV:hs,ZA:kg,DG:Be,forEach:ln});var mn=function(){var f=
J(),h=P(1,0,0),m=P(0,1,0);return function(q,t,u){var v=qf(t,u);if(-.999999>v)return rf(f,h,t),1E-6>M(f)&&rf(f,m,t),jd(f,f),ks(q,f,Math.PI),q;if(.999999<v)return q[0]=0,q[1]=0,q[2]=0,q[3]=1,q;rf(f,t,u);q[0]=f[0];q[1]=f[1];q[2]=f[2];q[3]=1+v;return hk(q,q)}}(),nn=function(){var f=ik(),h=ik();return function(m,q,t,u,v,y){jk(f,q,v,y);jk(h,t,u,y);jk(m,f,h,2*y*(1-y));return m}}(),Kh=function(){var f=g();return function(h,m,q,t){f[0]=q[0];f[3]=q[1];f[6]=q[2];f[1]=t[0];f[4]=t[1];f[7]=t[2];f[2]=-m[0];f[5]=
-m[1];f[8]=-m[2];return hk(h,rs(h,f))}}();mn=Object.freeze({__proto__:null,create:ik,SA:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},cia:ks,kga:function(f,h){var m=2*Math.acos(h[3]),q=Math.sin(m/2);1E-6<q?(f[0]=h[0]/q,f[1]=h[1]/q,f[2]=h[2]/q):(f[0]=1,f[1]=0,f[2]=0);return m},iga:function(f,h){f=lg(f,h);return Math.acos(2*f*f-1)},multiply:ls,kO:ms,lO:ns,mO:os,qfa:function(f,h){var m=h[0],q=h[1];h=h[2];f[0]=m;f[1]=q;f[2]=h;f[3]=Math.sqrt(Math.abs(1-m*m-q*q-h*h));return f},exp:ps,l4:qs,pow:function(f,
h,m){qs(f,h);jn(f,f,m);ps(f,f);return f},I4:jk,random:function(f){var h=kd(),m=kd(),q=kd(),t=Math.sqrt(1-h);h=Math.sqrt(h);f[0]=t*Math.sin(2*Math.PI*m);f[1]=t*Math.cos(2*Math.PI*m);f[2]=h*Math.sin(2*Math.PI*q);f[3]=h*Math.cos(2*Math.PI*q);return f},uw:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var u=m*m+q*q+t*t+h*h;u=u?1/u:0;f[0]=-m*u;f[1]=-q*u;f[2]=-t*u;f[3]=h*u;return f},B3:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=h[3];return f},Zfa:rs,Xfa:function(f,h,m,q){var t=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:"zyx",u=Math.PI/360;h*=u;q*=u;m*=u;u=Math.sin(h);var v=Math.cos(h),y=Math.sin(m),B=Math.cos(m),C=Math.sin(q),E=Math.cos(q);switch(t){case "xyz":f[0]=u*B*E+v*y*C;f[1]=v*y*E-u*B*C;f[2]=v*B*C+u*y*E;f[3]=v*B*E-u*y*C;break;case "xzy":f[0]=u*B*E-v*y*C;f[1]=v*y*E-u*B*C;f[2]=v*B*C+u*y*E;f[3]=v*B*E+u*y*C;break;case "yxz":f[0]=u*B*E+v*y*C;f[1]=v*y*E-u*B*C;f[2]=v*B*C-u*y*E;f[3]=v*B*E+u*y*C;break;case "yzx":f[0]=u*B*E+v*y*C;f[1]=v*y*E+u*B*C;f[2]=v*B*C-u*y*E;f[3]=v*B*E-u*y*C;
break;case "zxy":f[0]=u*B*E-v*y*C;f[1]=v*y*E+u*B*C;f[2]=v*B*C+u*y*E;f[3]=v*B*E-u*y*C;break;case "zyx":f[0]=u*B*E-v*y*C;f[1]=v*y*E+u*B*C;f[2]=v*B*C-u*y*E;f[3]=v*B*E+u*y*C;break;default:throw Error("Unknown angle order "+t);}return f},ko:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},clone:Gh,Gg:Hh,xa:sf,set:Ih,add:Jh,io:ls,scale:jn,ho:lg,qf:is,length:kg,ZA:kg,EG:Be,DG:Be,normalize:hk,Ui:js,zd:function(f,h){return.999999<=Math.abs(lg(f,h))},Uha:mn,hia:nn,bia:Kh});nn=Object.freeze({__proto__:null,
create:function(){var f=new va(8);va!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var h=new va(8);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];return h},Gg:function(f,h,m,q,t,u,v,y){var B=new va(8);B[0]=f;B[1]=h;B[2]=m;B[3]=q;B[4]=t;B[5]=u;B[6]=v;B[7]=y;return B},cga:function(f,h,m,q,t,u,v){var y=new va(8);y[0]=f;y[1]=h;y[2]=m;y[3]=q;t*=.5;u*=.5;v*=.5;y[4]=t*q+u*m-v*h;y[5]=u*q+v*f-t*m;y[6]=v*q+t*h-u*f;y[7]=
-t*f-u*h-v*m;return y},R3:ss,CN:function(f,h){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*h[0];f[5]=.5*h[1];f[6]=.5*h[2];f[7]=0;return f},qG:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},P3:function(f,h){var m=ik();z(m,h);var q=new va(3);w(q,h);ss(f,m,q);return f},xa:ts,SA:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,h,m,q,t,u,v,y,B){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=u;f[5]=v;f[6]=y;f[7]=B;return f},mga:sf,lga:function(f,
h){f[0]=h[4];f[1]=h[5];f[2]=h[6];f[3]=h[7];return f},fia:sf,dia:function(f,h){f[4]=h[0];f[5]=h[1];f[6]=h[2];f[7]=h[3];return f},V3:function(f,h){var m=h[4],q=h[5],t=h[6],u=h[7],v=-h[0],y=-h[1],B=-h[2];h=h[3];f[0]=2*(m*h+u*v+q*B-t*y);f[1]=2*(q*h+u*y+t*v-m*B);f[2]=2*(t*h+u*B+m*y-q*v);return f},translate:function(f,h,m){var q=h[0],t=h[1],u=h[2],v=h[3],y=.5*m[0],B=.5*m[1];m=.5*m[2];var C=h[4],E=h[5],H=h[6];h=h[7];f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=v*y+t*m-u*B+C;f[5]=v*B+u*y-q*m+E;f[6]=v*m+q*B-t*y+H;f[7]=
-q*y-t*B-u*m+h;return f},kO:function(f,h,m){var q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7],H=y*v+E*q+B*u-C*t,N=B*v+E*t+C*q-y*u,L=C*v+E*u+y*t-B*q;y=E*v-y*q-B*t-C*u;ms(f,h,m);q=f[0];t=f[1];u=f[2];v=f[3];f[4]=H*v+y*q+N*u-L*t;f[5]=N*v+y*t+L*q-H*u;f[6]=L*v+y*u+H*t-N*q;f[7]=y*v-H*q-N*t-L*u;return f},lO:function(f,h,m){var q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7],H=y*v+E*q+B*u-C*t,N=B*v+E*t+C*q-y*u,L=C*v+E*u+y*t-B*q;y=E*v-y*q-B*t-C*u;ns(f,h,m);q=f[0];t=f[1];u=f[2];v=f[3];
f[4]=H*v+y*q+N*u-L*t;f[5]=N*v+y*t+L*q-H*u;f[6]=L*v+y*u+H*t-N*q;f[7]=y*v-H*q-N*t-L*u;return f},mO:function(f,h,m){var q=-h[0],t=-h[1],u=-h[2],v=h[3],y=h[4],B=h[5],C=h[6],E=h[7],H=y*v+E*q+B*u-C*t,N=B*v+E*t+C*q-y*u,L=C*v+E*u+y*t-B*q;y=E*v-y*q-B*t-C*u;os(f,h,m);q=f[0];t=f[1];u=f[2];v=f[3];f[4]=H*v+y*q+N*u-L*t;f[5]=N*v+y*t+L*q-H*u;f[6]=L*v+y*u+H*t-N*q;f[7]=y*v-H*q-N*t-L*u;return f},Sha:function(f,h,m){var q=m[0],t=m[1],u=m[2];m=m[3];var v=h[0],y=h[1],B=h[2],C=h[3];f[0]=v*m+C*q+y*u-B*t;f[1]=y*m+C*t+B*q-
v*u;f[2]=B*m+C*u+v*t-y*q;f[3]=C*m-v*q-y*t-B*u;v=h[4];y=h[5];B=h[6];C=h[7];f[4]=v*m+C*q+y*u-B*t;f[5]=y*m+C*t+B*q-v*u;f[6]=B*m+C*u+v*t-y*q;f[7]=C*m-v*q-y*t-B*u;return f},Tha:function(f,h,m){var q=h[0],t=h[1],u=h[2];h=h[3];var v=m[0],y=m[1],B=m[2],C=m[3];f[0]=q*C+h*v+t*B-u*y;f[1]=t*C+h*y+u*v-q*B;f[2]=u*C+h*B+q*y-t*v;f[3]=h*C-q*v-t*y-u*B;v=m[4];y=m[5];B=m[6];C=m[7];f[4]=q*C+h*v+t*B-u*y;f[5]=t*C+h*y+u*v-q*B;f[6]=u*C+h*B+q*y-t*v;f[7]=h*C-q*v-t*y-u*B;return f},Rha:function(f,h,m,q){if(1E-6>Math.abs(q))return ts(f,
h);var t=Math.hypot(m[0],m[1],m[2]);q*=.5;var u=Math.sin(q),v=u*m[0]/t,y=u*m[1]/t;m=u*m[2]/t;q=Math.cos(q);t=h[0];u=h[1];var B=h[2],C=h[3];f[0]=t*q+C*v+u*m-B*y;f[1]=u*q+C*y+B*v-t*m;f[2]=B*q+C*m+t*y-u*v;f[3]=C*q-t*v-u*y-B*m;t=h[4];u=h[5];B=h[6];h=h[7];f[4]=t*q+h*v+u*m-B*y;f[5]=u*q+h*y+B*v-t*m;f[6]=B*q+h*m+t*y-u*v;f[7]=h*q-t*v-u*y-B*m;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];return f},multiply:us,
io:us,scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;return f},ho:lg,qf:function(f,h,m,q){var t=1-q;0>lg(h,m)&&(q=-q);f[0]=h[0]*t+m[0]*q;f[1]=h[1]*t+m[1]*q;f[2]=h[2]*t+m[2]*q;f[3]=h[3]*t+m[3]*q;f[4]=h[4]*t+m[4]*q;f[5]=h[5]*t+m[5]*q;f[6]=h[6]*t+m[6]*q;f[7]=h[7]*t+m[7]*q;return f},uw:function(f,h){var m=Be(h);f[0]=-h[0]/m;f[1]=-h[1]/m;f[2]=-h[2]/m;f[3]=h[3]/m;f[4]=-h[4]/m;f[5]=-h[5]/m;f[6]=-h[6]/m;f[7]=h[7]/m;return f},B3:function(f,
h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=h[3];f[4]=-h[4];f[5]=-h[5];f[6]=-h[6];f[7]=h[7];return f},length:kg,ZA:kg,EG:Be,DG:Be,normalize:function(f,h){var m=Be(h);if(0<m){m=Math.sqrt(m);var q=h[0]/m,t=h[1]/m,u=h[2]/m,v=h[3]/m,y=h[4],B=h[5],C=h[6];h=h[7];var E=q*y+t*B+u*C+v*h;f[0]=q;f[1]=t;f[2]=u;f[3]=v;f[4]=(y-q*E)/m;f[5]=(B-t*E)/m;f[6]=(C-u*E)/m;f[7]=(h-v*E)/m}return f},ko:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Ui:function(f,h){return f[0]===
h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===h[7]},zd:function(f,h){var m=f[0],q=f[1],t=f[2],u=f[3],v=f[4],y=f[5],B=f[6];f=f[7];var C=h[0],E=h[1],H=h[2],N=h[3],L=h[4],U=h[5],V=h[6];h=h[7];return Math.abs(m-C)<=1E-6*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(q-E)<=1E-6*Math.max(1,Math.abs(q),Math.abs(E))&&Math.abs(t-H)<=1E-6*Math.max(1,Math.abs(t),Math.abs(H))&&Math.abs(u-N)<=1E-6*Math.max(1,Math.abs(u),Math.abs(N))&&Math.abs(v-L)<=1E-6*Math.max(1,Math.abs(v),
Math.abs(L))&&Math.abs(y-U)<=1E-6*Math.max(1,Math.abs(y),Math.abs(U))&&Math.abs(B-V)<=1E-6*Math.max(1,Math.abs(B),Math.abs(V))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))}});Kh=function(){var f=vs();return function(h,m,q,t,u,v){m||(m=2);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],u(f,f,v),h[q]=f[0],h[q+1]=f[1];return h}}();Kh=Object.freeze({__proto__:null,create:vs,clone:function(f){var h=new va(2);h[0]=f[0];h[1]=f[1];return h},Gg:function(f,h){var m=
new va(2);m[0]=f;m[1]=h;return m},xa:function(f,h){f[0]=h[0];f[1]=h[1];return f},set:function(f,h,m){f[0]=h;f[1]=m;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];return f},lo:ws,multiply:xs,il:ys,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);return f},floor:function(f,h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);
return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);return f},scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;return f},nO:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;return f},ci:zs,SV:As,length:Bs,EG:Cs,EV:function(f,h){f[0]=-h[0];f[1]=-h[1];return f},inverse:function(f,h){f[0]=1/h[0];f[1]=1/h[1];return f},normalize:function(f,h){var m=h[0],q=h[1];m=m*m+q*q;0<m&&(m=1/Math.sqrt(m));f[0]=h[0]*m;f[1]=h[1]*m;return f},ho:function(f,h){return f[0]*h[0]+f[1]*h[1]},sN:function(f,
h,m){h=h[0]*m[1]-h[1]*m[0];f[0]=f[1]=0;f[2]=h;return f},qf:function(f,h,m,q){var t=h[0];h=h[1];f[0]=t+q*(m[0]-t);f[1]=h+q*(m[1]-h);return f},random:function(f,h){h=h||1;var m=2*kd()*Math.PI;f[0]=Math.cos(m)*h;f[1]=Math.sin(m)*h;return f},Cia:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[2]*h;f[1]=m[1]*q+m[3]*h;return f},Dia:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[2]*h+m[4];f[1]=m[1]*q+m[3]*h+m[5];return f},Q4:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[3]*h+m[6];f[1]=m[1]*q+m[4]*h+m[7];
return f},wO:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[4]*h+m[12];f[1]=m[1]*q+m[5]*h+m[13];return f},rotate:function(f,h,m,q){var t=h[0]-m[0];h=h[1]-m[1];var u=Math.sin(q);q=Math.cos(q);f[0]=t*q-h*u+m[0];f[1]=t*u+h*q+m[1];return f},angle:function(f,h){var m=f[0];f=f[1];var q=h[0];h=h[1];var t=Math.sqrt((m*m+f*f)*(q*q+h*h));return Math.acos(Math.min(Math.max(t&&(m*q+f*h)/t,-1),1))},sW:function(f){f[0]=0;f[1]=0;return f},ko:function(f){return"vec2("+f[0]+", "+f[1]+")"},Ui:function(f,h){return f[0]===
h[0]&&f[1]===h[1]},zd:function(f,h){var m=f[0];f=f[1];var q=h[0];h=h[1];return Math.abs(m-q)<=1E-6*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},ZA:Bs,sub:ws,io:xs,fV:ys,dV:zs,RV:As,DG:Cs,forEach:Kh});a.Vi=dB;a.dha=eB;a.eha=fB;a.fha=gB;a.jl=hB;a.Bha=mn;a.Cha=nn;a.Nia=Kh;a.HG=kn;a.iB=ln;Object.defineProperty(a,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?ca(exports):"function"===typeof define&&define.ifa?define(["exports"],ca):(ba="undefined"!==typeof globalThis?globalThis:ba||self,ca(ba.Vi={}));
self.cY=function(){function a(c,e){void 0===e&&(e=0);var g=c.charCodeAt(e);if(55296<=g&&56319>=g&&e<c.length-1){var k=g;c=c.charCodeAt(e+1);return 56320<=c&&57343>=c?1024*(k-55296)+(c-56320)+65536:k}return 56320<=g&&57343>=g&&1<=e?(k=c.charCodeAt(e-1),c=g,55296<=k&&56319>=k?1024*(k-55296)+(c-56320)+65536:c):g}function b(c,e,g){var k=[c].concat(e).concat([g]),l=k[k.length-2],n=k.lastIndexOf(14);if(1<n&&k.slice(1,n).every(function(p){return 3==p})&&-1==[3,13,17].indexOf(c))return 2;c=k.lastIndexOf(4);
if(0<c&&k.slice(1,c).every(function(p){return 4==p})&&-1==[12,4].indexOf(l))return 1==k.filter(function(p){return 4==p}).length%2?3:4;if(0==l&&1==g)return 0;if(2==l||0==l||1==l)return 14==g&&e.every(function(p){return 3==p})?2:1;if(2==g||0==g||1==g)return 1;if(6!=l||6!=g&&7!=g&&9!=g&&10!=g)if(9!=l&&7!=l||7!=g&&8!=g)if(10!=l&&8!=l||8!=g){if(3==g||15==g||5==g||12==l)return 0}else return 0;else return 0;else return 0;c=-1!=k.indexOf(3)?k.lastIndexOf(3)-1:k.length-2;return-1!=[13,17].indexOf(k[c])&&k.slice(c+
1,-1).every(function(p){return 3==p})&&14==g||15==l&&-1!=[16,17].indexOf(g)?0:-1!=e.indexOf(4)?2:4==l&&4==g?0:1}function d(c){return 1536<=c&&1541>=c||1757==c||1807==c||2274==c||3406==c||69821==c||70082<=c&&70083>=c||72250==c||72326<=c&&72329>=c||73030==c?12:13==c?0:10==c?1:0<=c&&9>=c||11<=c&&12>=c||14<=c&&31>=c||127<=c&&159>=c||173==c||1564==c||6158==c||8203==c||8206<=c&&8207>=c||8232==c||8233==c||8234<=c&&8238>=c||8288<=c&&8292>=c||8293==c||8294<=c&&8303>=c||55296<=c&&57343>=c||65279==c||65520<=
c&&65528>=c||65529<=c&&65531>=c||113824<=c&&113827>=c||119155<=c&&119162>=c||917504==c||917505==c||917506<=c&&917535>=c||917632<=c&&917759>=c||918E3<=c&&921599>=c?2:768<=c&&879>=c||1155<=c&&1159>=c||1160<=c&&1161>=c||1425<=c&&1469>=c||1471==c||1473<=c&&1474>=c||1476<=c&&1477>=c||1479==c||1552<=c&&1562>=c||1611<=c&&1631>=c||1648==c||1750<=c&&1756>=c||1759<=c&&1764>=c||1767<=c&&1768>=c||1770<=c&&1773>=c||1809==c||1840<=c&&1866>=c||1958<=c&&1968>=c||2027<=c&&2035>=c||2070<=c&&2073>=c||2075<=c&&2083>=
c||2085<=c&&2087>=c||2089<=c&&2093>=c||2137<=c&&2139>=c||2260<=c&&2273>=c||2275<=c&&2306>=c||2362==c||2364==c||2369<=c&&2376>=c||2381==c||2385<=c&&2391>=c||2402<=c&&2403>=c||2433==c||2492==c||2494==c||2497<=c&&2500>=c||2509==c||2519==c||2530<=c&&2531>=c||2561<=c&&2562>=c||2620==c||2625<=c&&2626>=c||2631<=c&&2632>=c||2635<=c&&2637>=c||2641==c||2672<=c&&2673>=c||2677==c||2689<=c&&2690>=c||2748==c||2753<=c&&2757>=c||2759<=c&&2760>=c||2765==c||2786<=c&&2787>=c||2810<=c&&2815>=c||2817==c||2876==c||2878==
c||2879==c||2881<=c&&2884>=c||2893==c||2902==c||2903==c||2914<=c&&2915>=c||2946==c||3006==c||3008==c||3021==c||3031==c||3072==c||3134<=c&&3136>=c||3142<=c&&3144>=c||3146<=c&&3149>=c||3157<=c&&3158>=c||3170<=c&&3171>=c||3201==c||3260==c||3263==c||3266==c||3270==c||3276<=c&&3277>=c||3285<=c&&3286>=c||3298<=c&&3299>=c||3328<=c&&3329>=c||3387<=c&&3388>=c||3390==c||3393<=c&&3396>=c||3405==c||3415==c||3426<=c&&3427>=c||3530==c||3535==c||3538<=c&&3540>=c||3542==c||3551==c||3633==c||3636<=c&&3642>=c||3655<=
c&&3662>=c||3761==c||3764<=c&&3769>=c||3771<=c&&3772>=c||3784<=c&&3789>=c||3864<=c&&3865>=c||3893==c||3895==c||3897==c||3953<=c&&3966>=c||3968<=c&&3972>=c||3974<=c&&3975>=c||3981<=c&&3991>=c||3993<=c&&4028>=c||4038==c||4141<=c&&4144>=c||4146<=c&&4151>=c||4153<=c&&4154>=c||4157<=c&&4158>=c||4184<=c&&4185>=c||4190<=c&&4192>=c||4209<=c&&4212>=c||4226==c||4229<=c&&4230>=c||4237==c||4253==c||4957<=c&&4959>=c||5906<=c&&5908>=c||5938<=c&&5940>=c||5970<=c&&5971>=c||6002<=c&&6003>=c||6068<=c&&6069>=c||6071<=
c&&6077>=c||6086==c||6089<=c&&6099>=c||6109==c||6155<=c&&6157>=c||6277<=c&&6278>=c||6313==c||6432<=c&&6434>=c||6439<=c&&6440>=c||6450==c||6457<=c&&6459>=c||6679<=c&&6680>=c||6683==c||6742==c||6744<=c&&6750>=c||6752==c||6754==c||6757<=c&&6764>=c||6771<=c&&6780>=c||6783==c||6832<=c&&6845>=c||6846==c||6912<=c&&6915>=c||6964==c||6966<=c&&6970>=c||6972==c||6978==c||7019<=c&&7027>=c||7040<=c&&7041>=c||7074<=c&&7077>=c||7080<=c&&7081>=c||7083<=c&&7085>=c||7142==c||7144<=c&&7145>=c||7149==c||7151<=c&&7153>=
c||7212<=c&&7219>=c||7222<=c&&7223>=c||7376<=c&&7378>=c||7380<=c&&7392>=c||7394<=c&&7400>=c||7405==c||7412==c||7416<=c&&7417>=c||7616<=c&&7673>=c||7675<=c&&7679>=c||8204==c||8400<=c&&8412>=c||8413<=c&&8416>=c||8417==c||8418<=c&&8420>=c||8421<=c&&8432>=c||11503<=c&&11505>=c||11647==c||11744<=c&&11775>=c||12330<=c&&12333>=c||12334<=c&&12335>=c||12441<=c&&12442>=c||42607==c||42608<=c&&42610>=c||42612<=c&&42621>=c||42654<=c&&42655>=c||42736<=c&&42737>=c||43010==c||43014==c||43019==c||43045<=c&&43046>=
c||43204<=c&&43205>=c||43232<=c&&43249>=c||43302<=c&&43309>=c||43335<=c&&43345>=c||43392<=c&&43394>=c||43443==c||43446<=c&&43449>=c||43452==c||43493==c||43561<=c&&43566>=c||43569<=c&&43570>=c||43573<=c&&43574>=c||43587==c||43596==c||43644==c||43696==c||43698<=c&&43700>=c||43703<=c&&43704>=c||43710<=c&&43711>=c||43713==c||43756<=c&&43757>=c||43766==c||44005==c||44008==c||44013==c||64286==c||65024<=c&&65039>=c||65056<=c&&65071>=c||65438<=c&&65439>=c||66045==c||66272==c||66422<=c&&66426>=c||68097<=c&&
68099>=c||68101<=c&&68102>=c||68108<=c&&68111>=c||68152<=c&&68154>=c||68159==c||68325<=c&&68326>=c||69633==c||69688<=c&&69702>=c||69759<=c&&69761>=c||69811<=c&&69814>=c||69817<=c&&69818>=c||69888<=c&&69890>=c||69927<=c&&69931>=c||69933<=c&&69940>=c||70003==c||70016<=c&&70017>=c||70070<=c&&70078>=c||70090<=c&&70092>=c||70191<=c&&70193>=c||70196==c||70198<=c&&70199>=c||70206==c||70367==c||70371<=c&&70378>=c||70400<=c&&70401>=c||70460==c||70462==c||70464==c||70487==c||70502<=c&&70508>=c||70512<=c&&70516>=
c||70712<=c&&70719>=c||70722<=c&&70724>=c||70726==c||70832==c||70835<=c&&70840>=c||70842==c||70845==c||70847<=c&&70848>=c||70850<=c&&70851>=c||71087==c||71090<=c&&71093>=c||71100<=c&&71101>=c||71103<=c&&71104>=c||71132<=c&&71133>=c||71219<=c&&71226>=c||71229==c||71231<=c&&71232>=c||71339==c||71341==c||71344<=c&&71349>=c||71351==c||71453<=c&&71455>=c||71458<=c&&71461>=c||71463<=c&&71467>=c||72193<=c&&72198>=c||72201<=c&&72202>=c||72243<=c&&72248>=c||72251<=c&&72254>=c||72263==c||72273<=c&&72278>=c||
72281<=c&&72283>=c||72330<=c&&72342>=c||72344<=c&&72345>=c||72752<=c&&72758>=c||72760<=c&&72765>=c||72767==c||72850<=c&&72871>=c||72874<=c&&72880>=c||72882<=c&&72883>=c||72885<=c&&72886>=c||73009<=c&&73014>=c||73018==c||73020<=c&&73021>=c||73023<=c&&73029>=c||73031==c||92912<=c&&92916>=c||92976<=c&&92982>=c||94095<=c&&94098>=c||113821<=c&&113822>=c||119141==c||119143<=c&&119145>=c||119150<=c&&119154>=c||119163<=c&&119170>=c||119173<=c&&119179>=c||119210<=c&&119213>=c||119362<=c&&119364>=c||121344<=
c&&121398>=c||121403<=c&&121452>=c||121461==c||121476==c||121499<=c&&121503>=c||121505<=c&&121519>=c||122880<=c&&122886>=c||122888<=c&&122904>=c||122907<=c&&122913>=c||122915<=c&&122916>=c||122918<=c&&122922>=c||125136<=c&&125142>=c||125252<=c&&125258>=c||917536<=c&&917631>=c||917760<=c&&917999>=c?3:127462<=c&&127487>=c?4:2307==c||2363==c||2366<=c&&2368>=c||2377<=c&&2380>=c||2382<=c&&2383>=c||2434<=c&&2435>=c||2495<=c&&2496>=c||2503<=c&&2504>=c||2507<=c&&2508>=c||2563==c||2622<=c&&2624>=c||2691==
c||2750<=c&&2752>=c||2761==c||2763<=c&&2764>=c||2818<=c&&2819>=c||2880==c||2887<=c&&2888>=c||2891<=c&&2892>=c||3007==c||3009<=c&&3010>=c||3014<=c&&3016>=c||3018<=c&&3020>=c||3073<=c&&3075>=c||3137<=c&&3140>=c||3202<=c&&3203>=c||3262==c||3264<=c&&3265>=c||3267<=c&&3268>=c||3271<=c&&3272>=c||3274<=c&&3275>=c||3330<=c&&3331>=c||3391<=c&&3392>=c||3398<=c&&3400>=c||3402<=c&&3404>=c||3458<=c&&3459>=c||3536<=c&&3537>=c||3544<=c&&3550>=c||3570<=c&&3571>=c||3635==c||3763==c||3902<=c&&3903>=c||3967==c||4145==
c||4155<=c&&4156>=c||4182<=c&&4183>=c||4228==c||6070==c||6078<=c&&6085>=c||6087<=c&&6088>=c||6435<=c&&6438>=c||6441<=c&&6443>=c||6448<=c&&6449>=c||6451<=c&&6456>=c||6681<=c&&6682>=c||6741==c||6743==c||6765<=c&&6770>=c||6916==c||6965==c||6971==c||6973<=c&&6977>=c||6979<=c&&6980>=c||7042==c||7073==c||7078<=c&&7079>=c||7082==c||7143==c||7146<=c&&7148>=c||7150==c||7154<=c&&7155>=c||7204<=c&&7211>=c||7220<=c&&7221>=c||7393==c||7410<=c&&7411>=c||7415==c||43043<=c&&43044>=c||43047==c||43136<=c&&43137>=c||
43188<=c&&43203>=c||43346<=c&&43347>=c||43395==c||43444<=c&&43445>=c||43450<=c&&43451>=c||43453<=c&&43456>=c||43567<=c&&43568>=c||43571<=c&&43572>=c||43597==c||43755==c||43758<=c&&43759>=c||43765==c||44003<=c&&44004>=c||44006<=c&&44007>=c||44009<=c&&44010>=c||44012==c||69632==c||69634==c||69762==c||69808<=c&&69810>=c||69815<=c&&69816>=c||69932==c||70018==c||70067<=c&&70069>=c||70079<=c&&70080>=c||70188<=c&&70190>=c||70194<=c&&70195>=c||70197==c||70368<=c&&70370>=c||70402<=c&&70403>=c||70463==c||70465<=
c&&70468>=c||70471<=c&&70472>=c||70475<=c&&70477>=c||70498<=c&&70499>=c||70709<=c&&70711>=c||70720<=c&&70721>=c||70725==c||70833<=c&&70834>=c||70841==c||70843<=c&&70844>=c||70846==c||70849==c||71088<=c&&71089>=c||71096<=c&&71099>=c||71102==c||71216<=c&&71218>=c||71227<=c&&71228>=c||71230==c||71340==c||71342<=c&&71343>=c||71350==c||71456<=c&&71457>=c||71462==c||72199<=c&&72200>=c||72249==c||72279<=c&&72280>=c||72343==c||72751==c||72766==c||72873==c||72881==c||72884==c||94033<=c&&94078>=c||119142==
c||119149==c?5:4352<=c&&4447>=c||43360<=c&&43388>=c?6:4448<=c&&4519>=c||55216<=c&&55238>=c?7:4520<=c&&4607>=c||55243<=c&&55291>=c?8:44032==c||44060==c||44088==c||44116==c||44144==c||44172==c||44200==c||44228==c||44256==c||44284==c||44312==c||44340==c||44368==c||44396==c||44424==c||44452==c||44480==c||44508==c||44536==c||44564==c||44592==c||44620==c||44648==c||44676==c||44704==c||44732==c||44760==c||44788==c||44816==c||44844==c||44872==c||44900==c||44928==c||44956==c||44984==c||45012==c||45040==c||
45068==c||45096==c||45124==c||45152==c||45180==c||45208==c||45236==c||45264==c||45292==c||45320==c||45348==c||45376==c||45404==c||45432==c||45460==c||45488==c||45516==c||45544==c||45572==c||45600==c||45628==c||45656==c||45684==c||45712==c||45740==c||45768==c||45796==c||45824==c||45852==c||45880==c||45908==c||45936==c||45964==c||45992==c||46020==c||46048==c||46076==c||46104==c||46132==c||46160==c||46188==c||46216==c||46244==c||46272==c||46300==c||46328==c||46356==c||46384==c||46412==c||46440==c||46468==
c||46496==c||46524==c||46552==c||46580==c||46608==c||46636==c||46664==c||46692==c||46720==c||46748==c||46776==c||46804==c||46832==c||46860==c||46888==c||46916==c||46944==c||46972==c||47E3==c||47028==c||47056==c||47084==c||47112==c||47140==c||47168==c||47196==c||47224==c||47252==c||47280==c||47308==c||47336==c||47364==c||47392==c||47420==c||47448==c||47476==c||47504==c||47532==c||47560==c||47588==c||47616==c||47644==c||47672==c||47700==c||47728==c||47756==c||47784==c||47812==c||47840==c||47868==c||
47896==c||47924==c||47952==c||47980==c||48008==c||48036==c||48064==c||48092==c||48120==c||48148==c||48176==c||48204==c||48232==c||48260==c||48288==c||48316==c||48344==c||48372==c||48400==c||48428==c||48456==c||48484==c||48512==c||48540==c||48568==c||48596==c||48624==c||48652==c||48680==c||48708==c||48736==c||48764==c||48792==c||48820==c||48848==c||48876==c||48904==c||48932==c||48960==c||48988==c||49016==c||49044==c||49072==c||49100==c||49128==c||49156==c||49184==c||49212==c||49240==c||49268==c||49296==
c||49324==c||49352==c||49380==c||49408==c||49436==c||49464==c||49492==c||49520==c||49548==c||49576==c||49604==c||49632==c||49660==c||49688==c||49716==c||49744==c||49772==c||49800==c||49828==c||49856==c||49884==c||49912==c||49940==c||49968==c||49996==c||50024==c||50052==c||50080==c||50108==c||50136==c||50164==c||50192==c||50220==c||50248==c||50276==c||50304==c||50332==c||50360==c||50388==c||50416==c||50444==c||50472==c||50500==c||50528==c||50556==c||50584==c||50612==c||50640==c||50668==c||50696==c||
50724==c||50752==c||50780==c||50808==c||50836==c||50864==c||50892==c||50920==c||50948==c||50976==c||51004==c||51032==c||51060==c||51088==c||51116==c||51144==c||51172==c||51200==c||51228==c||51256==c||51284==c||51312==c||51340==c||51368==c||51396==c||51424==c||51452==c||51480==c||51508==c||51536==c||51564==c||51592==c||51620==c||51648==c||51676==c||51704==c||51732==c||51760==c||51788==c||51816==c||51844==c||51872==c||51900==c||51928==c||51956==c||51984==c||52012==c||52040==c||52068==c||52096==c||52124==
c||52152==c||52180==c||52208==c||52236==c||52264==c||52292==c||52320==c||52348==c||52376==c||52404==c||52432==c||52460==c||52488==c||52516==c||52544==c||52572==c||52600==c||52628==c||52656==c||52684==c||52712==c||52740==c||52768==c||52796==c||52824==c||52852==c||52880==c||52908==c||52936==c||52964==c||52992==c||53020==c||53048==c||53076==c||53104==c||53132==c||53160==c||53188==c||53216==c||53244==c||53272==c||53300==c||53328==c||53356==c||53384==c||53412==c||53440==c||53468==c||53496==c||53524==c||
53552==c||53580==c||53608==c||53636==c||53664==c||53692==c||53720==c||53748==c||53776==c||53804==c||53832==c||53860==c||53888==c||53916==c||53944==c||53972==c||54E3==c||54028==c||54056==c||54084==c||54112==c||54140==c||54168==c||54196==c||54224==c||54252==c||54280==c||54308==c||54336==c||54364==c||54392==c||54420==c||54448==c||54476==c||54504==c||54532==c||54560==c||54588==c||54616==c||54644==c||54672==c||54700==c||54728==c||54756==c||54784==c||54812==c||54840==c||54868==c||54896==c||54924==c||54952==
c||54980==c||55008==c||55036==c||55064==c||55092==c||55120==c||55148==c||55176==c?9:44033<=c&&44059>=c||44061<=c&&44087>=c||44089<=c&&44115>=c||44117<=c&&44143>=c||44145<=c&&44171>=c||44173<=c&&44199>=c||44201<=c&&44227>=c||44229<=c&&44255>=c||44257<=c&&44283>=c||44285<=c&&44311>=c||44313<=c&&44339>=c||44341<=c&&44367>=c||44369<=c&&44395>=c||44397<=c&&44423>=c||44425<=c&&44451>=c||44453<=c&&44479>=c||44481<=c&&44507>=c||44509<=c&&44535>=c||44537<=c&&44563>=c||44565<=c&&44591>=c||44593<=c&&44619>=
c||44621<=c&&44647>=c||44649<=c&&44675>=c||44677<=c&&44703>=c||44705<=c&&44731>=c||44733<=c&&44759>=c||44761<=c&&44787>=c||44789<=c&&44815>=c||44817<=c&&44843>=c||44845<=c&&44871>=c||44873<=c&&44899>=c||44901<=c&&44927>=c||44929<=c&&44955>=c||44957<=c&&44983>=c||44985<=c&&45011>=c||45013<=c&&45039>=c||45041<=c&&45067>=c||45069<=c&&45095>=c||45097<=c&&45123>=c||45125<=c&&45151>=c||45153<=c&&45179>=c||45181<=c&&45207>=c||45209<=c&&45235>=c||45237<=c&&45263>=c||45265<=c&&45291>=c||45293<=c&&45319>=c||
45321<=c&&45347>=c||45349<=c&&45375>=c||45377<=c&&45403>=c||45405<=c&&45431>=c||45433<=c&&45459>=c||45461<=c&&45487>=c||45489<=c&&45515>=c||45517<=c&&45543>=c||45545<=c&&45571>=c||45573<=c&&45599>=c||45601<=c&&45627>=c||45629<=c&&45655>=c||45657<=c&&45683>=c||45685<=c&&45711>=c||45713<=c&&45739>=c||45741<=c&&45767>=c||45769<=c&&45795>=c||45797<=c&&45823>=c||45825<=c&&45851>=c||45853<=c&&45879>=c||45881<=c&&45907>=c||45909<=c&&45935>=c||45937<=c&&45963>=c||45965<=c&&45991>=c||45993<=c&&46019>=c||46021<=
c&&46047>=c||46049<=c&&46075>=c||46077<=c&&46103>=c||46105<=c&&46131>=c||46133<=c&&46159>=c||46161<=c&&46187>=c||46189<=c&&46215>=c||46217<=c&&46243>=c||46245<=c&&46271>=c||46273<=c&&46299>=c||46301<=c&&46327>=c||46329<=c&&46355>=c||46357<=c&&46383>=c||46385<=c&&46411>=c||46413<=c&&46439>=c||46441<=c&&46467>=c||46469<=c&&46495>=c||46497<=c&&46523>=c||46525<=c&&46551>=c||46553<=c&&46579>=c||46581<=c&&46607>=c||46609<=c&&46635>=c||46637<=c&&46663>=c||46665<=c&&46691>=c||46693<=c&&46719>=c||46721<=c&&
46747>=c||46749<=c&&46775>=c||46777<=c&&46803>=c||46805<=c&&46831>=c||46833<=c&&46859>=c||46861<=c&&46887>=c||46889<=c&&46915>=c||46917<=c&&46943>=c||46945<=c&&46971>=c||46973<=c&&46999>=c||47001<=c&&47027>=c||47029<=c&&47055>=c||47057<=c&&47083>=c||47085<=c&&47111>=c||47113<=c&&47139>=c||47141<=c&&47167>=c||47169<=c&&47195>=c||47197<=c&&47223>=c||47225<=c&&47251>=c||47253<=c&&47279>=c||47281<=c&&47307>=c||47309<=c&&47335>=c||47337<=c&&47363>=c||47365<=c&&47391>=c||47393<=c&&47419>=c||47421<=c&&47447>=
c||47449<=c&&47475>=c||47477<=c&&47503>=c||47505<=c&&47531>=c||47533<=c&&47559>=c||47561<=c&&47587>=c||47589<=c&&47615>=c||47617<=c&&47643>=c||47645<=c&&47671>=c||47673<=c&&47699>=c||47701<=c&&47727>=c||47729<=c&&47755>=c||47757<=c&&47783>=c||47785<=c&&47811>=c||47813<=c&&47839>=c||47841<=c&&47867>=c||47869<=c&&47895>=c||47897<=c&&47923>=c||47925<=c&&47951>=c||47953<=c&&47979>=c||47981<=c&&48007>=c||48009<=c&&48035>=c||48037<=c&&48063>=c||48065<=c&&48091>=c||48093<=c&&48119>=c||48121<=c&&48147>=c||
48149<=c&&48175>=c||48177<=c&&48203>=c||48205<=c&&48231>=c||48233<=c&&48259>=c||48261<=c&&48287>=c||48289<=c&&48315>=c||48317<=c&&48343>=c||48345<=c&&48371>=c||48373<=c&&48399>=c||48401<=c&&48427>=c||48429<=c&&48455>=c||48457<=c&&48483>=c||48485<=c&&48511>=c||48513<=c&&48539>=c||48541<=c&&48567>=c||48569<=c&&48595>=c||48597<=c&&48623>=c||48625<=c&&48651>=c||48653<=c&&48679>=c||48681<=c&&48707>=c||48709<=c&&48735>=c||48737<=c&&48763>=c||48765<=c&&48791>=c||48793<=c&&48819>=c||48821<=c&&48847>=c||48849<=
c&&48875>=c||48877<=c&&48903>=c||48905<=c&&48931>=c||48933<=c&&48959>=c||48961<=c&&48987>=c||48989<=c&&49015>=c||49017<=c&&49043>=c||49045<=c&&49071>=c||49073<=c&&49099>=c||49101<=c&&49127>=c||49129<=c&&49155>=c||49157<=c&&49183>=c||49185<=c&&49211>=c||49213<=c&&49239>=c||49241<=c&&49267>=c||49269<=c&&49295>=c||49297<=c&&49323>=c||49325<=c&&49351>=c||49353<=c&&49379>=c||49381<=c&&49407>=c||49409<=c&&49435>=c||49437<=c&&49463>=c||49465<=c&&49491>=c||49493<=c&&49519>=c||49521<=c&&49547>=c||49549<=c&&
49575>=c||49577<=c&&49603>=c||49605<=c&&49631>=c||49633<=c&&49659>=c||49661<=c&&49687>=c||49689<=c&&49715>=c||49717<=c&&49743>=c||49745<=c&&49771>=c||49773<=c&&49799>=c||49801<=c&&49827>=c||49829<=c&&49855>=c||49857<=c&&49883>=c||49885<=c&&49911>=c||49913<=c&&49939>=c||49941<=c&&49967>=c||49969<=c&&49995>=c||49997<=c&&50023>=c||50025<=c&&50051>=c||50053<=c&&50079>=c||50081<=c&&50107>=c||50109<=c&&50135>=c||50137<=c&&50163>=c||50165<=c&&50191>=c||50193<=c&&50219>=c||50221<=c&&50247>=c||50249<=c&&50275>=
c||50277<=c&&50303>=c||50305<=c&&50331>=c||50333<=c&&50359>=c||50361<=c&&50387>=c||50389<=c&&50415>=c||50417<=c&&50443>=c||50445<=c&&50471>=c||50473<=c&&50499>=c||50501<=c&&50527>=c||50529<=c&&50555>=c||50557<=c&&50583>=c||50585<=c&&50611>=c||50613<=c&&50639>=c||50641<=c&&50667>=c||50669<=c&&50695>=c||50697<=c&&50723>=c||50725<=c&&50751>=c||50753<=c&&50779>=c||50781<=c&&50807>=c||50809<=c&&50835>=c||50837<=c&&50863>=c||50865<=c&&50891>=c||50893<=c&&50919>=c||50921<=c&&50947>=c||50949<=c&&50975>=c||
50977<=c&&51003>=c||51005<=c&&51031>=c||51033<=c&&51059>=c||51061<=c&&51087>=c||51089<=c&&51115>=c||51117<=c&&51143>=c||51145<=c&&51171>=c||51173<=c&&51199>=c||51201<=c&&51227>=c||51229<=c&&51255>=c||51257<=c&&51283>=c||51285<=c&&51311>=c||51313<=c&&51339>=c||51341<=c&&51367>=c||51369<=c&&51395>=c||51397<=c&&51423>=c||51425<=c&&51451>=c||51453<=c&&51479>=c||51481<=c&&51507>=c||51509<=c&&51535>=c||51537<=c&&51563>=c||51565<=c&&51591>=c||51593<=c&&51619>=c||51621<=c&&51647>=c||51649<=c&&51675>=c||51677<=
c&&51703>=c||51705<=c&&51731>=c||51733<=c&&51759>=c||51761<=c&&51787>=c||51789<=c&&51815>=c||51817<=c&&51843>=c||51845<=c&&51871>=c||51873<=c&&51899>=c||51901<=c&&51927>=c||51929<=c&&51955>=c||51957<=c&&51983>=c||51985<=c&&52011>=c||52013<=c&&52039>=c||52041<=c&&52067>=c||52069<=c&&52095>=c||52097<=c&&52123>=c||52125<=c&&52151>=c||52153<=c&&52179>=c||52181<=c&&52207>=c||52209<=c&&52235>=c||52237<=c&&52263>=c||52265<=c&&52291>=c||52293<=c&&52319>=c||52321<=c&&52347>=c||52349<=c&&52375>=c||52377<=c&&
52403>=c||52405<=c&&52431>=c||52433<=c&&52459>=c||52461<=c&&52487>=c||52489<=c&&52515>=c||52517<=c&&52543>=c||52545<=c&&52571>=c||52573<=c&&52599>=c||52601<=c&&52627>=c||52629<=c&&52655>=c||52657<=c&&52683>=c||52685<=c&&52711>=c||52713<=c&&52739>=c||52741<=c&&52767>=c||52769<=c&&52795>=c||52797<=c&&52823>=c||52825<=c&&52851>=c||52853<=c&&52879>=c||52881<=c&&52907>=c||52909<=c&&52935>=c||52937<=c&&52963>=c||52965<=c&&52991>=c||52993<=c&&53019>=c||53021<=c&&53047>=c||53049<=c&&53075>=c||53077<=c&&53103>=
c||53105<=c&&53131>=c||53133<=c&&53159>=c||53161<=c&&53187>=c||53189<=c&&53215>=c||53217<=c&&53243>=c||53245<=c&&53271>=c||53273<=c&&53299>=c||53301<=c&&53327>=c||53329<=c&&53355>=c||53357<=c&&53383>=c||53385<=c&&53411>=c||53413<=c&&53439>=c||53441<=c&&53467>=c||53469<=c&&53495>=c||53497<=c&&53523>=c||53525<=c&&53551>=c||53553<=c&&53579>=c||53581<=c&&53607>=c||53609<=c&&53635>=c||53637<=c&&53663>=c||53665<=c&&53691>=c||53693<=c&&53719>=c||53721<=c&&53747>=c||53749<=c&&53775>=c||53777<=c&&53803>=c||
53805<=c&&53831>=c||53833<=c&&53859>=c||53861<=c&&53887>=c||53889<=c&&53915>=c||53917<=c&&53943>=c||53945<=c&&53971>=c||53973<=c&&53999>=c||54001<=c&&54027>=c||54029<=c&&54055>=c||54057<=c&&54083>=c||54085<=c&&54111>=c||54113<=c&&54139>=c||54141<=c&&54167>=c||54169<=c&&54195>=c||54197<=c&&54223>=c||54225<=c&&54251>=c||54253<=c&&54279>=c||54281<=c&&54307>=c||54309<=c&&54335>=c||54337<=c&&54363>=c||54365<=c&&54391>=c||54393<=c&&54419>=c||54421<=c&&54447>=c||54449<=c&&54475>=c||54477<=c&&54503>=c||54505<=
c&&54531>=c||54533<=c&&54559>=c||54561<=c&&54587>=c||54589<=c&&54615>=c||54617<=c&&54643>=c||54645<=c&&54671>=c||54673<=c&&54699>=c||54701<=c&&54727>=c||54729<=c&&54755>=c||54757<=c&&54783>=c||54785<=c&&54811>=c||54813<=c&&54839>=c||54841<=c&&54867>=c||54869<=c&&54895>=c||54897<=c&&54923>=c||54925<=c&&54951>=c||54953<=c&&54979>=c||54981<=c&&55007>=c||55009<=c&&55035>=c||55037<=c&&55063>=c||55065<=c&&55091>=c||55093<=c&&55119>=c||55121<=c&&55147>=c||55149<=c&&55175>=c||55177<=c&&55203>=c?10:9757==
c||9977==c||9994<=c&&9997>=c||127877==c||127938<=c&&127940>=c||127943==c||127946<=c&&127948>=c||128066<=c&&128067>=c||128070<=c&&128080>=c||128110==c||128112<=c&&128120>=c||128124==c||128129<=c&&128131>=c||128133<=c&&128135>=c||128170==c||128372<=c&&128373>=c||128378==c||128400==c||128405<=c&&128406>=c||128581<=c&&128583>=c||128587<=c&&128591>=c||128675==c||128692<=c&&128694>=c||128704==c||128716==c||129304<=c&&129308>=c||129310<=c&&129311>=c||129318==c||129328<=c&&129337>=c||129341<=c&&129342>=c||
129489<=c&&129501>=c?13:127995<=c&&127999>=c?14:8205==c?15:9792==c||9794==c||9877<=c&&9878>=c||9992==c||10084==c||127752==c||127806==c||127859==c||127891==c||127908==c||127912==c||127979==c||127981==c||128139==c||128187<=c&&128188>=c||128295==c||128300==c||128488==c||128640==c||128658==c?16:128102<=c&&128105>=c?17:11}this.YN=function(c,e){void 0===e&&(e=0);if(0>e)return 0;if(e>=c.length-1)return c.length;var g=d(a(c,e)),k=[];for(e+=1;e<c.length;e++){var l=c,n=e-1;if(!(55296<=l.charCodeAt(n)&&56319>=
l.charCodeAt(n)&&56320<=l.charCodeAt(n+1)&&57343>=l.charCodeAt(n+1))){l=d(a(c,e));if(b(g,k,l))return e;k.push(l)}}return c.length};this.M4=function(c){for(var e=[],g=0,k;(k=this.YN(c,g))<c.length;)e.push(c.slice(g,k)),g=k;g<c.length&&e.push(c.slice(g));return e};this.h4=function(c){var e=0,g={next:function(){var k;if((k=this.YN(c,e))<c.length){var l=c.slice(e,k);e=k;return{value:l,done:!1}}return e<c.length?(l=c.slice(e),e=c.length,{value:l,done:!1}):{value:void 0,done:!0}}.bind(this)};"undefined"!==
typeof Symbol&&Symbol.iterator&&(g[Symbol.iterator]=function(){return g});return g};this.C3=function(c){for(var e=0,g=0,k;(k=this.YN(c,g))<c.length;)g=k,e++;g<c.length&&e++;return e};return this};"use strict";function da(a,b,d,c){var e=b[0]-a[0];b=b[1]-a[1];var g=c[0]-d[0],k=c[1]-d[1];if(0===g*b-k*e)return!1;c=(e*(d[1]-a[1])+b*(a[0]-d[0]))/(g*b-k*e);a=(g*(a[1]-d[1])+k*(d[0]-a[0]))/(k*e-g*b);return 0<=c&&1>=c&&0<=a&&1>=a}function ea(a,b,d){return(b[0]-a[0])*(d[1]-a[1])-(d[0]-a[0])*(b[1]-a[1])}
var fa=[],ha=[];function ja(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a}function I(a,b){var d=a.length;return a[0>b?b%d+d:b%d]}function ka(a,b,d,c){for(;d<c;d++)a.push(b[d])}var la=[],ma=[];function na(a,b,d,c){c=c||[];c.length=0;if(b<d)for(var e=b;e<=d;e++)c.push(a[e]);else{for(e=0;e<=d;e++)c.push(a[e]);for(e=b;e<a.length;e++)c.push(a[e])}return c}
function qa(a){for(var b=[],d,c,e=[],g=Number.MAX_VALUE,k=0;k<a.length;++k)if(0>ea(I(a,k-1),I(a,k),I(a,k+1)))for(var l=0;l<a.length;++l){a:{c=a;var n=k,p=l;if(0<=ea(I(c,n+1),I(c,n),I(c,p))&&0>=ea(I(c,n-1),I(c,n),I(c,p)))d=!1;else{d=ja(I(c,n),I(c,p));for(var r=0;r!==c.length;++r)if((r+1)%c.length!==n&&r!==n&&0<=ea(I(c,n),I(c,p),I(c,r+1))&&0>=ea(I(c,n),I(c,p),I(c,r))){la[0]=I(c,n);la[1]=I(c,p);ma[0]=I(c,r);ma[1]=I(c,r+1);var w=la;var x=ma;var z=[0,0];var F=w[1][1]-w[0][1];var D=w[0][0]-w[1][0];var G=
F*w[0][0]+D*w[0][1];var J=x[1][1]-x[0][1];w=x[0][0]-x[1][0];var M=J*x[0][0]+w*x[0][1];x=F*w-J*D;0>=Math.abs(x-0)||(z[0]=(w*G-D*M)/x,z[1]=(F*M-J*G)/x);D=z;if(ja(I(c,n),D)<d){d=!1;break a}}d=!0}}if(d){d=qa(na(a,k,l,e));c=qa(na(a,l,k,e));for(n=0;n<c.length;n++)d.push(c[n]);d.length<g&&(b=d,g=d.length,b.push([I(a,k),I(a,l)]))}}return b}
function ra(a,b){if(0===b.length)return[a];if(b instanceof Array&&b.length&&b[0]instanceof Array&&2===b[0].length&&b[0][0]instanceof Array){a=[a];for(var d=0;d<b.length;d++)for(var c=b[d],e=0;e<a.length;e++){var g=ra(a[e],c);if(g){a.splice(e,1);a.push(g[0],g[1]);break}}return a}c=b;d=a.indexOf(c[0]);e=a.indexOf(c[1]);return-1!==d&&-1!==e?[na(a,d,e),na(a,e,d)]:!1}
function ua(a,b,d,c){var e=b[1]-a[1];b=a[0]-b[0];a=e*a[0]+b*a[1];var g=c[1]-d[1];c=d[0]-c[0];d=g*d[0]+c*d[1];var k=e*c-g*b;return 0>=Math.abs(k-0)?[0,0]:[(c*a-b*d)/k,(e*d-g*a)/k]}
function wa(a,b,d,c,e,g,k){g=g||100;k=k||0;e=e||25;b="undefined"!==typeof b?b:[];d=d||[];c=c||[];var l=[0,0],n=[0,0],p=[0,0],r,w=0,x=0,z=0,F=[],D=[];if(3>a.length)return b;k++;if(k>g)return console.warn("quickDecomp: max level ("+g+") reached."),b;for(var G=0;G<a.length;++G)if(0>ea(I(a,G-1),I(a,G),I(a,G+1))){d.push(a[G]);var J=r=Number.MAX_VALUE;for(var M=0;M<a.length;++M){if(0<ea(I(a,G-1),I(a,G),I(a,M))&&0>=ea(I(a,G-1),I(a,G),I(a,M-1))&&(p=ua(I(a,G-1),I(a,G),I(a,M),I(a,M-1)),0>ea(I(a,G+1),I(a,G),
p))){var P=ja(a[G],p);P<r&&(r=P,n=p,x=M)}0<ea(I(a,G+1),I(a,G),I(a,M+1))&&0>=ea(I(a,G+1),I(a,G),I(a,M))&&(p=ua(I(a,G+1),I(a,G),I(a,M),I(a,M+1)),0<ea(I(a,G-1),I(a,G),p)&&(P=ja(a[G],p),P<J&&(J=P,l=p,w=M)))}if(x===(w+1)%a.length)p[0]=(n[0]+l[0])/2,p[1]=(n[1]+l[1])/2,c.push(p),G<w?(ka(F,a,G,w+1),F.push(p),D.push(p),0!==x&&ka(D,a,x,a.length),ka(D,a,0,G+1)):(0!==G&&ka(F,a,G,a.length),ka(F,a,0,w+1),F.push(p),D.push(p),ka(D,a,x,G+1));else{x>w&&(w+=a.length);l=Number.MAX_VALUE;if(w<x)return b;for(M=x;M<=w;++M)if(0<=
ea(I(a,G-1),I(a,G),I(a,M))&&0>=ea(I(a,G+1),I(a,G),I(a,M))){P=ja(I(a,G),I(a,M));if(x=P<l)a:{for(x=0;x!==a.length;++x)if(x!==G&&x!==M&&(x+1)%a.length!==G&&(x+1)%a.length!==M&&da(I(a,G),I(a,M),I(a,x),I(a,x+1))){x=!1;break a}x=!0}x&&(l=P,z=M%a.length)}G<z?(ka(F,a,G,z+1),0!==z&&ka(D,a,z,a.length),ka(D,a,0,G+1)):(0!==G&&ka(F,a,G,a.length),ka(F,a,0,z+1),ka(D,a,z,G+1))}F.length<D.length?(wa(F,b,d,c,e,g,k),wa(D,b,d,c,e,g,k)):(wa(D,b,d,c,e,g,k),wa(F,b,d,c,e,g,k));return b}b.push(a);return b}
self.yha={Hfa:function(a){var b=qa(a);return 0<b.length?ra(a,b):[a]},Dha:wa,Bga:function(a){var b;for(b=0;b<a.length-1;b++)for(var d=0;d<b-1;d++)if(da(a[b],a[b+1],a[d],a[d+1]))return!1;for(b=1;b<a.length-2;b++)if(da(a[0],a[a.length-1],a[b],a[b+1]))return!1;return!0},Iha:function(a,b){for(var d=0,c=a.length-1;3<a.length&&0<=c;--c){var e=I(a,c-1);var g=I(a,c),k=I(a,c+1),l=b;l?(fa[0]=g[0]-e[0],fa[1]=g[1]-e[1],ha[0]=k[0]-g[0],ha[1]=k[1]-g[1],e=Math.acos((fa[0]*ha[0]+fa[1]*ha[1])/(Math.sqrt(fa[0]*fa[0]+
fa[1]*fa[1])*Math.sqrt(ha[0]*ha[0]+ha[1]*ha[1])))<l):e=0===ea(e,g,k);e&&(a.splice(c%a.length,1),d++)}return d},Jha:function(a,b){for(var d=a.length-1;1<=d;--d)for(var c=a[d],e=d-1;0<=e;--e){var g=c,k=a[e];Math.abs(g[0]-k[0])<=(b||0)&&Math.abs(g[1]-k[1])<=(b||0)&&a.splice(d,1)}},cha:function(a){for(var b=0,d=1;d<a.length;++d)if(a[d][1]<a[b][1]||a[d][1]===a[b][1]&&a[d][0]>a[b][0])b=d;if(0<ea(I(a,b-1),I(a,b),I(a,b+1)))return!1;b=[];d=a.length;for(var c=0;c!==d;c++)b.push(a.pop());for(c=0;c!==d;c++)a[c]=
b[c];return!0}};"use strict";const xa=Symbol("Construct internal API token");let ya=14;function za(){if(0>=ya)throw Error("cannot obtain internal API token");--ya;return xa}const Aa=self.A=class{constructor(){throw TypeError("static class can't be instantiated");}};Aa.VA=!1;Aa.JN=!1;Aa.hardwareConcurrency=navigator.hardwareConcurrency||2;self.fg={};"use strict";const Ba=self.A;
Ba.pQ=class{constructor(a){this.W2=a;this.Ba=new Map;a=this.W2;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const d of a)if(d)if(d.includes("=")){var b=d.indexOf("=");a=decodeURIComponent(d.substring(0,b));b=decodeURIComponent(d.substring(b+1));this.Ba.set(a,b)}else this.Ba.set(d,null)}gx(a){return this.Ba.has(a)}U(a){a=this.Ba.get(a);return"undefined"===typeof a?null:a}};Ba.pC=new Ba.pQ(location.search);Ba.C9=new Ba.pQ(location.hash);Ba.pC.gx("perf")&&(Ba.LN=!0);Ba.pC.U("mode");
"use strict";const K=self.A;K.W={Md:"(unknown)",Sq:"(unknown)",qb:"(unknown)",rh:"(unknown)",QG:NaN,qh:"(unknown)",Em:"browser",vH:!0,yo:!1,GY:!1,KY:!1,LX:async()=>{}};const Ca=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]);function Da(a){const b=parseFloat(a),d=Ca.get(b);return d?d:13<=b?"11":"NT "+a}const Ea=navigator.userAgent,Fa=navigator.userAgentData;
if(Fa&&0<Fa.brands.length){K.W.Md=Fa.platform;K.W.yo=Fa.mobile;K.W.vH=!K.W.yo;const a=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),b=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);function d(e){let g="",k="",l="",n="";for(const p of e)e=a.get(p.brand),!g&&e&&(g=e,k=p.version),e=b.get(p.brand),!l&&e&&(l=e,n=p.version);g||"Chromium"!==l||(K.W.qb=
"Chromium",K.W.rh=n);K.W.qb=g||"(unknown)";K.W.rh=k||"(unknown)";K.W.qh=l||"(unknown)"}d(Fa.brands);let c=!1;K.W.LX=async()=>{if(!c)try{const e=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);d(e.fullVersionList);K.W.Sq="Windows"===K.W.Md?Da(e.platformVersion):e.platformVersion;c=!0}catch(e){console.warn("Failed to get detailed user agent information: ",e)}}}else{function a(p,r){p=Array.isArray(p)?p:[p];for(const w of p)if(p=w.exec(Ea)){r(p);break}}a(/windows\s+nt\s+([\d\.]+)/i,
p=>{K.W.Md="Windows";K.W.Sq=Da(p[1])});a(/mac\s+os\s+x\s+([\d\._]+)/i,p=>{K.W.Md="macOS";K.W.Sq=p[1].replace(/_/g,".")});a(/CrOS/,()=>{K.W.Md="Chrome OS"});a(/linux|openbsd|freebsd|netbsd/i,()=>{K.W.Md="Linux"});a(/android/i,()=>{K.W.Md="Android"});a(/android\s+([\d\.]+)/i,p=>{K.W.Md="Android";K.W.Sq=p[1]});"(unknown)"===K.W.Md&&(a(/(iphone|ipod|ipad)/i,()=>{K.W.Md="iOS"}),a([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],p=>{K.W.Md="iOS";K.W.Sq=p[1].replace(/_/g,".")}));const b=/chrome\//i.test(Ea),
d=/chromium\//i.test(Ea),c=/edg\//i.test(Ea),e=/OPR\//.test(Ea),g=/nwjs/i.test(Ea),k=/safari\//i.test(Ea),l=/webkit/i.test(Ea);c||e||a(/chrome\/([\d\.]+)/i,p=>{K.W.qb="Chrome";K.W.rh=p[1];K.W.qh="Chromium"});a(/edg\/([\d\.]+)/i,p=>{K.W.qb="Edge";K.W.rh=p[1];K.W.qh="Chromium"});a(/OPR\/([\d\.]+)/,p=>{K.W.qb="Opera";K.W.rh=p[1];K.W.qh="Chromium"});a(/chromium\/([\d\.]+)/i,p=>{K.W.qb="Chromium";K.W.rh=p[1];K.W.qh="Chromium"});a(/nwjs\/[0-9.]+/i,p=>{K.W.qb="NW.js";K.W.rh=p[1];K.W.qh="Chromium";K.W.Em=
"nwjs"});a(/firefox\/([\d\.]+)/i,p=>{K.W.qb="Firefox";K.W.rh=p[1];K.W.qh="Gecko"});!k||b||d||c||e||g||(K.W.qb="Safari",K.W.qh="WebKit",a(/version\/([\d\.]+)/i,p=>{K.W.rh=p[1]}),a(/crios\/([\d\.]+)/i,p=>{K.W.qb="Chrome for iOS";K.W.rh=p[1]}),a(/fxios\/([\d\.]+)/i,p=>{K.W.qb="Firefox for iOS";K.W.rh=p[1]}),a(/edgios\/([\d\.]+)/i,p=>{K.W.qb="Edge for iOS";K.W.rh=p[1]}));"(unknown)"===K.W.qh&&l&&(K.W.qh="WebKit");"Android"===K.W.Md&&"Safari"===K.W.qb&&(K.W.qb="Stock");const n=(new Set(["Windows","macOS",
"Linux","Chrome OS"])).has(K.W.Md)||"nwjs"===K.W.Em;K.W.vH=n;K.W.yo=!n}"Chrome"===K.W.qb&&"browser"===K.W.Em&&/wv\)/.test(Ea)&&(K.W.Em="webview");"nwjs"!==K.W.Em&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(K.W.Em="webapp");K.W.QG=parseFloat(K.W.rh);"macOS"===K.W.Md&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&(K.W.Md="iOS",K.W.Sq=K.W.rh,K.W.vH=!1,K.W.yo=!0,K.W.KY=!0);K.W.GY="macOS"===K.W.Md||"iOS"===K.W.Md;
"use strict";const Ga=new Map,Ha="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,Ia="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function Ka(a){return new Promise((b,d)=>{a.onsuccess=()=>b(a.result);a.onerror=()=>d(a.error)})}function La(a){return new Promise((b,d)=>{a.oncomplete=()=>b();a.onerror=()=>d(a.error);a.onabort=()=>d(a.error)})}function Ma(a,b){return Na(a,b)}function Oa(a,b){return Na(a,b,!0)}
async function Na(a,b,d=!1,c=!0){const e=await Pa(a);try{const g=e.transaction(["keyvaluepairs"],d?"readwrite":"readonly");return b(g)}catch(g){if(c&&"InvalidStateError"===g.name)return Ga.delete(a),Na(a,b,d,!1);throw g;}}function Pa(a){Qa(a);let b=Ga.get(a);b instanceof Promise||(b=Ra(a),Ga.set(a,b),b.catch(()=>Ga.delete(a)));return b}
async function Ra(a){Qa(a);const b=indexedDB.open(a,2);b.addEventListener("upgradeneeded",d=>{try{d.target.result.createObjectStore("keyvaluepairs")}catch(c){console.error(`Failed to create objectstore for database ${a}`,c)}});return Ka(b)}function Qa(a){if("string"!==typeof a)throw new TypeError("expected string");}
function Ta(a,b){const d=a.objectStore("keyvaluepairs").openCursor();return new Promise(c=>{const e=[];d.onsuccess=g=>{if(g=g.target.result){switch(b){case "entries":e.push([g.key,g.value]);break;case "keys":e.push(g.key);break;case "values":e.push(g.value)}g.continue()}else c(e)}})}
class Ua{constructor(a){Qa(a);this.name=a}async ready(){await Pa(this.name)}set(a,b){Qa(a);return Oa(this.name,async d=>{var c=d.objectStore("keyvaluepairs").put(b,a);c=Ka(c);d=La(d);await Promise.all([d,c])})}get(a){Qa(a);return Ma(this.name,async b=>{var d=b.objectStore("keyvaluepairs").get(a);d=Ka(d);b=La(b);[,b]=await Promise.all([b,d]);return b})}delete(a){Qa(a);return Oa(this.name,async b=>{var d=b.objectStore("keyvaluepairs").delete(a);d=Ka(d);b=La(b);await Promise.all([b,d])})}clear(){return Oa(this.name,
async a=>{var b=a.objectStore("keyvaluepairs").clear();b=Ka(b);a=La(a);await Promise.all([a,b])})}keys(){return Ma(this.name,async a=>{if(Ia){var b=a.objectStore("keyvaluepairs").getAllKeys();b=Ka(b)}else b=Ta(a,"keys");a=La(a);[,a]=await Promise.all([a,b]);return a})}values(){return Ma(this.name,async a=>{if(Ha){var b=a.objectStore("keyvaluepairs").getAll();b=Ka(b)}else b=Ta(a,"values");a=La(a);[,a]=await Promise.all([a,b]);return a})}entries(){return Ma(this.name,async a=>{var b=Ta(a,"entries");
a=La(a);[,b]=await Promise.all([a,b]);return b})}}self.VY=Ua;"use strict";const Va=self.VY,Wa=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],Xa=new WeakMap;let Ya=!1;"undefined"===typeof indexedDB&&(Ya=!0,console.warn("Unable to use local storage because indexedDB is not defined"));
function $a(a){throw Error(`"${a}" is not implemented`);}function ab(a){if("function"===typeof a)throw Error("localforage callback API is not implemented; please use the promise API instead");}function bb(a){return"object"===typeof a?new Promise(b=>{const {port1:d,port2:c}=new MessageChannel;c.onmessage=e=>b(e.data);d.postMessage(a)}):Promise.resolve(a)}
function cb(a){if(!Ya)for(const b of Wa)if(a&&b.test(a.message)){console.error("Unable to use local storage, reverting to in-memory store: ",a,a.message);Ya=!0;break}}async function db(a,b){a=Xa.get(a).get(b);a=await bb(a);return"undefined"===typeof a?null:a}async function jb(a,b,d){d=await bb(d);Xa.get(a).set(b,d)}
class kb{constructor(a){this.$=a;Xa.set(this,new Map)}async getItem(a,b){ab(b);if(Ya)return await db(this,a);let d;try{d=await this.$.get(a)}catch(c){cb(c);if(Ya)return await db(this,a);console.error(`Error reading '${a}' from storage, returning null: `,c);return null}return"undefined"===typeof d?null:d}async setItem(a,b,d){ab(d);"undefined"===typeof b&&(b=null);if(Ya)await jb(this,a,b);else try{await this.$.set(a,b)}catch(c){if(cb(c),Ya)await jb(this,a,b);else throw c;}}async removeItem(a,b){ab(b);
if(Ya)Xa.get(this).delete(a);else try{await this.$.delete(a)}catch(d){cb(d),Ya?Xa.get(this).delete(a):console.error(`Error removing '${a}' from storage: `,d)}}async clear(a){ab(a);if(Ya)Xa.get(this).clear();else try{await this.$.clear()}catch(b){cb(b),Ya?Xa.get(this).clear():console.error("Error clearing storage: ",b)}}async keys(a){ab(a);if(Ya)return Array.from(Xa.get(this).keys());a=[];try{a=await this.$.keys()}catch(b){cb(b);if(Ya)return Array.from(Xa.get(this).keys());console.error("Error getting storage keys: ",
b)}return a}ready(a){ab(a);return Ya?Promise.resolve(!0):this.$.ready()}rN(a){if("object"!==typeof a)throw new TypeError("invalid options object");a=a.name;if("string"!==typeof a)throw new TypeError("invalid store name");a=new Va(a);return new kb(a)}length(){$a("localforage.length()")}key(){$a("localforage.key()")}iterate(){$a("localforage.iterate()")}config(){$a("localforage.config()")}supports(){$a("localforage.supports()")}dropInstance(){$a("localforage.dropInstance()")}}self.localforage=new kb(new Va("localforage"));
"use strict";const lb=self.A;lb.ob={};lb.ob.Oea=(()=>{try{if("undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();lb.ob.Y6="undefined"!==typeof HTMLDialogElement;lb.ob.Haa=!!self.requestIdleCallback;lb.ob.ImageBitmap=!!self.createImageBitmap;lb.ob.ImageBitmapOptions=!1;lb.ob.bC=!1;
if(lb.ob.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{lb.ob.ImageBitmapOptions=!0}).catch(()=>{lb.ob.ImageBitmapOptions=!1})}catch(a){lb.ob.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{lb.ob.bC=10===a.width&&10===a.height}).catch(()=>{lb.ob.bC=!1})}catch(a){lb.ob.bC=!1}}lb.ob.q6=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===lb.W.qb);
lb.ob.j_=!(!navigator.permissions||!navigator.permissions.query);lb.ob.KO=!1;lb.ob.j_&&navigator.permissions.query({name:"clipboard-read"}).then(()=>{lb.ob.KO=!0}).catch(()=>{lb.ob.KO=!1});lb.ob.Q5=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem);lb.ob.oQ="undefined"!==typeof Proxy;lb.ob.b7="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;lb.ob.q7="function"===typeof fetch;
lb.ob.G$=!!(self.isSecureContext&&"Opera"!==lb.W.qb&&navigator.storage&&navigator.storage.persist);lb.ob.Kda=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var mb;if("undefined"===typeof document||"iOS"===lb.W.Md)mb=!1;else{var nb=document.documentElement;mb=!!(nb.requestFullscreen||nb.msRequestFullscreen||nb.mozRequestFullScreen||nb.webkitRequestFullscreen)}lb.ob.D7=mb;lb.ob.f8="undefined"!==typeof self.ImageDecoder;lb.ob.Pea=!!self.VideoEncoder;lb.ob.R9=!!self.showOpenFilePicker;
lb.ob.raa=!!self.queryLocalFonts;lb.ob.UserActivation=!!navigator.userActivation;lb.ob.JO=!1;(async()=>{let a;"undefined"===typeof document?a=new OffscreenCanvas(32,32):(a=document.createElement("canvas"),a.width=32,a.height=32);var b=a.getContext("2d");b.fillStyle="blue";b.fillRect(0,0,32,32);b=null;try{a.convertToBlob?b=await a.convertToBlob({type:"image/webp",quality:1}):a.toBlob&&(b=await new Promise(d=>a.toBlob(d,"image/webp",1))),lb.ob.JO=b&&"image/webp"===b.type}catch(d){lb.ob.JO=!1}})();"use strict";
const ob=self.A;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}
if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(ob.Gw(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});
if(!Array.prototype.flat){function a(b,d){return b.reduce((c,e)=>{0<d&&Array.isArray(e)?Array.prototype.push.apply(c,a(e,d-1)):c.push(e);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.at||(Array.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});String.prototype.at||(String.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});
RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,c)=>a({usage:d,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);
"undefined"===typeof self.globalThis&&(self.globalThis=self);"use strict";const pb=self.A;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+pb.HB())};"use strict";const O=self.A,qb=self.fg;O.zo=function(a){return"number"===typeof a};O.Jb=function(a){return O.zo(a)&&isFinite(a)};O.yh=function(a){if(!O.zo(a))throw new TypeError("expected number");};O.xQ=function(){};
O.dba=function(a,b,d){if(!O.zo(a)||isNaN(a)||b>a||d<a)throw new RangeError("number outside of range");};O.Qaa=function(...a){for(let b of a);};O.Ae=function(a){if(!O.Jb(a))throw new TypeError("expected finite number");};O.uQ=function(){};O.Naa=function(...a){for(let b of a);};O.ni=function(a){return"string"===typeof a};O.ke=function(a){if(!O.ni(a))throw new TypeError("expected string");};O.zQ=function(){};O.Saa=function(...a){for(let b of a);};
O.FP=function(a){return"object"!==typeof a||null===a?!1:(a=Object.getPrototypeOf(a))?a.constructor===Object:null===a};O.qba=function(a){if(!O.FP(a))throw new TypeError("expected simple object");};O.nba=function(a){if(!O.xf(a)&&!O.FP(a))throw new TypeError("expected simple object");};O.BP=function(a){return"object"===typeof a&&null!==a&&!Array.isArray(a)};O.sQ=function(a){if(!O.BP(a))throw new TypeError("expected object");};O.yQ=function(){};O.Raa=function(...a){for(let b of a);};
O.wH=function(a){return O.wI(a,Blob)&&"string"===typeof a.name};O.bba=function(a){if(!O.wH(a))throw new TypeError("expected file");};O.lba=function(){};O.ck=function(a){return Array.isArray(a)};O.sC=function(a){if(!O.ck(a))throw new TypeError("expected array");};O.tQ=function(){};O.Maa=function(...a){for(let b of a);};O.DY=function(a){return O.ck(a)?a.length?O.ck(a[0])?!0:!1:!0:!1};
O.Laa=function(a){if(!O.DY(a))throw new TypeError("expected 2d array");for(let b of a)if(!O.ck(b))throw new TypeError("expected 2d array");};O.eba=function(){};O.xH=function(a){return"function"===typeof a};O.Al=function(a,b){if(!O.xH(a))throw new TypeError("expected function");if(!O.xf(b)&&a!==b)throw new TypeError("expected same function reference");};O.vQ=function(){};O.Oaa=function(...a){for(let b of a);};
O.Uaa=function(a,...b){if(!O.xH(a))throw new TypeError("expected function");if(!b.length)throw Error("missing comparison functions");for(let d of b)if(!O.xf(d)&&a===d)return;throw new TypeError("expected same function reference");};O.fba=function(...a){if(!O.xf(a))for(let b of a);};O.Mq=function(a,b){return a instanceof b};O.zP=function(a,...b){for(let d of b)if(O.Mq(a,d))return!0;return!1};O.tC=function(a,b){if(!O.Mq(a,b))throw new TypeError("unexpected type");};O.wQ=function(){};
O.Paa=function(a,...b){for(let d of b);};O.Vaa=function(a,...b){if(!O.zP(a,...b))throw new TypeError("unexpected type");};O.Waa=function(a,...b){if(!O.xf(a)&&!O.zP(a,...b))throw new TypeError("unexpected type");};O.v8=function(a,b){for(let d of a)if(!O.Mq(d,b))return!1;return!0};O.w8=function(a){for(let b of a)if(!O.Jb(b))return!1;return!0};O.Xaa=function(a){for(let b of a);};O.gba=function(a){if(!O.xf(a))for(let b of a);};O.Yaa=function(a){for(let b of a);};
O.hba=function(a){if(!O.xf(a))for(let b of a);};O.z8=function(a,b){return O.xf(a)||!O.ni(a.nodeName)?!1:!b||O.pf(a.nodeName,b)};O.Zaa=function(a,b){if(O.xf(a)||!O.ni(a.nodeName))throw new TypeError("expected DOM node");if(b&&!O.pf(a.nodeName,b))throw new TypeError(`expected DOM '${b}' node`);};O.iba=function(){};O.yH=function(a,b){return O.xf(a)||!O.ni(a.tagName)?!1:!b||O.pf(a.tagName,b)};
O.cba=function(a,b){if(O.xf(a)||!O.ni(a.tagName))throw new TypeError("expected HTML element");if(b&&!O.pf(a.tagName,b))throw new TypeError(`expected HTML '${b}' element`);};O.mba=function(){};O.xP=function(a){return O.yH(a,"img")||O.yH(a,"canvas")||O.yH(a,"video")||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap};O.$aa=function(a){if(!O.xP(a))throw new TypeError("expected drawable");};O.jba=function(){};
O.yP=function(a){return a instanceof ImageData?!0:O.xP(a)};O.aba=function(a){if(!O.yP(a))throw new TypeError("expected drawable or image data");};O.kba=function(a){if(!O.xf(a)&&!O.yP(a))throw new TypeError("expected drawable or image data");};O.QY=function(a){return"string"===typeof a||O.$B&&a instanceof O.$B||a instanceof O.wq};O.rba=function(a){if(!O.QY(a))throw new TypeError("expected string-like");};O.oba=function(){};O.Taa=function(...a){for(let b of a);};
O.pba=function(){throw Error("must be overridden");};O.T9=function(){throw Error("not yet implemented");};O.B8=function(a,...b){if("undefined"===typeof a)return!1;for(let d of b){if("undefined"===typeof a[d])return!1;a=a[d]}return!0};O.xf=function(a){return"undefined"===typeof a||null===a};O.N5=function(a){let b=a[0].constructor;for(let d of a)if(d.constructor!==b)return!1;return b};O.O5=function(a,b){for(let d of a)if(!(d instanceof b))return!1;return!0};const rb=Object.getPrototypeOf(Uint8Array);
O.f9=function(a){return O.Mq(a,rb)};O.sba=function(){};O.Nea=function(a){O.y0(a)};O.Mea=function(a,...b){if(!O.x0(a,...b))throw new TypeError("unexpected type");};O.x0=function(a,...b){for(const d of b)if(O.wI(a,d))return!0;return!1};O.y0=function(a){if(!O.wI(a,rb))throw new TypeError("unexpected type");};O.wI=function(a,b){for(;a=Object.getPrototypeOf(a);)if(a.constructor.name===b.name)return!0;return!1};qb.yh=O.yh;qb.xQ=O.xQ;qb.Ae=O.Ae;qb.uQ=O.uQ;qb.ke=O.ke;qb.zQ=O.zQ;qb.sQ=O.sQ;qb.yQ=O.yQ;
qb.sC=O.sC;qb.tQ=O.tQ;qb.Al=O.Al;qb.vQ=O.vQ;qb.tC=O.tC;qb.wQ=O.wQ;qb.xf=O.xf;"use strict";const sb=self.A,tb=new Map;sb.t6=function(a,b){console.log(`%c${a}`,`font-weight: bold; color:${b}`)};sb.uaa=function(a,...b){tb.has(a)||tb.set(a,-1);-1===tb.get(a)&&tb.set(a,requestAnimationFrame(()=>{console.log(`%c${a}`,"font-weight: bold",...b);tb.set(a,-1)}))};let ub;sb.Fda=function(a){performance.mark(a);ub||(ub=new Map);ub.has(a)||ub.set(a,{current:0,total:0,UU:0,lN:1,toString:function(){return`${a} :: current => ${this.current.toPrecision(3)} :: average => ${this.UU.toPrecision(3)} :: calls => ${this.lN}`}})};
sb.e7=function(a){performance.measure(`measure-${a}`,a);const b=performance.getEntriesByName(`measure-${a}`)[0],d=ub.get(a);d.current=b.duration;d.total+=d.current;d.UU=d.total/d.lN;console.log(d.toString());d.lN++;performance.clearMarks(a);performance.clearMeasures(`measure-${a}`)};sb.HB=function(){return Error().stack};sb.V6=function(){debugger};sb.vfa=function(a,b){return a&&a instanceof b?a:null};
sb.Bm=function(a){return"undefined"===typeof a?"undefined":null===a?"null":"boolean"===typeof a?"<boolean>":sb.zo(a)?"<number>":sb.ni(a)?"<string>":sb.ck(a)?"<array>":"symbol"===typeof a?"<"+a.toString()+">":sb.xH(a)?a.name&&"Function"!==a.name?a.name:"<anonymous function>":"object"===typeof a?a.constructor&&a.constructor.name&&"Object"!==a.constructor.name?a.constructor.name:"<anonymous object>":"<unknown>"};sb.getType=function(a){return null===a?"null":Array.isArray(a)?"array":typeof a};
sb.range=function*(a,b){if(!isFinite(Math.abs(a-b)))throw Error("Invalid parameters");if(a>b)for(--a;a>=b;a--)yield a;else for(;a<b;a++)yield a};let vb=new Map,wb=new Map,xb=new WeakMap,yb=new WeakMap;sb.yt={};const zb=new Set(["then","splice"]);function Ab(a){console.warn("[Defence] "+a+" @",sb.HB())}
sb.yt.get=function(a,b){b in a||"symbol"===typeof b||zb.has(b)||Ab(`Accessed missing property '${b}' from defended object '${sb.Bm(a)}', returning undefined`);yb.has(a)&&"symbol"!==typeof b&&!zb.has(b)&&Ab(`Accessed property '${b}' on a released object '${sb.Bm(a)}'\nObject was originally released at: ${yb.get(a)})\nCall stack at access: `);return a[b]};
sb.yt.set=function(a,b,d){b in a||vb.has(a)||Ab(`Set non-existent property '${b}' to '${d}' on defended object '${sb.Bm(a)}'`);let c=sb.getType(a[b]),e=sb.getType(d);"null"===c||"null"===e||("undefined"===c||"undefined"===e?0:c===e)||vb.has(a)||Ab(`Set '${sb.getType(a[b])}' property '${b}' to type '${sb.getType(d)}' on defended object '${sb.Bm(a)}'`);yb.has(a)&&Ab(`Set property '${b}' on a released object '${sb.Bm(a)}'\nObject was originally released at: ${yb.get(a)})\nCall stack at access: `);a[b]=
d;return!0};sb.yt.deleteProperty=function(a,b){throw new ReferenceError(`Cannot delete property '${b}' from defended object '${sb.Bm(a)}'`);};sb.yt.defineProperty=function(a,b){throw new ReferenceError(`Cannot define property '${b}' on defended object '${sb.Bm(a)}'`);};sb.yt.Rfa=function(a){throw new ReferenceError(`Cannot enumerate defended object '${sb.Bm(a)}'`);};let Bb=-1;
function Cb(){Bb=-1;if(0<vb.size||0<wb.size){let a=[...(new Set([...vb.keys()].map(b=>sb.Bm(b))))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${a}`);vb.clear();wb.clear()}}
sb.ra=class{constructor(){if(sb.JN&&sb.ob.oQ){var a=new.target;a=Object.create(a.prototype);var b=new Proxy(a,sb.yt);vb.set(a,b);wb.set(b,a);xb.set(b,a);-1===Bb&&(Bb=requestAnimationFrame(Cb));return b}}};sb.E3=function(a){if(sb.JN&&sb.ob.oQ&&a instanceof sb.ra){if(!wb.has(a))return a;let b=wb.get(a);wb.delete(a);vb.delete(b);return a}return sb.VA?Object.seal(a):a};
sb.m=function(a,...b){let d;try{d=new a(...b)}catch(g){throw wb.clear(),vb.clear(),g;}if(sb.JN){b=d;var c=new Set;for(e in b)c.add(e);var e=c;if(b=Db.get(a)){c=[];for(let g of b.values())e.has(g)?e.delete(g):c.push(g);sb.ym(c,[...e]);c.length&&console.warn(`[Defence] '${sb.Bm(a)}' constructor creates inconsistent properties: ${c.join(", ")}`)}else Db.set(a,e)}return sb.E3(d)};sb.j=function(a){(a=xb.get(a))&&yb.set(a,sb.HB())};sb.Jo=function(){let a=xb.get(void 0);return a?!!yb.get(a):!1};let Db=new Map;
sb.E$=class{constructor(a){this.Ka="";a&&this.start(a)}start(a){sb.LN&&(this.Ka=a,performance.mark(this.Ka+"-Start"))}end(){sb.LN&&(performance.mark(this.Ka+"-End"),performance.measure(this.Ka,this.Ka+"-Start",this.Ka+"-End"))}next(a){sb.LN&&(this.end(),this.Ka=a,performance.mark(this.Ka+"-Start"))}};"use strict";const R=self.A,Eb=2*Math.PI,Fb=Math.PI/180,Gb=180/Math.PI;
R.wrap=function(a,b,d){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);const c=d-b;return 0===c?d:a<b?(a=d-(b-a)%c,a===d?0:a):b+(a-b)%c};R.n4=function(a,b,d,c){d-=b;return 0===d?a:(a-b)*(c-0)/d};R.normalize=function(a,b,d){return 0===b-d?1:(a-b)/(d-b)};R.V=function(a,b,d){return a<b?b:a>d?d:a};R.Wd=function(a){a%=Eb;0>a&&(a+=Eb);return a};R.ib=function(a){return a*Fb};R.Vj=function(a){return a*Gb};R.uN=function(a,b,d,c){return Math.hypot(d-a,c-b)};R.eV=function(a,b,d,c){a=d-a;b=c-b;return a*a+b*b};
R.kN=function(a,b,d,c){return Math.atan2(c-b,d-a)};R.Xs=function(a,b){if(a===b)return 0;a=Math.sin(a)*Math.sin(b)+Math.cos(a)*Math.cos(b);return 1<=a?0:-1>=a?Math.PI:Math.acos(a)};R.jN=function(a,b,d){let c=Math.sin(a),e=Math.cos(a),g=Math.sin(b),k=Math.cos(b);return Math.acos(c*g+e*k)>d?0<e*g-c*k?R.Wd(a+d):R.Wd(a-d):R.Wd(b)};R.Fg=function(a,b){return 0>=Math.cos(a)*Math.sin(b)-Math.sin(a)*Math.cos(b)};R.iN=function(a,b,d,c=0){let e=R.Xs(a,b);c*=Eb;return R.Fg(b,a)?R.Wd(a+(e+c)*d):R.Wd(a-(e+c)*d)};
R.r3=function(a,b,d,c=0){const e=R.Xs(a,b);c*=Eb;return R.Fg(b,a)?R.Wd(a+(e+c)*d):R.Wd(a+(Eb-e+c)*d)};R.q3=function(a,b,d,c=0){const e=R.Xs(a,b);c*=Eb;return R.Fg(b,a)?R.Wd(a-(-Eb+e-c)*d):R.Wd(a-(e+c)*d)};R.RU=function(a,b){const d=R.Xs(a,b);return R.Fg(a,b)?R.Wd(b-d):R.Wd(b+d)};R.qf=function(a,b,d){return a+d*(b-a)};R.GG=function(a,b,d){return a===b?0:(d-a)/(b-a)};R.F4=function(a,b,d,c){return R.qf(0,c,R.GG(a,b,d))};R.zG=function(a,b,d,c){return R.qf(R.qf(a,b,c),R.qf(b,d,c),c)};
R.cV=function(a,b,d,c,e){return R.qf(R.zG(a,b,d,e),R.zG(b,d,c,e),e)};R.ZU=function(a,b,d){return(a+b+(a-b)*Math.cos(d*Math.PI))/2};R.Sj=function(a){return 0<a&&0===(a-1&a)};R.bt=function(a){--a;for(let b=1;32>b;b<<=1)a|=a>>b;return a+1};R.Vha=function(a,b){return Math.round(a*b)/b};R.Wfa=function(a,b){return Math.floor(a*b)/b};R.QV=function(a){var b=Math.max(Math.floor(6),0);b=Math.pow(10,b);return Math.round(a*b)/b};
R.zfa=function(a){return Math.floor(a)!==a?a.toString().split(".")[1].length||0:0};R.toFixed=function(a,b){a=a.toFixed(b);for(b=a.length-1;0<=b&&"0"===a.charAt(b);--b);0<=b&&"."===a.charAt(b)&&--b;return 0>b?a:a.substr(0,b+1)};R.i_=function(a,b,d){return R.V(a,0,255)|R.V(b,0,255)<<8|R.V(d,0,255)<<16};
R.mC=function(a,b,d,c){a=R.V(Math.floor(1024*a),-8192,8191);b=R.V(Math.floor(1024*b),-8192,8191);d=R.V(Math.floor(1024*d),-8192,8191);c=R.V(Math.floor(1023*c),0,1023);0>a&&(a+=16384);0>b&&(b+=16384);0>d&&(d+=16384);return-(274877906944*a+16777216*b+1024*d+c)};R.hQ=function(a,b,d){return R.mC(a,b,d,1)};R.VB=function(a){if(0<=a)return(a&255)/255;a=Math.floor(-a/274877906944);8191<a&&(a-=16384);return a/1024};
R.RB=function(a){if(0<=a)return((a&65280)>>8)/255;a=Math.floor(-a%274877906944/16777216);8191<a&&(a-=16384);return a/1024};R.GB=function(a){if(0<=a)return((a&16711680)>>16)/255;a=Math.floor(-a%16777216/1024);8191<a&&(a-=16384);return a/1024};R.HX=function(a){return 0===a&&0>1/a?0:0<=a?1:Math.floor(-a%1024)/1023};R.Y3=function(a,b){a=Math.floor(a);for(b=Math.floor(b);0!==b;){let d=b;b=a%b;a=d}return a};const Ib=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];
R.jga=function(a,b){a=Math.floor(a);b=Math.floor(b);if(a===b)return[1,1];for(var d of Ib){let c=a/d[0]*d[1];if(1>Math.abs(b-c))return d.slice(0);c=a/d[1]*d[0];if(1>Math.abs(b-c))return[d[1],d[0]]}d=R.Y3(a,b);return[a/d,b/d]};
R.aia=function(a,b,d,c,e,g,k,l){var n=Math.min(a,d),p=Math.max(e,k);if(Math.max(a,d)<Math.min(e,k)||n>p)return!1;n=Math.min(b,c);p=Math.max(g,l);if(Math.max(b,c)<Math.min(g,l)||n>p)return!1;n=e-a+k-d;p=g-b+l-c;a=d-a;b=c-b;e=k-e;g=l-g;l=Math.abs(b*e-g*a);return Math.abs(e*p-g*n)>l?!1:Math.abs(a*p-b*n)<=l};
R.jo=function(a,b,d,c,e,g,k,l,n,p,r,w){const x=Math.max(n,r);if(g<Math.min(n,r)||e>x)return!1;e=Math.max(p,w);if(l<Math.min(p,w)||k>e)return!1;k=n-a+r-d;l=p-b+w-c;a=d-a;b=c-b;n=r-n;p=w-p;w=Math.abs(b*n-p*a);return Math.abs(n*l-p*k)>w?!1:Math.abs(a*l-b*k)<=w};
R.CG=function(a,b,d,c,e){const g=Math.min(a,d),k=Math.max(a,d),l=Math.min(b,c),n=Math.max(b,c),p=e.Ub,r=e.Vb,w=e.Rc,x=e.Sc,z=e.Lc,F=e.Mc,D=e.Jc;e=e.Kc;return R.jo(a,b,d,c,g,k,l,n,p,r,w,x)||R.jo(a,b,d,c,g,k,l,n,w,x,z,F)||R.jo(a,b,d,c,g,k,l,n,z,F,D,e)||R.jo(a,b,d,c,g,k,l,n,D,e,p,r)};
R.$ha=function(a,b,d,c,e){const g=Math.min(a,d),k=Math.max(a,d),l=Math.min(b,c),n=Math.max(b,c);let p=0;for(let r=e.length-4;p<=r;p+=2)if(R.jo(a,b,d,c,g,k,l,n,e[p],e[p+1],e[p+2],e[p+3]))return!0;return R.jo(a,b,d,c,g,k,l,n,e[p],e[p+1],e[0],e[1])};R.E4=function(a,b,d,c,e,g,k,l){d-=a;g=l-g;const n=d*g-(c-b)*(k-e);if(0===n)return 2;c=((b-c)*(k-a)+d*(l-b))/n;return 0<c&&1.000001>c?(g*(k-a)+(e-k)*(l-b))/n:2};R.eB=function(a,b,d,c,e,g,k,l,n){const p=(k-e)*n;n*=l-g;return R.E4(a,b,d,c,e-p,g-n,k+p,l+n)};
R.f4=function(a,b,d,c,e,g,k,l){e-=d;g-=c;k-=d;l-=c;a-=d;d=b-c;b=e*e+g*g;c=e*k+g*l;e=e*a+g*d;g=k*k+l*l;k=k*a+l*d;l=1/(b*g-c*c);g=(g*e-c*k)*l;e=(b*k-c*e)*l;return 0<=g&&0<=e&&1>=g+e};R.T4=function(a,b,d,c,e,g,k,l){e-=d;g-=c;k-=d;l-=c;a-=d;const n=b-c;b=e*e+g*g;c=e*k+g*l;d=k*k+l*l;e=a*e+n*g;g=a*k+n*l;k=b*d-c*c;l=(d*e-c*g)/k;e=(b*g-c*e)/k;return[1-l-e,l,e]};R.S4=function(a,b,d,c,e,g,k,l,n,p,r,w){return[a*c+b*k+d*p,a*e+b*l+d*r,a*g+b*n+d*w]};"use strict";const S=self.A;let Jb=null,Kb="";
if("undefined"!==typeof document){Jb=document;const a=document.querySelector("base");if(Kb=a&&a.hasAttribute("href")?a.getAttribute("href"):"")Kb.startsWith("/")&&(Kb=Kb.substr(1)),Kb.endsWith("/")||(Kb+="/")}S.F7=function(){return Kb};S.G7=function(){if(!Jb)return"";const a=Jb.location;return S.WX(a.origin+a.pathname)+Kb};S.WX=function(a){if(!a.length||a.endsWith("/")||a.endsWith("\\"))return a;const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?"":a.substr(0,b+1)};
S.L7=function(a){if(!a.length)return a;if(a.endsWith("/")||a.endsWith("\\"))return"";const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?a:a.substr(b+1)};S.QX=function(a){let b=a.lastIndexOf(".");return 1>b?"":a.substr(b)};S.kca=function(a,b){const d=a.lastIndexOf(".");return-1===d?a+"."+b:a.substr(0,d+1)+b};S.OB=function(a){let b=a.lastIndexOf(".");return 1>b?a:a.substr(0,b)};S.iZ=function(a){return a.replace(/\\/g,"/")};S.F8=function(a,b){return b===(a?S.QX(a).slice(1):"")};
S.t7=function(a,b){let d,c;S.wH(a)&&(d=S.OB(a.name));S.ni(a)&&(d=S.OB(a));S.wH(b)&&(c=S.OB(b.name));S.ni(b)&&(c=S.OB(b));return d===c};
S.z$=function(a){a=S.iZ(a);let b=/^\w:\//.exec(a);b?(b=b[0],a=a.slice(3),"/"!==a[0]&&(a="/"+a)):b="";a=a.replace(/\/{2,}/g,"/");1<a.length&&"/"===a.slice(-1)&&(a=a.slice(0,-1));var d=a.lastIndexOf("/")+1;let c="",e=a,g="";0<d&&(c=a.slice(0,d),e=a.slice(d));a=e;d=e.lastIndexOf(".");0<d&&(g=e.slice(d),a=e.slice(0,-g.length));return{dir:c,nfa:e,name:a,root:b,ext:g,gga:b+c+e}};S.vI=function(a,b){return new Promise(d=>{self.setTimeout(d,a,b)})};
S.qia=function(a){try{a()}catch(b){S.VA&&console.warn("Swallowed exception: ",b)}};S.jha=function(){};S.pf=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b||a.normalize().toLowerCase()===b.normalize().toLowerCase()};S.Sfa=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b?!0:a.normalize()===b.normalize()};
S.U4=function(a,b){var d=0;a[d++]=b[0];a[d++]=b[1];a[d++]=b[2];a[d++]=b[3];a[d++]=b[4];a[d++]=b[5];a[d++]=b[6];a[d++]=b[7];a[d++]=b[8];a[d++]=b[9];a[d++]=b[10];a[d++]=b[11];a[d++]=b[12];a[d++]=b[13];a[d++]=b[14];a[d]=b[15]};S.eg=function(a,b){a.length=b};S.G=function(a){a&&0!==a.length&&S.eg(a,0)};S.w3=function(a){if(a){for(let b=0;b<a.length;b++)S.eg(a[b],0);S.eg(a,0)}};S.pG=function(a,b,d){b|=0;var c=a.length;if(!(b<=c))for(;c<b;++c)a.push(d)};
S.PV=function(a){var b=4;const d=a.length;b<d?S.eg(a,b):b>d&&S.pG(a,b,"0")};S.Bd=function(a,b){S.G(a);S.ym(a,b)};S.ym=function(a,b){if(1E4>b.length)a.push(...b);else for(let d=0,c=b.length;d<c;++d)a.push(b[d])};S.u3=function(a,b){b=Math.floor(b);if(!(0>b||b>=a.length)){for(var d=a.length-1;b<d;++b)a[b]=a[b+1];S.eg(a,d)}};S.zm=function(a,b){b=a.indexOf(b);0<=b&&a.splice(b,1)};S.mfa=function(a,b){let d=a.length;if(b.length!==d)return!1;for(let c=0;c<d;++c)if(a[c]!==b[c])return!1;return!0};
S.t3=function(a,b){let d=[],c=0;for(let e=0,g=a.length;e<g;++e){let k=a[e];b(k)?d.push(k):(a[c]=k,++c)}S.eg(a,c);return d};S.ai=function(a,b){const d=a.length;let c=0;for(let e=0,g=a.length;e<g;++e){let k=a[e];b.has(k)||(a[c++]=k)}S.eg(a,c);return d-c};S.b4=function(a,b){return a!==Math.floor(a)?!1:0<=a&&a<b.length};S.Kia=function(a,b){if(!S.b4(a,b))throw new RangeError("array index out of bounds");};S.pN=function(a){return a.slice()};
S.F3=function(a,b){let d=[];for(let c of a)if(S.BP(c)){a=b(c);if(!a)throw Error("missing clone");if(a.constructor!==c.constructor)throw Error("object is not a clone");d.push(a)}else S.ck(c)?d.push(S.F3(c,b)):d.push(c);return d};S.xfa=function(a){let b=[];for(let d of a)b.push(d.slice());return b};S.gha=function(a,b){return a.union?a.union(b):new Set([...a,...b])};S.hha=function(a,b){for(const d of b)a.add(d);return a};S.first=function(a){for(let b of a)return b;return null};
S.xor=function(a,b){return!a!==!b};S.compare=function(a,b,d){switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}};S.rga=function(a){for(let b in a)if(a.hasOwnProperty(b))return!0;return!1};S.p_=function(a,b){return a.length?new Promise((d,c)=>{const e=[];let g=0,k=!1;for(let l=0,n=a.length;l<n;++l)e.push(void 0),a[l].then(p=>{k||(e[l]=p,++g,g===a.length?d(e):b(g,a.length))}).catch(p=>{k=!0;c(p)})}):Promise.resolve([])};
let Lb=[];S.o5=function(a){Lb.push(a)};S.J7=function(){let a=0;for(let b of Lb){let d=b();a+=d}return Math.floor(a)};let Nb=1;const Ob=new Map,Pb=new MessageChannel;Pb.port2.onmessage=function(a){a=a.data;const b=Ob.get(a);Ob.delete(a);b&&b(performance.now())};S.SH=function(a){const b=Nb++;Ob.set(b,a);Pb.port1.postMessage(b);return b};S.XW=function(a){Ob.delete(a)};S.m_=S.SH;S.w0=function(){return new Promise(a=>S.m_(a))};const Qb=new Set;
S.Kaa=function(a){const b=self.requestAnimationFrame(async d=>{await S.w0();Qb.has(b)&&(Qb.delete(b),a(d))});Qb.add(b);return b};S.n6=function(a){Qb.has(a)&&(self.cancelAnimationFrame(a),Qb.delete(a))};"use strict";const Rb=self.A;Rb.dC=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};Rb.Oq=function(a){return!Rb.dC(a)};Rb.c0=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};
Rb.DB=function(a){return fetch(a,void 0).then(b=>{Rb.c0(b);return b})};Rb.Jw=function(a){return Rb.DB(a).then(b=>b.text())};Rb.XO=function(a){return Rb.DB(a).then(b=>b.json())};Rb.Gm=function(a){return Rb.DB(a).then(b=>b.blob())};Rb.Iw=function(a){return Rb.DB(a).then(b=>b.arrayBuffer())};Rb.wX=function(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>b(c);c.onerror=e=>d(e);c.src=a})};
Rb.SW=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(a)})};Rb.HO=function(a){return"function"===typeof a.text?a.text():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsText(a)})};Rb.d6=function(a){return Rb.HO(a).then(b=>JSON.parse(b))};
Rb.GO=async function(a){a=URL.createObjectURL(a);try{const b=await Rb.wX(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};Rb.th=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=a;d.height=b;return d}return new OffscreenCanvas(a,b)};
Rb.qB=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=Rb.V(d,0,1);if(a.convertToBlob)return a.convertToBlob({type:b,quality:d});if(a.toBlob)return new Promise(c=>a.toBlob(c,b,d));throw Error("could not convert canvas to blob");};Rb.RO=function(a,b,d){const c=Rb.th(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return Rb.qB(c,b,d)};
Rb.e8=function(a,b,d){if(Rb.ob.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(e=>Rb.RO(e,b,d));if(Rb.ob.ImageBitmap)return createImageBitmap(a).then(e=>Rb.RO(e,b,d));const c=Rb.th(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return Rb.qB(c,b,d)};Rb.gX=function(a,b){a.clear();for(const d of b)a.add(d)};Rb.G9=function(a){const b=Object.create(null);for(const [d,c]of a.entries())b[d]=c;return b};
Rb.U9=function(a,b){b.clear();for(const [d,c]of Object.entries(a))b.set(d,c)};Rb.qI=function Sb(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>Sb(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],Sb(c[1])])};const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=Sb(e);return d}return a};
Rb.bH=function Tb(a){if("object"===typeof a&null!==a){if("set"===a._c3type_)return new Set(a.data.map(c=>Tb(c)));if("map"===a._c3type_)return new Map(a.data.map(c=>[c[0],Tb(c[1])]));const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=Tb(e);return d}return a};Rb.SG=function(a){if(a.startsWith("--"))return a;let b="",d=!1,c=0;for(const e of a)"-"===e?0<c&&(d=!0):d?(b+=e.toUpperCase(),d=!1):b+=e,++c;return b};Rb.Pm=function(a){return"object"===typeof a&&"function"===typeof a.next};
Rb.fZ=function(a){const b=[];for(let d=0;d<a;++d)b.push(0);return b};"use strict";const Ub=self.A;function Vb(a,b,d,c,e){a.$a=+b;a.eb=+d;a.Za=+c;a.Wa=+e;a.V()}function Wb(a,b,d,c){a.$a=+b;a.eb=+d;a.Za=+c;a.V()}function Xb(a,b,d,c){a.$a+=+b;a.eb+=+d;a.Za+=+c;a.Wa+=0;a.V()}function Yb(a,b){a.$a=b.$a;a.eb=b.eb;a.Za=b.Za}function Zb(a,b){a.Wa=Ub.V(+b,0,1)}function $b(a,b){return a.$a===b.$a&&a.eb===b.eb&&a.Za===b.Za}function ac(a,b,d,c,e){return a.$a===b&&a.eb===d&&a.Za===c&&a.Wa===e}
function bc(a){a.$a*=a.Wa;a.eb*=a.Wa;a.Za*=a.Wa}function cc(a,b){a.$a=Ub.VB(b);a.eb=Ub.RB(b);a.Za=Ub.GB(b);a.Wa=Ub.HX(b)}function dc(a){var b=ec;if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,"");var d=a.split(",");if(!(3>d.length)){a=parseInt(d[0].trim(),10)/255;var c=parseInt(d[1].trim(),10)/255;d=parseInt(d[2].trim(),10)/255;isFinite(a)&&(b.$a=Ub.V(+a,0,1));isFinite(c)&&(b.eb=Ub.V(+c,0,1));isFinite(d)&&(b.Za=Ub.V(+d,0,1));Zb(b,1)}}}
function fc(a,b){!Array.isArray(b)||3>b.length||(a.$a=b[0],a.eb=b[1],a.Za=b[2],a.Wa=4<=b.length?b[3]:1)}function gc(a,b){return Ub.V(Math.max(a,b)-Math.min(a,b),0,1)}
Ub.gb=class{constructor(a,b,d,c){this.Wa=this.Za=this.eb=this.$a=0;a instanceof Ub.gb?this.set(a):Vb(this,a||0,b||0,d||0,c||0)}set(a){this.$a=a.$a;this.eb=a.eb;this.Za=a.Za;this.Wa=a.Wa;return this}xa(a){return this.set(a)}add(a){this.$a+=a.$a;this.eb+=a.eb;this.Za+=a.Za;this.Wa+=a.Wa;this.V()}clone(){return Ub.m(Ub.gb,this.$a,this.eb,this.Za,this.Wa)}toArray(){return[this.$a,this.eb,this.Za,this.Wa]}Xd(a,b){a[b++]=this.$a;a[b++]=this.eb;a[b++]=this.Za;a[b]=this.Wa}zd(a){return this.$a===a.$a&&this.eb===
a.eb&&this.Za===a.Za&&this.Wa===a.Wa}xN(a,b){return a[b]===Math.fround(this.$a)&&a[b+1]===Math.fround(this.eb)&&a[b+2]===Math.fround(this.Za)&&a[b+3]===Math.fround(this.Wa)}multiply(a){this.$a*=a.$a;this.eb*=a.eb;this.Za*=a.Za;this.Wa*=a.Wa}V(){this.$a=Ub.V(this.$a,0,1);this.eb=Ub.V(this.eb,0,1);this.Za=Ub.V(this.Za,0,1);this.Wa=Ub.V(this.Wa,0,1);return this}toJSON(){return[this.$a,this.eb,this.Za,this.Wa]}set r(a){this.$a=Ub.V(+a,0,1)}get r(){return this.$a}set b(a){this.Za=Ub.V(+a,0,1)}get b(){return this.Za}set a(a){Zb(this,
a)}get a(){return this.Wa}};Ub.gb.Vea=Object.freeze(Ub.m(Ub.gb,1,1,1,1));Ub.gb.c6=Object.freeze(Ub.m(Ub.gb,0,0,0,1));Ub.gb.lea=Object.freeze(Ub.m(Ub.gb,0,0,0,0));"use strict";const hc=self.A;
hc.er=class{constructor(a,b){this.ea=this.ma=0;a instanceof hc.er?this.xa(a):this.set(a||0,b||0)}set(a,b){this.ma=+a;this.ea=+b}xa(a){this.ma=a.ma;this.ea=a.ea}zd(a){return this.ma===a.ma&&this.ea===a.ea}xN(a,b){return a[b]===Math.fround(this.ma)&&a[b+1]===Math.fround(this.ea)}toArray(){return[this.ma,this.ea]}Xd(a,b){a[b++]=this.ma;a[b]=this.ea}offset(a,b){this.ma+=+a;this.ea+=+b}scale(a,b){this.ma*=a;this.ea*=b}il(a,b){this.ma/=a;this.ea/=b}round(){this.ma=Math.round(this.ma);this.ea=Math.round(this.ea)}floor(){this.ma=
Math.floor(this.ma);this.ea=Math.floor(this.ea)}ceil(){this.ma=Math.ceil(this.ma);this.ea=Math.ceil(this.ea)}angle(){return hc.kN(0,0,this.ma,this.ea)}length(){return Math.hypot(this.ma,this.ea)}rotate(a){if(0!==a){var b=Math.sin(a);a=Math.cos(a);const d=this.ma*a-this.ea*b;this.ea=this.ea*a+this.ma*b;this.ma=d}}move(a,b){0!==b&&(this.ma+=Math.cos(a)*b,this.ea+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ma/=a,this.ea/=a)}V(a,b){this.ma=hc.V(this.ma,a,b);this.ea=hc.V(this.ea,
a,b)}ho(a){return this.ma*a.ma+this.ea*a.ea}reverse(){this.ma=-this.ma;this.ea=-this.ea}};"use strict";const ic=self.A;function jc(a,b,d,c,e){b=+b;d=+d;a.aa=b;a.X=d;a.la=b+ +c;a.ga=d+ +e}function kc(a,b,d,c,e){return a.aa===b&&a.X===d&&a.width()===c&&a.height()===e}function lc(a,b,d){b=+b;d=+d;a.aa-=b;a.X-=d;a.la+=b;a.ga+=d}function mc(a){a.X=1-a.X;a.ga=1-a.ga}function nc(){var a=oc;a.aa=Math.floor(a.aa);a.X=Math.floor(a.X);a.la=Math.ceil(a.la);a.ga=Math.ceil(a.ga)}
function pc(a,b){return!(b.la<a.aa||b.ga<a.X||b.aa>a.la||b.X>a.ga)}
ic.Rect=class{constructor(a,b,d,c){this.ga=this.la=this.X=this.aa=0;a instanceof ic.Rect?this.xa(a):this.set(a||0,b||0,d||0,c||0)}set(a,b,d,c){this.aa=+a;this.X=+b;this.la=+d;this.ga=+c}xa(a){this.aa=+a.aa;this.X=+a.X;this.la=+a.la;this.ga=+a.ga}clone(){return new ic.Rect(this.aa,this.X,this.la,this.ga)}zd(a){return this.aa===a.aa&&this.X===a.X&&this.la===a.la&&this.ga===a.ga}xN(a,b){return a[b]===Math.fround(this.aa)&&a[b+1]===Math.fround(this.X)&&a[b+2]===Math.fround(this.la)&&a[b+3]===Math.fround(this.ga)}toArray(){return[this.aa,
this.X,this.la,this.ga]}Xd(a,b){a[b++]=this.aa;a[b++]=this.X;a[b++]=this.la;a[b]=this.ga}width(){return this.la-this.aa}height(){return this.ga-this.X}ww(){return(this.aa+this.la)/2}xw(){return(this.X+this.ga)/2}offset(a,b){a=+a;b=+b;this.aa+=a;this.X+=b;this.la+=a;this.ga+=b}offsetLeft(a){this.aa+=+a}offsetTop(a){this.X+=+a}multiply(a,b){this.aa*=a;this.X*=b;this.la*=a;this.ga*=b}il(a,b){this.aa/=a;this.X/=b;this.la/=a;this.ga/=b}round(){this.aa=Math.round(this.aa);this.X=Math.round(this.X);this.la=
Math.round(this.la);this.ga=Math.round(this.ga)}floor(){this.aa=Math.floor(this.aa);this.X=Math.floor(this.X);this.la=Math.floor(this.la);this.ga=Math.floor(this.ga)}ceil(){this.aa=Math.ceil(this.aa);this.X=Math.ceil(this.X);this.la=Math.ceil(this.la);this.ga=Math.ceil(this.ga)}V(a,b,d,c){this.aa=Math.max(this.aa,+a);this.X=Math.max(this.X,+b);this.la=Math.min(this.la,+d);this.ga=Math.min(this.ga,+c)}normalize(){if(this.aa>this.la){var a=this.aa;this.aa=this.la;this.la=a}this.X>this.ga&&(a=this.X,
this.X=this.ga,this.ga=a)}oh(a,b){return a>=this.aa&&a<=this.la&&b>=this.X&&b<=this.ga}};"use strict";const qc=self.A;function rc(a,b,d,c){b[d++]=a.Ub;b[d++]=a.Vb;b[d++]=c;b[d++]=a.Rc;b[d++]=a.Sc;b[d++]=c;b[d++]=a.Lc;b[d++]=a.Mc;b[d++]=c;b[d++]=a.Jc;b[d++]=a.Kc;b[d]=c}function sc(a,b,d,c){const e=b.aa*d,g=b.X*d,k=b.la*d;d*=b.ga;const l=b.aa*c,n=b.X*c,p=b.la*c;b=b.ga*c;a.Ub=l-g;a.Vb=n+e;a.Rc=p-g;a.Sc=n+k;a.Lc=p-d;a.Mc=b+k;a.Jc=l-d;a.Kc=b+e}
function wc(a,b){var d=b.ww(),c=b.xw();if(a.oh(d,c))return!0;d=a.ww();c=a.xw();if(b.oh(d,c))return!0;d=a.Ub;c=a.Vb;const e=a.Rc,g=a.Sc,k=a.Lc,l=a.Mc,n=a.Jc;a=a.Kc;return qc.CG(d,c,e,g,b)||qc.CG(e,g,k,l,b)||qc.CG(k,l,n,a,b)||qc.CG(n,a,d,c,b)}
qc.gd=class{constructor(a,b,d,c,e,g,k,l){this.Kc=this.Jc=this.Mc=this.Lc=this.Sc=this.Rc=this.Vb=this.Ub=0;a instanceof qc.gd?this.xa(a):this.set(a||0,b||0,d||0,c||0,e||0,g||0,k||0,l||0)}set(a,b,d,c,e,g,k,l){this.Ub=+a;this.Vb=+b;this.Rc=+d;this.Sc=+c;this.Lc=+e;this.Mc=+g;this.Jc=+k;this.Kc=+l}xa(a){this.Ub=a.Ub;this.Vb=a.Vb;this.Rc=a.Rc;this.Sc=a.Sc;this.Lc=a.Lc;this.Mc=a.Mc;this.Jc=a.Jc;this.Kc=a.Kc}zd(a){return this.Ub===a.Ub&&this.Vb===a.Vb&&this.Rc===a.Rc&&this.Sc===a.Sc&&this.Lc===a.Lc&&this.Mc===
a.Mc&&this.Jc===a.Jc&&this.Kc===a.Kc}toArray(){return[this.Ub,this.Vb,this.Rc,this.Sc,this.Lc,this.Mc,this.Jc,this.Kc]}Xd(a,b){a[b++]=this.Ub;a[b++]=this.Vb;a[b++]=this.Rc;a[b++]=this.Sc;a[b++]=this.Lc;a[b++]=this.Mc;a[b++]=this.Jc;a[b]=this.Kc}offset(a,b){a=+a;b=+b;this.Ub+=a;this.Vb+=b;this.Rc+=a;this.Sc+=b;this.Lc+=a;this.Mc+=b;this.Jc+=a;this.Kc+=b}round(){this.Ub=Math.round(this.Ub);this.Vb=Math.round(this.Vb);this.Rc=Math.round(this.Rc);this.Sc=Math.round(this.Sc);this.Lc=Math.round(this.Lc);
this.Mc=Math.round(this.Mc);this.Jc=Math.round(this.Jc);this.Kc=Math.round(this.Kc)}floor(){this.Ub=Math.floor(this.Ub);this.Vb=Math.floor(this.Vb);this.Rc=Math.floor(this.Rc);this.Sc=Math.floor(this.Sc);this.Lc=Math.floor(this.Lc);this.Mc=Math.floor(this.Mc);this.Jc=Math.floor(this.Jc);this.Kc=Math.floor(this.Kc)}ceil(){this.Ub=Math.ceil(this.Ub);this.Vb=Math.ceil(this.Vb);this.Rc=Math.ceil(this.Rc);this.Sc=Math.ceil(this.Sc);this.Lc=Math.ceil(this.Lc);this.Mc=Math.ceil(this.Mc);this.Jc=Math.ceil(this.Jc);
this.Kc=Math.ceil(this.Kc)}dg(a){this.Ub=a.aa;this.Vb=a.X;this.Rc=a.la;this.Sc=a.X;this.Lc=a.la;this.Mc=a.ga;this.Jc=a.aa;this.Kc=a.ga}DN(a){a.set(Math.min(this.Ub,this.Rc,this.Lc,this.Jc),Math.min(this.Vb,this.Sc,this.Mc,this.Kc),Math.max(this.Ub,this.Rc,this.Lc,this.Jc),Math.max(this.Vb,this.Sc,this.Mc,this.Kc))}oh(a,b){var d=this.Rc-this.Ub,c=this.Sc-this.Vb;const e=this.Lc-this.Ub,g=this.Mc-this.Vb;a-=this.Ub;b-=this.Vb;var k=d*d+c*c;let l=d*e+c*g;c=d*a+c*b;const n=e*e+g*g,p=e*a+g*b;let r=1/(k*
n-l*l);d=(n*c-l*p)*r;k=(k*p-l*c)*r;if(0<=d&&0<k&&1>d+k)return!0;d=this.Jc-this.Ub;c=this.Kc-this.Vb;k=d*d+c*c;l=d*e+c*g;c=d*a+c*b;r=1/(k*n-l*l);d=(n*c-l*p)*r;k=(k*p-l*c)*r;return 0<=d&&0<k&&1>d+k}ww(){return(this.Ub+this.Rc+this.Lc+this.Jc)/4}xw(){return(this.Vb+this.Sc+this.Mc+this.Kc)/4}};"use strict";const xc=self.A,yc=[0,0,1,0,1,1,0,1],zc=xc.m(xc.gd);function Ac(a,b){a.ve.length===b.length?a.ve.set(b):a.ve=Float64Array.from(b);a.An=!0}
function Bc(a,b,d,c){zc.xa(b);zc.offset(d,c);Ac(a,zc.toArray());a.An=!0}function Cc(a,b,d,c,e){const g=a.ve;for(let k=0,l=g.length;k<l;k+=2){const n=k+1,p=g[k]*b,r=g[n]*d;g[k]=p*e-r*c;g[n]=r*e+p*c}a.An=!0}
function Dc(a,b,d,c){const e=b.ve,g=a.ve;if(a.oh(e[0]+d,e[1]+c)||b.oh(g[0]-d,g[1]-c))return!0;for(let l=0,n=g.length;l<n;l+=2){var k=(l+2)%n;a=g[l];b=g[l+1];const p=g[k];k=g[k+1];let r,w,x,z;a<p?(r=a,x=p):(r=p,x=a);b<k?(w=b,z=k):(w=k,z=b);for(let F=0,D=e.length;F<D;F+=2){const G=(F+2)%D;if(xc.jo(a,b,p,k,r,x,w,z,e[F]+d,e[F+1]+c,e[G]+d,e[G+1]+c))return!0}}return!1}
xc.zq=class extends xc.ra{constructor(a,b=!0){super();a||(a=yc);this.ve=Float64Array.from(a);this.bD=new xc.Rect;this.An=!0;this.Pd=b}j(){}xa(a){Ac(this,a.ve)}dg(a){let b=this.ve;8!==b.length&&(this.ve=b=new Float64Array(8));b[0]=a.aa-NaN;b[1]=a.X-NaN;b[2]=a.la-NaN;b[3]=a.X-NaN;b[4]=a.la-NaN;b[5]=a.ga-NaN;b[6]=a.aa-NaN;b[7]=a.ga-NaN;this.bD.xa(a);this.bD.offset(NaN,NaN);this.An=!1}transform(a,b,d){let c=0,e=1;0!==d&&(c=Math.sin(d),e=Math.cos(d));Cc(this,a,b,c,e)}offset(a,b){const d=this.ve;for(let c=
0,e=d.length;c<e;c+=2)d[c]+=a,d[c+1]+=b}oh(a,b){const d=this.ve;if(a===d[0]&&b===d[1])return!0;if(this.An){var c=this.ve,e=c[0],g=c[1],k=e,l=g;for(let M=0,P=c.length;M<P;M+=2){var n=c[M],p=c[M+1];n<e&&(e=n);n>k&&(k=n);p<g&&(g=p);p>l&&(l=p)}this.bD.set(e,g,k,l);this.An=!1}k=this.bD;c=k.aa-110;e=k.X-101;g=k.la+131;k=k.ga+120;let r,w,x,z,F;c<a?(l=c,p=a):(l=a,p=c);e<b?(n=e,r=b):(n=b,r=e);g<a?(w=g,z=a):(w=a,z=g);k<b?(x=k,F=b):(x=b,F=k);let D=0,G=0;for(let M=0,P=d.length;M<P;M+=2){var J=(M+2)%P;const Ja=
d[M],Sa=d[M+1],Za=d[J];J=d[J+1];xc.jo(c,e,a,b,l,p,n,r,Ja,Sa,Za,J)&&++D;xc.jo(g,k,a,b,w,z,x,F,Ja,Sa,Za,J)&&++G}return 1===D%2||1===G%2}Wb(){return this.Pd}};"use strict";const Ec=self.A;function Fc(a,b){a=a.Ek;const d=a.get(b);d&&(d.clear(),a.delete(b));for(const [c,e]of a.entries())e.delete(b)&&0===e.size&&a.delete(c)}
Ec.nx=class extends Ec.ra{constructor(a){super();this.Ek=new Map;if(a)for(const [b,d,c]of a)this.Set(b,d,c)}j(){this.he();this.Ek=null}fk(){return 0===this.Ek.size}he(){const a=this.Ek;for(const b of a.values())b.clear();a.clear()}Set(a,b,d){const c=this.Ek;let e=c.get(a);e||(e=new Map,c.set(a,e));e.set(b,d)}U(a,b){return(a=this.Ek.get(a))?a.get(b):a}gx(a){return(a=this.Ek.get(a))?a.has(void 0):!1}Aq(a,b){const d=this.Ek,c=d.get(a);c&&c.delete(b)&&0===c.size&&d.delete(a)}ki(){let a=0;for(const b of this.Ek.values())a+=
b.size;return a}*values(){for(const a of this.Ek.values())yield*a.values()}*entries(){for(const [a,b]of this.Ek.entries())for(const [d,c]of b.entries())yield[a,d,c]}};"use strict";const Gc=self.A;function Hc(a){if(a.Dz){const b=a.YC;Gc.G(b);for(const d of a.Vp)b.push(d);a.Dz=!1}return a.YC}
Gc.NG=class extends Gc.ra{constructor(){super();this.Vp=new Set;this.YC=[];this.Dz=!1}j(){this.he()}he(){this.Vp.clear();Gc.G(this.YC);this.Dz=!1}Bb(a){this.Vp.has(a)||(this.Vp.add(a),this.Dz||this.YC.push(a))}gx(a){return this.Vp.has(a)}Aq(a){this.Vp.delete(a)&&(this.Dz=!0)}ki(){return this.Vp.size}fk(){return 0===this.Vp.size}};"use strict";const Ic=self.A,Jc=new Map,Kc=new Map,Lc=new Map,Mc=new Map,Nc=new Map,Oc=new Map,Pc=new Map,Qc=new Map,Rc=new Map;Rc.set("linear","noease");
Rc.set("default","noease");
self.Fm=class a{constructor(){}static hP(){this.Lx();const b=[...Nc.keys()];b.sort();return[...Kc.keys()].concat(b)}static LY(b){this.Lx();return[...Kc.keys()].includes(b)}static Z0(b){const d=Rc.get(b);if(d)return Jc.get(d);if(a.LY(b))return Jc.get(b);if(Pc.has(b))return Pc.get(b)}static Mm(b){this.Lx();const d=a.Z0(b);return d?d:Nc.get(b)}static Im(b){this.Lx();return this.hP()[b]}static Lx(){0===Jc.size&&(this.Xb("default",()=>{}),this.Xb("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},
{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.Xb("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.Xb("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.Xb("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},
{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.Xb("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,
y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,
say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),
this.Xb("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.Xb("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.Xb("easeinbounce",
[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.Xb("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,
y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.Xb("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},
{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.Xb("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.Xb("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,
ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.Xb("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.Xb("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Xb("easeinquart",
[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.Xb("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.Xb("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.Xb("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.Xb("easeoutquint",[{x:0,
y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Xb("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.Xb("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutcirc",[{x:0,y:0,
sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.Xb("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.Xb("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.Xb("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,
say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.aR("cubicbezier",this.lX),this.aR("spline",this.mX))}static Xb(b,d,c=!1){if("function"===typeof d)a.Jx(b,d,"predefined");else if(Ic.ck(d))if(self.UW){const e=Ic.m(self.UW,b,c);e.rca(d);a.Jx(b,(g,k,l,n)=>e.Ja(g,k,l,n),"predefined");Qc.set(b,e)}else{const e=Ic.m(Ic.rI,[b,d.map(g=>[g.x,g.y,g.sax,g.say,g.eax,g.eay,g.se,g.ee])],!1);e.dT=!!c;a.Jx(b,(g,k,l,n)=>e.Ja(g,k,l,n),"predefined")}else throw Error("unexpected arguments");
}static aR(b,d){a.Jx(b,d,"private")}static wW(b,d,c){this.Lx();a.Jx(b,d,"custom",null,c)}static Jx(b,d,c,e,g){switch(c){case "predefined":Jc.set(b,d);Kc.set(b,d);break;case "custom":e?(Lc.has(e)||Lc.set(e,new Map),Mc.has(e)||Mc.set(e,new Map),Lc.get(e).set(b,d),Mc.get(e).set(b,g)):(Nc.set(b,d),Oc.set(b,g));break;case "private":Jc.set(b,d);Pc.set(b,d);break;default:throw Error("unexpected ease mode");}}static NP(b,d,c,e){return 0===e?d:c*b/e+d}static lX(b,d,c,e,g){return d+3*b*(c-d)+3*b**2*(d+e-2*
c)+b**3*(g-d+3*c-3*e)}static mX(b,d,c,e,g,k,l,n,p,r){if(e===g&&k===l)c=b;else{if(1==b)b=1;else{for(var w=0,x=1,z=r[x];10!=x&&z<=b;)x++,z=r[x],w+=.1;x--;z=r[x];r=w+(b-z)/(r[x+1]-z)*.1;n=n-3*k+3*e-d;k=3*k-6*e+3*d;d=3*(e-d);e=3*n*r*r+2*k*r+d;if(0!==e)if(.01<=e)for(w=0;4>w;++w)r-=(((n*r+k)*r+d)*r-b)/(3*n*r*r+2*k*r+d);else{e=w;w+=.1;x=0;let F;do r=e+(w-e)/2,z=((n*r+k)*r+d)*r-b,0<z?w=r:e=r,z=1E-7<Math.abs(z),F=10>++x;while(z&&F)}b=r}c=(((p-3*l+3*g-c)*b+(3*l-6*g+3*c))*b+3*(g-c))*b}return c}static IX(b,d,
c,e){const g=[];e=e-3*c+3*d-b;c=3*c-6*d+3*b;b=3*(d-b);for(let k=0;11>k;++k)d=.1*k,g.push(((e*d+c)*d+b)*d);return g}};"use strict";const Sc=self.A;Sc.maa=class{constructor(a){this.PS=[];this.Ka=a||""}j(){this.he();this.PS=null}fa(){return this.Ka}he(){Sc.w3(this.PS)}};"use strict";let Tc=0;
self.A.z_=class{constructor(a,b){this.g=a;this.wc=b;this.Rd=Tc++;Uc(this.g,"runtime","screen-reader-text",{type:"create",id:this.Rd,text:this.wc})}j(){Uc(this.g,"runtime","screen-reader-text",{type:"release",id:this.Rd});this.g=null;this.wc="";this.Rd=-1}Go(a){this.wc!==a&&(this.wc=a,Uc(this.g,"runtime","screen-reader-text",{type:"update",id:this.Rd,text:this.wc}))}};"use strict";
self.A.Event=class{constructor(a,b){this.type=a;this.cancelable=!!b;this.c4=this.iO=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.c4)throw Error(`cannot stop async event '${this.type}' propagation`);this.iO=!0}};"use strict";const Vc=self.A;
function Wc(a,b,d){0<a.Dk?a.Mv.push({dO:"add",Rj:b,capture:d}):d?a.vu.has(b)||(a.Xg.push(b),a.vu.add(b)):a.tv.has(b)||(a.fh.push(b),a.tv.add(b))}function Xc(a){a.Dk--;if(0===a.Dk&&0<a.Mv.length){const b=new Set,d=new Set;for(const c of a.Mv)if("add"===c.dO)Wc(a,c.Rj,c.capture),c.capture?d.delete(c.Rj):b.delete(c.Rj);else if("remove"===c.dO)c.capture?(a.vu.delete(c.Rj),d.add(c.Rj)):(a.tv.delete(c.Rj),b.add(c.Rj));else throw Error("invalid op");Vc.ai(a.fh,b);Vc.ai(a.Xg,d);Vc.G(a.Mv)}}
function Yc(a,b){const d=[];a.Dk++;for(let e=0,g=a.Xg.length;e<g;++e){var c=a.Xg[e](b);c instanceof Promise&&d.push(c)}for(let e=0,g=a.fh.length;e<g;++e)c=a.fh[e](b),c instanceof Promise&&d.push(c);Xc(a);return d.length?Promise.all(d).then(()=>!b.defaultPrevented):!b.defaultPrevented}async function Zc(a,b){return await Yc(a,b)}
async function $c(a,b){a.Dk++;for(let c=0,e=a.Xg.length;c<e;++c){var d=a.Xg[c](b);d instanceof Promise&&await d}for(let c=0,e=a.fh.length;c<e;++c)d=a.fh[c](b),d instanceof Promise&&await d;Xc(a);return!b.defaultPrevented}function*ad(a,b){a.Dk++;for(let c=0,e=a.Xg.length;c<e;++c){var d=a.Xg[c](b);Vc.Pm(d)&&(yield*d)}for(let c=0,e=a.fh.length;c<e;++c)d=a.fh[c](b),Vc.Pm(d)&&(yield*d);Xc(a)}
Vc.Event.eY=class extends Vc.ra{constructor(a){super();this.wa=a;this.Xg=[];this.vu=new Set;this.fh=[];this.tv=new Set;this.Dk=0;this.Mv=[]}j(){0<this.Dk||(Vc.G(this.Xg),this.vu.clear(),Vc.G(this.fh),this.tv.clear(),Vc.G(this.Mv),Vc.j(this))}Tt(a){a?this.Dk++:Xc(this)}};"use strict";const bd=self.A;function cd(a,b,d){let c=a.Ql.get(b);return c?c:d?(c=bd.m(bd.Event.eY,b),a.Ql.set(b,c),c):null}async function dd(a,b){return(a=cd(a,b.type,!1))?await Zc(a,b):!0}
async function ed(a,b){(a=cd(a,b.type,!1))&&await $c(a,b)}function fd(a,b){a=cd(a,b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return ad(a,b)}
bd.Event.Ua=class extends bd.ra{constructor(){super();this.Ql=new Map;this.MJ=!1}j(){if(this.MJ)throw Error("already released");if(this.Ql){for(let a of this.Ql.values())a.j();this.Ql.clear()}this.MJ=!0;bd.j(this)}Jo(){return this.MJ}addEventListener(a,b,d){Wc(cd(this,a,!0),b,!!d)}removeEventListener(a,b,d){let c=cd(this,a,!1);c&&(d=!!d,0<c.Dk?c.Mv.push({dO:"remove",Rj:b,capture:d}):d?c.vu.has(b)&&(c.vu.delete(b),Vc.zm(c.Xg,b)):c.tv.has(b)&&(c.tv.delete(b),Vc.zm(c.fh,b)),c.Xg.length||c.fh.length||
this.Ql.delete(a))}dispatchEvent(a){const b=cd(this,a.type,!1);if(b)if(a.cancelable){b.Dk++;let d=!1;for(let c=0,e=b.Xg.length;c<e;++c)if(b.Xg[c](a),a.iO){d=!0;break}if(!d)for(let c=0,e=b.fh.length;c<e&&(b.fh[c](a),!a.iO);++c);Xc(b);a=!a.defaultPrevented}else{b.Dk++;for(let d=0,c=b.Xg.length;d<c;++d)b.Xg[d](a);for(let d=0,c=b.fh.length;d<c;++d)b.fh[d](a);Xc(b);a=!0}else a=!0;return a}Tt(a){for(const b of this.Ql.values())b.Tt(a)}};"use strict";const gd=self.A,hd="undefined"!==typeof requestIdleCallback;
let id=[],ld=-1,md=0;function nd(a){ld=hd&&0===md?requestIdleCallback(od,{timeout:35}):setTimeout(od,0<md?1:a)}function od(a){ld=-1;if(id.length){var b=performance.now(),d=0;do{pd(id.shift());var c=performance.now();++d;var e=(c-b)/d*1.1}while(id.length&&(hd&&0===md&&"undefined"!==typeof a?e<a.timeRemaining():12>c-b+e));-1===ld&&id.length&&nd(Math.max(16-(c-b),4))}}function pd(a){let b;try{b=a.Rj()}catch(d){a.reject(d);return}a.resolve(b)}let qd=gd.pC.gx("disable-asyncify");qd&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");
gd.Ew=function(a){let b=null;gd.VA&&(b=gd.HB());return new Promise((d,c)=>{id.push({Rj:a,resolve:d,reject:c,stack:b});qd?pd(id.pop()):-1===ld&&nd(16)})};gd.Ew.HQ=function(a){if(a)++md;else if(--md,0>md)throw Error("already turned off high throughput mode");};"use strict";const rd=self.A;let sd=-1;function td(){sd=-1}rd.CB=function(){-1===sd&&(sd=Date.now(),self.setTimeout(td,16));return sd};let ud=-1,vd=-1,wd=new Set;
function xd(){vd=ud=-1;let a=Date.now();for(let c of wd){var b=c;var d=a;d>=b.Gr?b.uu()?(b.Gr=d+b.bq,b=!0):b=b.Nb=!1:b=!0;if(b){if(b=c.Gr,-1===vd||b<vd)vd=b}else wd.delete(c)}-1!==vd&&(ud=self.setTimeout(xd,Math.max(vd-a+100,1E3)))}
rd.zY=class{constructor(a,b){this.uu=a;this.bq=1E3*b;this.Gr=0;this.Nb=!1}Tb(){let a=rd.CB();this.Gr=a+this.bq;this.Nb||(wd.add(this),this.Nb=!0);-1===ud?(vd=this.Gr,ud=self.setTimeout(xd,this.bq+100)):this.Gr<vd&&vd>a+1E3&&(self.clearTimeout(ud),vd=this.Gr,ud=self.setTimeout(xd,this.bq+100))}j(){this.Nb&&(wd.delete(this),this.Nb=!1,0===wd.size&&-1!==ud&&(self.clearTimeout(ud),vd=ud=-1));this.uu=null}};"use strict";const yd=self.A;
yd.cd=class a{constructor(b){this.Gu=!1;this.DD=b}AB(){this.Gu||(this.Gu=!0,this.DD&&(this.DD(),this.DD=null))}j(){this.AB()}static j(b){return new a(()=>b.j())}static Yd(b,d,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const g=new yd.tt;for(let k of d)b.addEventListener(k,c,e),g.Bb(yd.m(yd.cd,()=>b.removeEventListener(k,c,e)));return g}b.addEventListener(d,
c,e);return yd.m(yd.cd,()=>b.removeEventListener(d,c,e))}};function zd(a,b){a.DD=b}yd.Sda=class extends yd.cd{};yd.tt=class extends yd.cd{constructor(...a){super();this.bf=new Set;for(let b of a)this.Bb(b)}Bb(...a){if(this.Gu)throw Error("already disposed");for(let b of a)this.bf.add(b)}zf(a){if(this.Gu)throw Error("already disposed");this.bf.delete(a)}AB(){if(this.Gu)throw Error("already disposed");this.Gu=!0;for(let a of this.bf)a.AB();this.bf.clear();this.bf=null}j(){this.AB()}};"use strict";
const Ad=self.A;Ad.Pt=class extends Ad.ra{constructor(){super();this.Yp=this.Ns=this.ea=this.su=0}Bb(a){this.ea=+a-this.su;this.Ns=this.Yp+this.ea;this.su=this.Ns-this.Yp-this.ea;this.Yp=this.Ns}U(){return this.Yp}Tb(){this.Yp=this.Ns=this.ea=this.su=0}Set(a){this.Ns=this.ea=this.su=0;this.Yp=+a}ZG(a){this.su=a.su;this.ea=a.ea;this.Ns=a.Ns;this.Yp=a.Yp}j(){}};"use strict";
const Bd=self.A,Dd={OH:function(a){this.eW=a;this.left=this.right=this.eW.Ib;this.parent=null;this.color=!1;this.key=null},Uq:function(a){this.size=0;this.Ib=new Dd.OH(this);this.Ib.color=!1;this.root=this.Ib;this.root.parent=this.Ib;this.compare=a||this.G3}};aa=Dd.Uq.prototype;aa.G3=function(a,b){return a<b?-1:b<a?1:0};
aa.clone=function(){var a=new Dd.Uq(this.compare);if("array"==Dd.xO(this))for(var b=0;b<this.length;b++)a.qw(this[b]);else if("function"==Dd.xO(this.forEach))this.forEach(a.qw,a);else if("function"==Dd.xO(this.EN)){var d=this.EN();for(b=0;b<d.length;b++)a.qw(d[b])}else if("object"==Dd.xO(this))for(b in this)a.qw(this[b]);return a};aa.clear=function(){this.size=0;this.Ib=new Dd.OH(this);this.Ib.color=!1;this.root=this.Ib;this.root.parent=this.Ib};
function Ed(a,b){var d=b.right;b.right=d.left;d.left!=a.Ib&&(d.left.parent=b);d.parent=b.parent;b.parent==a.Ib?a.root=d:b==b.parent.left?b.parent.left=d:b.parent.right=d;d.left=b;b.parent=d}function Fd(a,b){var d=b.left;b.left=d.right;d.right!=a.Ib&&(d.right.parent=b);d.parent=b.parent;b.parent==a.Ib?a.root=d:b==b.parent.right?b.parent.right=d:b.parent.left=d;d.right=b;b.parent=d}
aa.qw=function(a){if(this.contains(a))Gd(this,a).key=a;else{var b=new Dd.OH(this);b.key=a;a=this.Ib;for(var d=this.root;d!=this.Ib;)a=d,d=0>this.compare(b.key,d.key)?d.left:d.right;b.parent=a;a==this.Ib?this.root=b:0>this.compare(b.key,a.key)?a.left=b:a.right=b;b.left=this.Ib;b.right=this.Ib;for(b.color=!0;b!=this.Ib&&b!=this.root&&1==b.parent.color;)b.parent==b.parent.parent.left?(a=b.parent.parent.right,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&
(b=b.parent,Ed(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Ib&&Fd(this,b.parent.parent))):(a=b.parent.parent.left,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,Fd(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Ib&&Ed(this,b.parent.parent)));this.root.color=!1;this.size++}};
aa.remove=function(a){var b=Gd(this,a);if(b!=this.Ib){a=b.key;var d=b.left==this.Ib||b.right==this.Ib?b:Hd(this,b);var c=d.left!=this.Ib?d.left:d.right;c.parent=d.parent;d.parent==this.Ib?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=b&&(b.key=d.key);if(0==d.color){for(b=c;b!=this.root&&0==b.color;)b==b.parent.left?(d=b.parent.right,1==d.color&&(d.color=!1,b.parent.color=!0,Ed(this,b.parent),d=b.parent.right),0==d.left.color&&0==d.right.color?(d.color=!0,b=b.parent):(0==d.right.color&&
(d.left.color=!1,d.color=!0,Fd(this,d),d=b.parent.right),d.color=b.parent.color,b.parent.color=!1,d.right.color=!1,Ed(this,b.parent),b=this.root)):(d=b.parent.left,1==d.color&&(d.color=!1,b.parent.color=!0,Fd(this,b.parent),d=b.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,b=b.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,Ed(this,d),d=b.parent.left),d.color=b.parent.color,b.parent.color=!1,d.left.color=!1,Fd(this,b.parent),b=this.root));b.color=!1}this.size--;return a}return null};
aa.min=function(a){for(;a.left!=this.Ib;)a=a.left;return a};aa.max=function(a){for(;a.right!=this.Ib;)a=a.right;return a};function Hd(a,b){if(b.right!=a.Ib)return a.min(b.right);for(var d=b.parent;d!=a.Ib&&b==d.right;)b=d,d=d.parent;return d}function Gd(a,b){for(var d=a.root;d!=a.Ib&&0!=a.compare(d.key,b);)d=0>a.compare(b,d.key)?d.left:d.right;return d}aa.contains=function(a){return null!=Gd(this,a).key};aa.EN=function(){var a=[];this.forEach(function(b){a.push(b)});return a};
aa.range=function(a,b){var d=[];Id(this,function(c){d.push(c)},a,b);return d};function Id(a,b,d,c){if(0!=a.size)for(d=Gd(a,d),c=Gd(a,c);d!=c&&!b.call(void 0,d.key,a);)d=Hd(a,d)}aa.forEach=function(a,b){if(0!=this.size)for(var d=this.min(this.root);d!=this.Ib;d=Hd(this,d))a.call(b,d.key,d.key,this)};aa.some=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.Ib;d=Hd(this,d))if(a.call(b,d.key,d.key,this))return!0;return!1};
aa.every=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.Ib;d=Hd(this,d))if(!a.call(b,d.key,d.key,this))return!1;return!0};aa.map=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.Ib;c=Hd(this,c))d.push(a.call(b,c.key,c.key,this));return d};aa.filter=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.Ib;c=Hd(this,c))a.call(b,c.key,c.key,this)&&d.push(c.key);return d};
function Jd(a,b){b=!!b;if(a.Ju!==b&&(a.Ju=b,!b)){for(const d of a.Es)a.Cj.remove(d);a.Es.clear();for(const d of a.Ds)a.Cj.qw(d);a.Ds.clear()}}
Bd.Uq=class extends Bd.ra{constructor(a){super();this.Cj=new Dd.Uq(a);this.Ju=!1;this.Ds=new Set;this.Es=new Set}Bb(a){this.Ju?this.Cj.contains(a)?this.Es.delete(a):this.Ds.add(a):this.Cj.qw(a)}zf(a){this.Ju?this.Cj.contains(a)?this.Es.add(a):this.Ds.delete(a):this.Cj.remove(a)}gx(a){return this.Ju?this.Ds.has(a)?!0:!this.Es.has(a)&&this.Cj.contains(a):this.Cj.contains(a)}he(){this.Cj.clear();this.Ds.clear();this.Es.clear()}toArray(){if(this.Ju)throw Error("cannot be used in queueing mode");return this.Cj.EN()}ki(){return this.Cj.size+
this.Ds.size-this.Es.size}fk(){return 0===this.ki()}*values(){if(!this.fk()){var a=this.Cj;for(let b=a.min(a.root);b!=a.Ib;b=Hd(a,b))yield b.key}}[Symbol.iterator](){return this.values()}};"use strict";const Kd=self.A;async function Ld(a){if(a.cM.length&&!(a.XI>=a.H2)){a.XI++;var b=a.cM.shift();try{const d=await b.Rj();b.resolve(d)}catch(d){b.reject(d)}a.XI--;Ld(a)}}
Kd.ox=class{constructor(a=Kd.hardwareConcurrency){this.H2=a;this.cM=[];this.XI=0}Bb(a){return new Promise((b,d)=>{this.cM.push({Rj:a,resolve:b,reject:d});Ld(this)})}};"use strict";const Md=self.A;function Nd(a){a.vK=!0;const b=a.ly;a.ly=null;b?a.uu(...b):a.uu();a.vK=!1}function Od(a){var b=[];if(-1===a.$v){a.ly=b;b=Md.CB();var d=b-a.IE;var c="undefined"!==typeof Md.PW&&Md.PW.T8()?a.q2:a.o2;d>=c&&a.K1?(a.IE=b,Nd(a)):a.$v=self.setTimeout(a.rU,Math.max(c-d,4))}}
function Pd(a){-1!==a.$v&&(self.clearTimeout(a.$v),a.$v=-1)}Md.q_=class{constructor(a,b,d){this.uu=a;this.o2=b;this.q2=d||2*b;this.$v=-1;this.IE=-Infinity;this.rU=()=>{this.$v=-1;this.IE=Md.CB();Nd(this)};this.K1=this.vK=!1;this.ly=null}Tb(){this.vK||(Pd(this),this.ly=null,this.IE=Md.CB())}j(){Pd(this);this.rU=this.ly=this.uu=null}};"use strict";function Qd(a,b){if(!a.mS)throw Error("no get base size callback set");return a.mS(b)}
self.A.Iba=class{constructor(){this.m2=new Map;this.NT=this.TT=this.mS=null}qC(){if(!this.NT)throw Error("no redraw callback set");this.NT()}};"use strict";
self.A.Hba=class{constructor(a,b){this.te=a;this.U1=b;this.fc=0;Qd(this.te,b).then(()=>{this.te&&this.te.qC()}).catch(d=>{console.error("[SVG] Error loading SVG: ",d);this.te&&this.te.qC()});this.dM=null}j(){if(0>=this.fc)throw Error("already released");this.fc--;if(0===this.fc){if(this.dM){var a=this.te;if(!a.TT)throw Error("no release result callback set");a.TT(this.dM);this.dM=null}this.te.m2.delete(this.U1);this.te=null}}};"use strict";const T=self.A;T.sea="\ufeff";const Rd=new Set([..."0123456789"]);
T.MY=function(a){return Rd.has(a)};const Sd=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);T.gC=function(a){return Sd.has(a)};T.u7=function(a){return[...a].filter(b=>!T.gC(b)).join("")};T.PY=function(a){for(const b of a)if(!T.gC(b))return!1;return!0};T.uP=function(a){for(const b of a)if(!T.gC(b))return!1;return!0};T.SY=function(a){return 1===a.length&&32>a.charCodeAt(0)};
T.xX=function(a){return[...a].filter(b=>!T.SY(b)).join("")};const Td=new Set([..."0123456789.+-e"]);T.e9=function(a){a=a.trim();if(!a.length)return!1;let b=a.charAt(0);if("-"!==b&&!Rd.has(b))return!1;for(let d of a)if(!Td.has(d))return!1;return!0};T.r_=function(a){let b=a.length;for(;0<b&&T.MY(a.charAt(b-1));)--b;return a.substr(0,b)};T.tP=function(a){let b=T.r_(a);a=(a=a.substr(b.length))?(parseInt(a,10)+1).toString():"2";return b+a};
const Ud=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function Vd(a){return Ud.get(a)}const Wd=/[&<>"']/g;T.TO=function(a){return a.replace(Wd,Vd)};T.f7=function(a){a=T.ri(a,"\\","\\\\");a=T.ri(a,'"','\\"');a=T.ri(a,"\t","\\t");a=T.ri(a,"\r","");return T.ri(a,"\n","\\n")};T.g7=function(a){a=T.ri(a,"&","&amp;");a=T.ri(a,"<","&lt;");a=T.ri(a,">","&gt;");return T.ri(a,'"',"&quot;")};const Xd=/[-[\]{}()*+?.,\\^$|#\s]/g;T.Gw=function(a){return a.replace(Xd,"\\$&")};
T.Q6=function(a,b){let d=0;for(const c of a)c===b&&++d;return d};T.v7=function(a,b,d=!1){if(!b)return[];d||(a=a.toLowerCase(),b=b.toLowerCase());d=b.length;var c=0;let e=[];for(;-1<(c=a.indexOf(b,c));)e.push(c),c+=d;return e};T.ri=function(a,b,d){return a.replaceAll(b,()=>d)};T.Eaa=function(a,b,d){return a.replace(new RegExp(T.Gw(b),"gi"),()=>d)};
T.jca=function(a,b){if("string"===typeof b)a.textContent=b;else if(b.LS)a.textContent=b.toString();else if(a.innerHTML=Yd(b),b instanceof T.wq&&b.vz.length)for(let d=0,c=b.vz.length;d<c;++d){const e=b.vz[d];if("function"!==typeof e)continue;const g=a.querySelector(".bblink"+d);if(!g)throw Error("unable to attach BBString link handler");g.onclick=e}};T.Oda=function(a,b){return a instanceof T.$B||a instanceof T.wq?a.zd(b):b instanceof T.$B||b instanceof T.wq?b.zd(a):a===b};
T.Pda=function(a,...b){let d=a;for(let c=0,e=b.length;c<e;++c){const g=`{${c}}`;if(!a.includes(g))throw Error(`missing placeholder '${g}' in string substitution`);d=d.replace(g,b[c].toString())}return d};T.Qda=function(a,...b){let d=a,c=-1,e=-1;for(let g=0,k=b.length;g<k;++g){const l=`{${g}}`;a.includes(l)?(e=g,d=d.replace(l,b[g].toString())):-1===c&&(c=g)}if(0<=c&&0<=e&&c<e)throw Error(`missing placeholder '${c}' in string substitution`);return d};
T.X_=function(a){var b={"%%SAMPLERFRONT_BINDING%%":"@binding(0) @group(1)","%%TEXTUREFRONT_BINDING%%":"@binding(1) @group(1)","%%SAMPLERBACK_BINDING%%":"@binding(0) @group(2)","%%TEXTUREBACK_BINDING%%":"@binding(1) @group(2)","%%SAMPLERDEPTH_BINDING%%":"@binding(0) @group(3)","%%TEXTUREDEPTH_BINDING%%":"@binding(1) @group(3)","%%SHADERPARAMS_BINDING%%":"@binding(5) @group(0)","%%FRAGMENTINPUT_STRUCT%%":"\nstruct FragmentInput {\n\t@location(0) fragUV : vec2<f32>,\n\t@location(1) fragColor : vec4<f32>,\n\t@builtin(position) fragPos : vec4<f32>\n};\n\nfn c3_getBackUV(fragPos : vec2<f32>, texBack : texture_2d<f32>) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texBack));\n}\n\nfn c3_getDepthUV(fragPos : vec2<f32>, texDepth : texture_depth_2d) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texDepth));\n}\n",
"%%FRAGMENTOUTPUT_STRUCT%%":"\nstruct FragmentOutput {\n\t@location(0) color : vec4<f32>\n};\n","%%C3PARAMS_STRUCT%%":"\nstruct C3Params {\n\tsrcStart\t\t\t: vec2<f32>,\n\tsrcEnd\t\t\t\t: vec2<f32>,\n\tsrcOriginStart\t\t: vec2<f32>,\n\tsrcOriginEnd\t\t: vec2<f32>,\n\tlayoutStart\t\t\t: vec2<f32>,\n\tlayoutEnd\t\t\t: vec2<f32>,\n\tdestStart\t\t\t: vec2<f32>,\n\tdestEnd\t\t\t\t: vec2<f32>,\n\tdevicePixelRatio\t: f32,\n\tlayerScale\t\t\t: f32,\n\tlayerAngle\t\t\t: f32,\n\tseconds\t\t\t\t: f32,\n\tzNear\t\t\t\t: f32,\n\tzFar\t\t\t\t: f32,\n\tisSrcTexRotated\t\t: u32\n};\n@binding(4) @group(0) var<uniform> c3Params : C3Params;\n\nfn c3_srcToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcStart) / (c3Params.srcEnd - c3Params.srcStart);\n}\n\nfn c3_normToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcEnd - c3Params.srcStart, c3Params.srcStart);\n}\n\nfn c3_clampToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcStart, c3Params.srcEnd), max(c3Params.srcStart, c3Params.srcEnd));\n}\n\nfn c3_srcOriginToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcOriginStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart);\n}\n\nfn c3_normToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcOriginEnd - c3Params.srcOriginStart, c3Params.srcOriginStart);\n}\n\nfn c3_clampToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcOriginStart, c3Params.srcOriginEnd), max(c3Params.srcOriginStart, c3Params.srcOriginEnd));\n}\n\nfn c3_getLayoutPos(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcOriginStart, (c3Params.layoutEnd - c3Params.layoutStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart), c3Params.layoutStart);\n}\n\nfn c3_srcToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcStart, (c3Params.destEnd - c3Params.destStart) / (c3Params.srcEnd - c3Params.srcStart), c3Params.destStart);\n}\n\nfn c3_clampToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.destStart, c3Params.destEnd), max(c3Params.destStart, c3Params.destEnd));\n}\n\nfn c3_linearizeDepth(depthSample : f32) -> f32\n{\n\treturn c3Params.zNear * c3Params.zFar / (c3Params.zFar + depthSample * (c3Params.zNear - c3Params.zFar));\n}\n",
"%%C3_UTILITY_FUNCTIONS%%":"\nfn c3_premultiply(c : vec4<f32>) -> vec4<f32>\n{\n\treturn vec4<f32>(c.rgb * c.a, c.a);\n}\n\nfn c3_unpremultiply(c : vec4<f32>) -> vec4<f32>\n{\n\tif (c.a == 0.0)\n\t{\n\t\treturn vec4<f32>(0.0);\n\t}\n\t\n\treturn vec4<f32>(c.rgb / c.a, c.a);\n}\n\nfn c3_grayscale(rgb : vec3<f32>) -> f32\n{\n\treturn dot(rgb, vec3<f32>(0.299, 0.587, 0.114));\n}\n\nfn c3_getPixelSize(t : texture_2d<f32>) -> vec2<f32>\n{\n\treturn vec2<f32>(1.0) / vec2<f32>(textureDimensions(t));\n}\n\nfn c3_clamp2(v : vec2<f32>, l : f32, u : f32) -> vec2<f32>\n{\n\treturn clamp(v, vec2<f32>(l), vec2<f32>(u));\n}\n\nfn c3_mod(x : f32, y : f32) -> f32\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_mod2(x : vec2<f32>, y : vec2<f32>) -> vec2<f32>\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_RGBtoHSL(color : vec3<f32>) -> vec3<f32>\n{\n\tvar hsl : vec3<f32> = vec3<f32>(0.0);\n\t\n\tvar fmin : f32 = min(min(color.r, color.g), color.b);\n\tvar fmax : f32 = max(max(color.r, color.g), color.b);\n\tvar delta : f32 = fmax - fmin;\n\n\thsl.z = (fmax + fmin) / 2.0;\n\n\tif (delta == 0.0)\n\t{\n\t\thsl.x = 0.0;\n\t\thsl.y = 0.0;\n\t}\n\telse \n\t{\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\thsl.y = delta / (fmax + fmin);\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsl.y = delta / (2.0 - fmax - fmin);\n\t\t}\n\t\t\n\t\tvar dR : f32 = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dG : f32 = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dB : f32 = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\tif (color.r == fmax)\n\t\t{\n\t\t\thsl.x = dB - dG;\n\t\t}\n\t\telse if (color.g == fmax)\n\t\t{\n\t\t\thsl.x = (1.0 / 3.0) + dR - dB;\n\t\t}\n\t\telse if (color.b == fmax)\n\t\t{\n\t\t\thsl.x = (2.0 / 3.0) + dG - dR;\n\t\t}\n\n\t\tif (hsl.x < 0.0)\n\t\t{\n\t\t\thsl.x = hsl.x + 1.0;\n\t\t}\n\t\telse if (hsl.x > 1.0)\n\t\t{\n\t\t\thsl.x = hsl.x - 1.0;\n\t\t}\n\t}\n\n\treturn hsl;\n}\n\nfn c3_hueToRGB(f1 : f32, f2 : f32, hue_ : f32) -> f32\n{\n\tvar hue : f32 = hue_;\n\tif (hue < 0.0)\n\t{\n\t\thue = hue + 1.0;\n\t}\n\telse if (hue > 1.0)\n\t{\n\t\thue = hue - 1.0;\n\t}\n\t\t\n\tvar ret : f32;\n\t\n\tif ((6.0 * hue) < 1.0)\n\t{\n\t\tret = f1 + (f2 - f1) * 6.0 * hue;\n\t}\n\telse if ((2.0 * hue) < 1.0)\n\t{\n\t\tret = f2;\n\t}\n\telse if ((3.0 * hue) < 2.0)\n\t{\n\t\tret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t}\n\telse\n\t{\n\t\tret = f1;\n\t}\n\t\n\treturn ret;\n}\n\nfn c3_HSLtoRGB(hsl : vec3<f32>) -> vec3<f32>\n{\n\tvar rgb : vec3<f32> = vec3<f32>(hsl.z);\n\t\n\tif (hsl.y != 0.0)\n\t{\n\t\tvar f2 : f32;\n\t\t\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t}\n\t\t\t\n\t\tvar f1 : f32 = 2.0 * hsl.z - f2;\n\t\t\n\t\trgb.r = c3_hueToRGB(f1, f2, hsl.x + (1.0 / 3.0));\n\t\trgb.g = c3_hueToRGB(f1, f2, hsl.x);\n\t\trgb.b = c3_hueToRGB(f1, f2, hsl.x - (1.0 / 3.0));\n\t}\n\t\n\treturn rgb;\n}\n"};
for(let [d,c]of Object.entries(b))a=a.replaceAll(d,c.toString());return a};T.Bda=function(a,b){return a>b?1:a<b?-1:0};T.Cda=function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a>b?1:a<b?-1:0};let Zd=null,$d=null;self.Intl&&self.Intl.Segmenter?Zd=new self.Intl.Segmenter:$d=new self.cY;T.PQ=function(a){if(Zd){const b=[];for(const d of Zd.segment(a))b.push(d.segment);return b}return $d.M4(a)};T.i9=function*(a){if(Zd)for(const b of Zd.segment(a))yield b.segment;else yield*$d.h4(a)};
T.R6=function(a){if(Zd){let b=0;for(const d of Zd.segment(a))++b;return b}return $d.C3(a)};
T.B7=function(a,b){b="common."+(b?"dataRates":"dataSizes")+".";const d=self.Dga;if(1024>a)return d(b+"bytes",a);if(1048576>a)return a/=1024,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"kilobytes",a);if(1073741824>a)return a/=1048576,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"megabytes",a);if(1099511627776>a)return a/=1073741824,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"gigabytes",a);a/=1099511627776;a=10>a?Math.round(10*a)/10:Math.round(a);return d(b+"terabytes",a)};
const ae={s3:!1,D3:!0,Z3:!0,o4:!0,BG:!0};
T.C7=function(a,b){b=Object.assign({},ae,b);T.XY.paa("common.time");const d=[],c=self.lang,e=self.Cga;if(b.D3){var g=Math.floor(a/86400);0<g&&(a-=86400*g,d.push(e(".days",null,g)))}b.Z3&&(g=Math.floor(a/3600),0<g||d.length)&&(a-=3600*g,d.push(e(".hours",null,g)));b.o4&&(g=Math.floor(a/60),0<g||d.length||!b.BG)&&(a-=60*g,d.push(e(".minutes",null,g)));b.BG&&d.push(e(".seconds",null,Math.floor(a%60)));a=(b.s3?c(".approx-prefix"):"")+d.join(c(".separator"));T.XY.eaa();return a};
T.dfa=function(a,b){let d=0>a?"-":"";a=Math.abs(a);a=a.toString();b-=a.length;for(let c=0;c<b;++c)d+="0";return d+a};T.Rda=function(a){return a.toLowerCase().replace(/\b\w/g,b=>b.toUpperCase())};T.H6=function(a,b){a=a.split(".").map(d=>d.trim());b=b.split(".").map(d=>d.trim());T.PV(a);T.PV(b);a=a.map(d=>parseInt(d,10));b=b.map(d=>parseInt(d,10));for(let d=0;4>d;++d){const c=a[d]-b[d];if(0!==c)return 0>c?-1:1}return 0};
T.S6=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const b=Math.floor(16*Math.random());return("x"===a?b:b&3|8).toString(16)})};T.Mda=function(a,b){if(a.length!==b.length)throw Error("strings must be same length");let d=0;for(let c=0,e=a.length;c<e;++c)a.charAt(c)!==b.charAt(c)&&++d;return d};
T.Nda=function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;let d,c,e,g;if(a.length>b.length){var k=a;a=b;b=k}g=Array(a.length+1);for(k=0;k<=a.length;k++)g[k]=k;for(k=1;k<=b.length;k++){c=k;for(d=1;d<=a.length;d++)e=b[k-1]===a[d-1]?g[d-1]:Math.min(g[d-1]+1,Math.min(c+1,g[d]+1)),g[d-1]=c,c=e;g[a.length]=c}return g[a.length]};"use strict";
const be=self.A,ce=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],
["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),de=new Set(["icon"]),ee=/\[(\/?)([a-zA-Z0-9]+)\]/g,fe=/\[(\/?)([^\[\n]*?)\]/g;let ge=null,he=null,ie=0;
function ke(a,b,d){var c=ce.get(d);if(c){if("string"===typeof c){if("a"===c&&0===ge.length||"abbr"===c&&0===he.length)return a;if("a"!==c||b){if("abbr"!==c||b)return"<"+b+c+">";b=parseInt(d.substring(3),10)-1;if(0>b||b>=he.length)throw Error("invalid bbcode tip substitution");b=he[b];c="";"string"===typeof b?c=b:"function"===typeof b&&(c=b());if("string"!==typeof c)throw new TypeError("invalid bbcode tip");return`<abbr title="${be.ri(c,'"',"&quot;")}">`}b=parseInt(d.substring(1),10)-1;if(0>b||b>=
ge.length)throw Error("invalid bbcode link substitution");c=ge[b];if("string"===typeof c)return`<a href="${ge[b]}">`;if("function"===typeof c)return`<a class="bblink${b}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(c))return a=c[0],c=c[1],b?"</"+a+">":`<${a} class="${c}">`}else return"class"===d?b?"</span>":`<span class="bbclass${ie++}">`:a}const le=/\n/g;
function Yd(a){if(a.LS)return a.jj;if(!a.rK&&a.jj){let b=a.jj;a.pS&&(ie=0,ge=a.vz,he=a.tU,b=b.replace(ee,ke),he=ge=null);a.sT&&(b=b.replace(le,"<br>"));a.rK=b}return a.rK}function me(a){a=be.ri(a,"\\[","[");return be.ri(a,"\\\\","\\")}
function ne(a){if(a.sS)return a.Tr;const b=[],d=a.jj,c=[];let e=fe.lastIndex=0;for(var g=null;null!==(g=fe.exec(d));){var k=g.index;if(0<k&&"\\"===d.charAt(k-1))continue;var l=g[1],n=g[2];const p=d.substring(e,k);e=k+g[0].length;p&&b.push({text:p,ph:c.slice(0)});if(n)if(l)for(n=n.toLowerCase(),g=c.length-1;0<=g;--g){if(c[g].tag===n){c.splice(g,1);break}}else if(g=n,k=null,l=n.indexOf("="),-1!==l?(g=n.substring(0,l).toLowerCase(),k=n.substring(l+1)):g=g.toLowerCase(),de.has(g))if("icon"===g)b.push({icon:k,
ph:c.slice(0)});else throw Error(`unknown self-closing tag ${g}`);else c.push({tag:g,bg:k})}e<d.length&&b.push({text:d.substring(e),ph:c.slice(0)});for(const p of b)p.text&&(p.text=me(p.text));a.Tr=b.map(p=>p.icon?be.m(be.sP,{icon:p.icon,ph:p.ph}):be.m(be.Um,{eo:be.PQ(p.text),ph:p.ph}));a.sS=!0;return a.Tr}
be.wq=class{constructor(a){var b={r4:!0};this.jj=b&&b.r4?a:be.TO(a);this.rK="";this.IR=!1;this.vz=[];this.tU=[];if(b){this.IR=!!b.yfa;if(b.links){if(9<b.links.length)throw Error("too many links");this.vz=b.links}if(b.aW){if(9<b.aW.length)throw Error("too many tips");this.tU=b.aW}}this.pS=this.jj.includes("[");this.sT=this.IR&&this.jj.includes("\n");this.LS=!this.pS&&!this.sT&&!this.jj.includes("&");this.sS=!1;this.Tr=[]}toString(){return this.jj}valueOf(){return this.jj}zd(a){return a instanceof be.$B?
Yd(this)===Yd(a):a instanceof be.wq?this.jj===a.jj:this.jj===a}};"use strict";const oe=self.A;function pe(a){return"\u00a0"===a||"\u202f"===a?!1:oe.gC(a)}
function qe(a,b,d){let c=0,e=0,g=0,k=0,l=0;for(const n of b)-1===n.M()&&(b=d(n),n.zh(b.height),n.Qr=b.fontBoundingBoxAscent||0,n.Tl=b.fontBoundingBoxDescent||0,n.cq=b.kl||0,n.ng()?n.qg(b.width):n.xo()&&(b=re(n,a.Vl),n.P=b?n.S*b.M()/b.K():0)),c+=n.M(),e=Math.max(e,n.K()),g=Math.max(g,n.Qr),k=Math.max(k,n.Tl),l=Math.max(l,n.cq);return{width:c,height:e,fontBoundingBoxAscent:g,fontBoundingBoxDescent:k,kl:l}}
function se(a,b,d,c,e,g,k){a.tj.push(oe.m(oe.Ix.BH,{pq:b,width:d,height:c,fontBoundingBoxAscent:e,fontBoundingBoxDescent:g,kl:k}))}
function te(a){const b=[];var d=[],c=!1;for(const g of a)if(a=g.jm,g.xo())0<d.length&&b.push(d),b.push([g]),d=[];else for(const k of g.vg)if("\n"===k||"\r\n"===k)0<d.length&&b.push(d),d=oe.m(oe.Um,{eo:["\n"],ph:a}),b.push([d]),d=[];else if(0===d.length)c=oe.m(oe.Um,{eo:[k],ph:a}),d.push(c),c=pe(k);else{var e=pe(k);e===c?(e=d.at(-1),e.jm===a?e.vg.push(k):(e=oe.m(oe.Um,{eo:[k],ph:a}),d.push(e))):(b.push(d),d=[],c=oe.m(oe.Um,{eo:[k],ph:a}),d.push(c),c=e)}0<d.length&&b.push(d);return b}
function ue(a,b,d,c,e){var g=[],k=0,l=0;let n=0,p=0;var r=0;for(const w of b){if(b=1===w.length&&w[0].ng()&&1===w[0].Vw())b=w[0].vg[0],b="\n"===b||"\r\n"===b;if(b){0===l&&(l=oe.m(oe.Um,{eo:[" "],ph:w[0].jm}),r=d(l),l=r.height,n=r.fontBoundingBoxAscent||0,p=r.fontBoundingBoxDescent||0,r=r.kl||0);se(a,g,k,l,n,p,r);g=[];r=p=n=l=k=0;continue}b=ve(g);we(b,w);const x=qe(a,b,d),z=x.width;z>=c?(0<g.length&&se(a,g,k,l,n,p,r),g=[],w[0].ng()&&oe.uP(w[0].vg)?r=p=n=l=k=0:(we(g,w),r=qe(a,g,d),k=r.width,l=r.height,
n=r.fontBoundingBoxAscent,p=r.fontBoundingBoxDescent,r=r.kl)):(g=b,k=z,l=x.height,n=x.fontBoundingBoxAscent,p=x.fontBoundingBoxDescent,r=x.kl)}0<g.length&&se(a,g,k,l,n,p,r);for(const w of a.tj)if(a=w.Tr,a.length&&(c=a.at(-1),c.ng())){g=c.vg;for(k=g.slice(0);0<k.length&&pe(k.at(-1));)k.pop();0===k.length?(w.gk(-c.M()),a.pop()):k.length<g.length&&(c.vg=k,g=d(c).width,k=c.M()-g,c.qg(g),w.gk(-k));0!==e&&0<a.length&&(c=a.at(-1),c.gk(e),w.gk(e))}}function ve(a){return a.map(b=>b.zI())}
function we(a,b){var d=a.length?a.at(-1):null;let c=0;d&&d.ng()&&b[0].ng()&&b[0].jm===d.jm&&(xe.ym(d.vg,b[0].vg),d.P=-1,d.S=-1,d.Qr=-1,d.Tl=-1,d.cq=-1,c=1);for(d=b.length;c<d;++c)a.push(b[c].zI())}function ye(a){return a.tj.reduce((b,d)=>Math.max(b,d.M()),0)}function ze(a){return a.tj.reduce((b,d)=>b+d.K(),0)}
oe.Ix=class{constructor(){this.tj=[];this.Vl=null}Ax(a){this.Vl=a}Ix(a,b,d,c,e){"string"===typeof a&&(a=[oe.m(oe.Um,{eo:oe.PQ(a)})]);oe.G(this.tj);if(!(!a.length||1===a.length&&a[0].ng()&&a[0].fk()||2>d)){if(1===a.length){const g=a[0];if(g.ng()&&100>=g.Vw()&&!g.vg.includes("\n")){let {width:k,height:l,fontBoundingBoxAscent:n,fontBoundingBoxDescent:p,kl:r}=b(g);k+=e;g.qg(k);g.zh(l);g.Qr=n||0;g.Tl=p||0;g.cq=r||0;if(k<=d){se(this,[g],k,l,n,p,r);return}}}if("word"===c)c=te(a);else{c=[];for(const g of a)g.ng()?
oe.ym(c,g.vg.map(k=>[oe.m(oe.Um,{eo:[k],ph:g.jm})])):c.push([g])}ue(this,c,b,d,e)}}he(){oe.G(this.tj)}};"use strict";function*Ae(a){a=a.Tr;for(let b=a.length-1;0<=b;--b)yield a[b]}self.A.Ix.BH=class{constructor(a){this.Tr=a.pq||[];this.P=a.width||-1;this.S=a.height||-1;this.Qr=a.fontBoundingBoxAscent||-1;this.Tl=a.fontBoundingBoxDescent||-1;this.cq=a.kl||-1;this.Np=this.Mp=0}pq(){return this.Tr.values()}gk(a){this.P+=a}M(){return this.P}K(){return this.S}Bx(a){this.Mp=a}Cx(a){this.Np=a}};"use strict";
function Ce(a,b){a=a.jm;for(let d=a.length-1;0<=d;--d){const c=a[d];if(c.tag===b)return c}return null}function De(a){const b=new Map;for(const d of a.jm)b.set(d.tag,d.bg);return b}
self.A.$O=class{constructor(a){this.jm=a.ph||[];this.P=a.width||-1;this.S=a.height||-1;this.Qr=a.fontBoundingBoxAscent||-1;this.Tl=a.fontBoundingBoxDescent||-1;this.cq=a.kl||-1;this.Np=this.Mp=0}ng(){return!1}xo(){return!1}gk(a){this.P+=a}qg(a){this.P=a}M(){return this.P}zh(a){this.S=a}K(){return this.S}Bx(a){this.Mp=a}Cx(a){this.Np=a}};"use strict";const xe=self.A;
xe.Um=class extends xe.$O{constructor(a){super(a);this.vg=a.eo}ng(){return!0}zI(){return xe.m(xe.Um,{eo:this.vg.slice(0),ph:this.jm,width:this.P,height:this.S,fontBoundingBoxAscent:this.Qr,fontBoundingBoxDescent:this.Tl,kl:this.cq})}Vw(){return this.vg.length}fk(){return 0===this.vg.length}};"use strict";const Ee=self.A;
function re(a,b){if(!b)return null;let d=Number(a.Yy);return String(d)===a.Yy?(d=Math.floor(d),a=Math.floor(d),0>a||a>=b.Xr.length?null:b.Xr[a]):b.uK.get(a.Yy.toLowerCase())||null}Ee.sP=class extends Ee.$O{constructor(a){super(a);this.Yy=a.icon}xo(){return!0}zI(){return Ee.m(Ee.sP,{icon:this.Yy,ph:this.jm,width:this.P,height:this.S,fontBoundingBoxAscent:this.Qr,fontBoundingBoxDescent:this.Tl,kl:this.cq})}dH(a){return(a=re(this,a))?a.dH():null}Vw(){return 1}};"use strict";const Fe=self.A;
function Ge(a,b){var d=a.Yu.get(b);if(d)return d;d=a.f2(b);d=Fe.m(Fe.b0,a,{source:b,a4:d});a.Yu.set(b,d);return d}function He(a,b){const d=a.Yu.get(b);d&&d.j();a.Yu.delete(b)}async function Ie(a,b){return await a.e2(b)}Fe.a0=class{constructor(a){this.Yu=new Map;this.f2=a.U3;this.e2=a.T3}j(){for(const a of this.Yu.values())a.j();this.Yu.clear()}};"use strict";const Je=self.A;
async function Ke(a){if(!a.pK){a.pK=!0;a.Ph=!0;var b=await Ie(a.Tn,a.hA);if(a.Tn){b=b.HN;for(let d=0,c=Math.min(b.length,a.Xr.length);d<c;++d)a.Xr[d].UR=b[d].J3;a.Ph=!1}}}function Le(a){a.Gi||(a.Gi=Ke(a));return a.Gi}
Je.b0=class{constructor(a,b){this.Tn=a;this.hA=b.source;this.Xr=[];this.uK=new Map;this.Ph=this.pK=!1;this.Gi=null;a=b.a4.HN;for(let d=0,c=a.length;d<c;++d){b=a[d];const e=Je.m(Je.$_,this,{index:d,tag:b.tag,source:b.source,width:b.width,height:b.height});this.Xr.push(e);b.tag&&this.uK.set(b.tag.toLowerCase(),e)}}j(){for(const a of this.Xr)a.j();Je.G(this.Xr);this.uK.clear();this.hA=this.Tn=null}};"use strict";
self.A.$_=class{constructor(a,b){this.hA=b.source||null;this.na=b.index;this.Wf=b.tag;this.P=b.width;this.S=b.height;this.UR=null}j(){this.S=this.P=0}M(){return this.P}K(){return this.S}dH(){return this.UR}};"use strict";const Me=self.A,Ne=self.Vi,Oe=Ne.HG,Pe=Ne.iB,Qe=Ne.jl,Re=Oe.create(),Se=Oe.create(),Te=Oe.create(),Ue=Pe.create(),Ve=Qe.create(),We=Oe.create(),Xe=Oe.create(),Ye=Oe.create(),Ze=Oe.create(),$e=Oe.create(),af=Oe.create(),bf=Oe.create(),cf=Oe.create(),df=Pe.Gg(0,0,1,1);
function ef(a,b,d,c,e,g,k){Qe.multiply(Ve,e,c);if(null===Qe.uw(Ve,Ve))return!1;Ue[0]=(a-g[0])/g[2]*2-1;Ue[1]=(b-g[1])/g[3]*2-1;Ue[2]=2*d-1;Ue[3]=1;Pe.wO(Ue,Ue,Ve);if(0===Ue[3])return!1;Ue[3]=1/Ue[3];k[0]=Ue[0]*Ue[3];k[1]=Ue[1]*Ue[3];k[2]=Ue[2]*Ue[3];return!0}
Me.R={nC(a,b,d,c,e,g,k){const l=c[0]*a+c[4]*b+c[8]*d+c[12],n=c[1]*a+c[5]*b+c[9]*d+c[13],p=c[2]*a+c[6]*b+c[10]*d+c[14];c=c[3]*a+c[7]*b+c[11]*d+c[15];a=e[0]*l+e[4]*n+e[8]*p+e[12]*c;b=e[1]*l+e[5]*n+e[9]*p+e[13]*c;d=e[2]*l+e[6]*n+e[10]*p+e[14]*c;e=e[3]*l+e[7]*n+e[11]*p+e[15]*c;if(0===e)return!1;e=1/e;k[0]=(a*e*.5+.5)*g[2]+g[0];k[1]=(b*e*.5+.5)*g[3]+g[1];k[2]=.5*(1+d*e);return!0}};
function ff(a,b,d,c){Oe.lo(Re,d,b);Oe.lo(Se,a,b);Oe.sN(Te,Re,Se);Oe.normalize(Te,Te);c.set(Te[0],Te[1],Te[2],Oe.ho(a,Te))}function gf(a,b,d,c,e,g,k){const l=k.x,n=k.y,p=k.z,r=k.w,w=k.pW,x=k.qW;k=k.rW;const z=1-w,F=1-x,D=1-k;return l*a*w+l*c*z+n*b*x+n*e*F+p*d*k+p*g*D>=r?!0:l*c*w+l*a*z+n*e*x+n*b*F+p*g*k+p*d*D>r}class hf{constructor(){this.rW=this.qW=this.pW=this.w=this.z=this.y=this.x=NaN}set(a,b,d,c){this.x=a;this.y=b;this.z=d;this.w=c;this.pW=0<a?1:0;this.qW=0<b?1:0;this.rW=0<d?1:0}}
Me.R.v0=class{constructor(){this.aT=new hf;this.uU=new hf;this.VT=new hf;this.AR=new hf;this.FL=new hf;this.bS=new hf}};"use strict";const jf=self.A,kf=self.Vi,lf=kf.HG,mf=kf.iB,nf=kf.jl,of=nf.create(),pf=lf.Gg(0,0,0),tf=lf.Gg(0,0,0),uf=lf.Gg(0,0,0),vf=lf.Gg(0,1,0);mf.Gg(0,0,0,0);new jf.gd;new jf.Rect;const wf=new jf.gd(0,0,1,0,1,1,0,1),xf={XN:1,yN:1E4},yf=nf.Gg(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);
function zf(a){let b=0,d=a.length,c=0;for(;b<d;)a[b++]=c,a[b++]=c+1,a[b++]=c+2,a[b++]=c,a[b++]=c+2,a[b++]=c+3,c+=4}function Af(a){a.Jh=0;a.rn=0;a.Js=null;a.lA=null;a.kA=null;jf.G(a.qr);a.cA.clear()}function Bf(a){for(const b of a.qr)b.j();Af(a)}function Cf(a,b,d,c=.5,e=.5){const g=a.Ep,k=a.gp;var l=a.Rr;.5===c&&.5===e?a.Ld()?nf.A4(b,l,d,g,k):nf.perspective(b,l,d,g,k):(c=1-c,l=a.rA*g,d*=l,nf.S3(b,(2*c-2)*d,2*c*d,(2*e-2)*l,2*e*l,g,k),a.Ld()&&nf.io(b,yf,b))}
function Df(a,b,d,c,e,g){let k=1;!a.Ws&&(k=200*a.rA/g);lf.set(uf,k,-k,1);lf.multiply(pf,d,uf);lf.multiply(tf,c,uf);nf.m4(b,pf,tf,e||vf);uf[2]=1;nf.scale(b,b,uf)}function Ef(a,b,d,c,e,g,k){lf.set(pf,b,d,c);lf.set(tf,e,g,0);Df(a,of,pf,tf,vf,k);return of}function Ff(a,b){a.qr.push(b);a.cA.set(b.fa(),b)}function Gf(a){a.Cl(a.Js)}function Hf(a,b){--b.fc;0===b.fc&&(a.wg===b&&(a.wg=null),a.Ms.delete(If(b.bA,b.Ug,b.rb,b.pd)),b.j())}
function Jf(a,b){jf.G(a.dD);a.rT.clear();let d=0;for(const c of b){b=c[0];const e=c[1],g=c[2];a.dD.push([e,g]);a.rT.set(b,{lha:d,iia:e,Jfa:g});d++}}function Kf(a,b){a.rn=b;a.wg=null}function Lf(a,b,d,c,e,g,k){var l=a.mL;b=b+l-k;d=d+l-g;c=c+l+k;e=e+l+g;l=2*k;const n=2*g;a.qx(b+g,d-k,0,c+g,e-k,0,c-g-l,e+k-n,0,b-g+l,d+k+n,0,wf)}function Mf(a,b,d,c,e,g,k){const l=a.mL;b=b+l-k;d=d+l-g;c=c+l+k;e=e+l+g;a.qx(b+g,d-k,0,c+g,e-k,0,c-g,e+k,0,b-g,d+k,0,wf)}
function Nf(a,b,d,c,e,g,k){const l=a.mL;b+=l;d+=l;c+=l;e+=l;a.qx(b+g,d-k,0,c+g,e-k,0,c-g,e+k,0,b-g,d+k,0,wf)}function Of(a){var b=Pf,d=b.aa,c=b.X,e=b.la;b=b.ga;const g=.5*a.cT,k=a.bT;2===k?(Lf(a,d,c,e,c,0,g),Lf(a,e,c,e,b,g,0),Lf(a,e,b,d,b,0,-g),Lf(a,d,b,d,c,-g,0)):1===k?(Mf(a,d,c,e,c,0,g),Mf(a,e,c,e,b,g,0),Mf(a,e,b,d,b,0,-g),Mf(a,d,b,d,c,-g,0)):(Nf(a,d,c,e,c,0,g),Nf(a,e,c,e,b,g,0),Nf(a,e,b,d,b,0,-g),Nf(a,d,b,d,c,-g,0))}
jf.R.rQ=class{constructor(a){a=Object.assign({},xf,a);this.S=this.P=0;this.Rr=jf.ib(45);this.rA=Math.tan(this.Rr/2);this.ns=nf.create();this.Av=nf.create();this.Ws=!1;this.Ep=a.XN;this.gp=a.yN;this.qr=[];this.cA=new Map;this.kA=this.lA=this.Js=null;this.Ms=new Map;this.wg=null;this.dD=[];this.rT=new Map;this.rn=this.Jh=0;this.bT=this.cT=1;this.mL=.5;this.If=0;this.Mr=!0;this.nK=!1}Kq(){Af(this);this.wg=null}M(){return this.P}K(){return this.S}Te(a){return this.Ws?a/(2*this.rA):100}$H(a){this.Rr=a;
this.rA=Math.tan(this.Rr/2)}BH(a,b,d,c){var e=jf.kN(a,b,d,c),g=.5*this.cT;const k=Math.sin(e)*g;e=Math.cos(e)*g;g=this.bT;2===g?Lf(this,a,b,d,c,k,e):1===g?Mf(this,a,b,d,c,k,e):Nf(this,a,b,d,c,k,e)}no(){this.ie(!0);this.If++}dI(a){this.Mr=!!a}cj(){return!1}Ld(){return!1}eH(){}};"use strict";
self.A.R.MQ=class{constructor(a,b){this.Ka=b.name;this.O=a;this.a2=b.jV||0;this.b2=b.kV||0;this.DJ=!!b.aV;this.J2=!!b.DV;this.Iv=!!b.JV;this.e3=!!b.YV;this.q1=!!b.SU;this.ou=!!b.VU;this.VM=!!b.kW;this.JA=!1}j(){this.O=null}ua(){return this.O}fa(){return this.Ka}Rq(){return this.J2}TQ(){return!1}};"use strict";const Qf=self.A;function If(a,b,d,c){return("string"===typeof a?a:a.fa())+","+b+","+d.$a+","+d.eb+","+d.Za+","+d.Wa+","+c}
Qf.R.U_=class{constructor(a,b,d,c,e){this.O=a;this.fc=0;this.Cc=null;this.bA="";this.Ug=d;this.rb=Qf.m(Qf.gb);this.rb.set(c);this.pd=e;"string"===typeof b?this.bA=b:(this.Cc=b,this.bA=this.Cc.fa())}j(){if(0<this.fc)throw Error("releasing state group still in use");this.Cc=this.O=null;this.bA=""}Nd(){this.Cc=null}jC(a){this.Cc=a.cA.get(this.bA)||null;if(!this.Cc)throw Error("failed to restore shader program");}};"use strict";const Rf=self.A,Sf=Rf.m(Rf.gd);
function Tf(a,b,d){const c=d.Ub,e=d.Vb;return[c+(d.Rc-c)*a+(d.Jc-c)*b,e+(d.Sc-e)*a+(d.Kc-e)*b]}
Rf.R.gZ=class{constructor(a){this.wL=a;this.mh=this.kh=this.pd=this.ea=this.ma=0}Nx(a,b,d,c){this.ma=a;this.ea=b;this.kh=d;this.mh=c}Da(){return this.ma}mk(a){this.ma!==a&&(this.ma=a,this.wL.Qz=!0)}Ea(){return this.ea}nk(a){this.ea!==a&&(this.ea=a,this.wL.Qz=!0)}jb(){return this.pd}Rg(a){this.pd!==a&&(this.pd=Math.max(a,0),this.wL.Qz=!0)}rd(){return{x:this.Da(),y:this.Ea(),z:this.jb(),u:this.kh,v:this.mh}}zc(a){this.mk(a.x);this.nk(a.y);a.hasOwnProperty("z")&&this.Rg(a.z);this.kh=a.u;this.mh=a.v}};
function Uf(a){if(a.Qz){var b=Infinity,d=Infinity,c=-Infinity,e=-Infinity,g=0;for(const k of a.Rp)for(const l of k){const n=l.Da(),p=l.Ea();b=Math.min(b,n);d=Math.min(d,p);c=Math.max(c,n);e=Math.max(e,p);g=Math.max(g,l.jb())}a.oT=b;a.pT=d;a.jT=c;a.kT=e;a.lT=g;a.Qz=!1}}function Vf(a,b,d){b=Math.floor(b);d=Math.floor(d);return 0>b||b>=a.Ul||0>d||d>=a.rm?null:a.Rp[d][b]}
function Wf(a,b,d,c){const e=c instanceof Rf.Rect;if(b.Ul!==a.Ul||b.rm!==a.rm)throw Error("source mesh wrong size");b=b.Rp;a=a.Rp;for(let n=0,p=a.length;n<p;++n){const r=b[n],w=a[n];for(let x=0,z=w.length;x<z;++x){var g=r[x],k=w[x];if(e){var l=c;[k.ma,k.ea]=Tf(g.ma,g.ea,d);k.pd=g.pd;k.kh=Rf.qf(l.aa,l.la,g.kh);k.mh=Rf.qf(l.X,l.ga,g.mh)}else l=c,[k.ma,k.ea]=Tf(g.ma,g.ea,d),k.pd=g.pd,[k.kh,k.mh]=Tf(g.kh,g.mh,l)}}}
function Xf(a){const b=Yf.ve,d=[],c=a.Ul-1;a=a.rm-1;const e=1/c,g=1/a,k=c-1,l=a-1;let n=b[0],p=b[1],r=Rf.V(Math.floor(n*c),0,k),w=Rf.V(Math.floor(p*a),0,l),x=0,z=0,F=0;var D=-1;const G=()=>{n=Rf.V(Rf.qf(n,x,F),0,1);p=Rf.V(Rf.qf(p,z,F),0,1);d.push(n,p)};for(let J=0,M=b.length;J<M;J+=2)for(n=b[J],p=b[J+1],d.push(n,p),r=Rf.V(Math.floor(n*c),0,k),w=Rf.V(Math.floor(p*a),0,l),D=(J+2)%M,x=b[D],z=b[D+1],D=-1;;){if(1E6<d.length)throw Error("Too many mesh poly points");const P=r*e,Ja=w*g,Sa=(r+1)*e,Za=(w+1)*
g;if(0!==D&&(F=Rf.eB(n,p,x,z,P,Ja,Sa,Za,-.001),0<=F&&.99999999>=F)){G();D=0;continue}if(0<w&&2!==D&&(F=Rf.eB(n,p,x,z,P,Ja,Sa,Ja,.001),0<=F&&.99999999>=F)){G();w--;D=4;continue}if(r<k&&3!==D&&(F=Rf.eB(n,p,x,z,Sa,Ja,Sa,Za,.001),0<=F&&.99999999>=F)){G();r++;D=1;continue}if(0<r&&1!==D&&(F=Rf.eB(n,p,x,z,P,Ja,P,Za,.001),0<=F&&.99999999>=F)){G();r--;D=3;continue}if(w<l&&4!==D&&(F=Rf.eB(n,p,x,z,P,Za,Sa,Za,.001),0<=F&&.99999999>=F)){G();w++;D=2;continue}break}return Rf.m(Rf.zq,d)}
function Zf(a,b,d){var c=a.Ul-1,e=a.rm-1;const g=1/c,k=1/e;c=Rf.V(Math.floor(b*c),0,c-1);const l=Rf.V(Math.floor(d*e),0,e-1);e=c*g;const n=l*k,p=(c+1)*g,r=(l+1)*k,w=Vf(a,c,l),x=Vf(a,c+1,l+1),z=Rf.f4(b,d,e,n,p,n,p,r);a=Vf(a,c+(z?1:0),l+(z?0:1));const [F,D,G]=Rf.T4(b,d,e,n,z?e+g:e,z?n:n+k,p,r);return Rf.S4(F,D,G,w.Da(),w.Ea(),w.jb(),a.Da(),a.Ea(),a.jb(),x.Da(),x.Ea(),x.jb())}
Rf.R.KP=class{constructor(a,b,d){if(2>a||2>b)throw Error("invalid mesh size");this.Ul=a;this.rm=b;this.vb=d||null;this.Rp=[];this.pT=this.oT=0;this.kT=this.jT=1;this.lT=0;this.Qz=!1;d=a-1;const c=b-1;for(let e=0;e<b;++e){const g=[];for(let k=0;k<a;++k){const l=Rf.m(Rf.R.gZ,this,k,e),n=k/d,p=e/c;l.Nx(n,p,n,p);g.push(l)}this.Rp.push(g)}}j(){Rf.G(this.Rp)}Zj(a){const b=this.Rp;let d=b[0];for(let c=1,e=b.length;c<e;++c){const g=b[c];let k=d[0],l=g[0];for(let n=1,p=g.length;n<p;++n){const r=d[n],w=g[n];
Sf.set(k.kh,k.mh,r.kh,r.mh,w.kh,w.mh,l.kh,l.mh);a.qx(k.Da(),k.Ea(),k.jb(),r.Da(),r.Ea(),r.jb(),w.Da(),w.Ea(),w.jb(),l.Da(),l.Ea(),l.jb(),Sf);k=r;l=w}d=g}}rd(){return{cols:this.Ul,rows:this.rm,points:this.Rp.map(a=>a.map(b=>b.rd()))}}zc(a){const b=this.Ul,d=this.rm;if(a.cols!==b||a.rows!==d)throw Error("mesh data wrong size");a=a.points;for(let c=0;c<d;++c){const e=a[c];for(let g=0;g<b;++g)Vf(this,g,c).zc(e[g])}}};"use strict";
const $f=self.A,ag=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),bg=new Set(["nearest","bilinear","trilinear"]),cg=new Set(["default","low","high"]),dg=new Set(["clamp-to-edge","repeat","mirror-repeat"]);
function eg(a,b){let d,c;switch(a){case "rgba8":a=b.RGBA8;c=d=b.RGBA;b=b.UNSIGNED_BYTE;break;case "rgb8":a=b.RGB8;c=d=b.RGB;b=b.UNSIGNED_BYTE;break;case "rgba4":a=b.RGBA4;c=d=b.RGBA;b=b.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":a=b.RGB5_A1;c=d=b.RGBA;b=b.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":a=b.RGB565;c=d=b.RGB;b=b.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{sO:a,rw:d,format:c,type:b}}
const gg={tq:"clamp-to-edge",uq:"clamp-to-edge",jc:"trilinear",kw:0,gO:"rgba8",Cm:!0,aB:"default",premultiplyAlpha:!0,AV:!1,width:-1,height:-1},hg={premultiplyAlpha:!0,flipY:!1},ig=new Set;function jg(a){return"clamp-to-edge"!==a.wm||"clamp-to-edge"!==a.xm}
function ng(a,b){var d=$f.Sj(a.P)&&$f.Sj(a.S);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,og(b,a.wm));b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,og(b,a.xm));"nearest"===a.Rb?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),a.Qh=!1):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),(d||a.O.Ho())&&a.Qh?(b.hint(b.GENERATE_MIPMAP_HINT,pg(a,b)),b.generateMipmap(b.TEXTURE_2D),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,
"trilinear"!==a.Rb||a.O.nK?b.LINEAR_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),a.Qh=!1));(d=a.O.Xx)&&0<a.rr&&"nearest"!==a.Rb&&b.texParameterf(b.TEXTURE_2D,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.rr,a.O.tL))}function pg(a,b){if("default"===a.os)return a.cf?b.NICEST:b.FASTEST;if("low"===a.os)return b.FASTEST;if("high"===a.os)return b.NICEST;throw Error("invalid mipmap quality");}
function og(a,b){if("clamp-to-edge"===b)return a.CLAMP_TO_EDGE;if("repeat"===b)return a.REPEAT;if("mirror-repeat"===b)return a.MIRRORED_REPEAT;throw Error("invalid wrap mode");}function qg(a){if(0>=a.fc)throw Error("no more references");a.fc--}
$f.R.HC=class{constructor(a){this.O=a;this.Na=null;this.S=this.P=0;this.cf=!0;this.xm=this.wm="clamp-to-edge";this.Rb="trilinear";this.rr=0;this.Kp="rgba8";this.Qh=!1;this.os="default";this.fc=0}AI(a,b,d){d=Object.assign({},gg,d);if(this.Na)throw Error("already created texture");this.wm=d.tq;this.xm=d.uq;this.Rb=d.jc;this.Kp=d.gO;this.Qh=!!d.Cm&&this.O.Mr;this.os=d.aB;if(!dg.has(this.wm)||!dg.has(this.xm))throw Error("invalid wrap mode");if(!bg.has(this.Rb))throw Error("invalid sampling");if(!ag.has(this.Kp))throw Error("invalid pixel format");
if(!cg.has(this.os))throw Error("invalid mipmap quality");this.cf=!1;this.P=Math.floor(a);this.S=Math.floor(b);a=$f.Sj(this.P)&&$f.Sj(this.S);b=this.O.Bv;if(0>=this.P||0>=this.S)throw Error("invalid texture size");if(this.P>b||this.S>b)throw Error("texture exceeds maximum texture size");if(!this.O.Ho()&&jg(this)&&!a)throw Error("non-power-of-two tiled textures not supported");a=this.O.ka;b=this.O.Tc;this.Na=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.Na);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
d.premultiplyAlpha);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);d=eg(this.Kp,a);a.texImage2D(a.TEXTURE_2D,0,2<=b?d.sO:d.rw,this.P,this.S,0,d.format,d.type,null);ng(this,a);a.bindTexture(a.TEXTURE_2D,null);this.O.Pk=null;this.fc=1;ig.add(this)}TC(a){if(!("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof
ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData))throw Error("invalid texture source");if(!this.Na||0>=this.fc)throw Error("texture not created");if(this.cf)throw Error("cannot update static texture");var b=Object.assign({},hg,b);const d=a.width||a.videoWidth,c=a.height||a.videoHeight;var e=this.O.Tc;const g=this.O.ka;g.bindTexture(g.TEXTURE_2D,this.Na);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,
!!b.flipY);b=eg(this.Kp,g);e=2<=e?b.sO:b.rw;try{if(this.P===d&&this.S===c){const k=$f.Sj(this.P)&&$f.Sj(this.S);g.texSubImage2D(g.TEXTURE_2D,0,0,0,b.format,b.type,a);(k||this.O.Ho())&&this.Qh&&(g.hint(g.GENERATE_MIPMAP_HINT,pg(this,g)),g.generateMipmap(g.TEXTURE_2D))}else{this.P=d;this.S=c;const k=$f.Sj(this.P)&&$f.Sj(this.S);if(!this.O.Ho()&&jg(this)&&!k)throw Error("non-power-of-two tiled textures not supported");g.texImage2D(g.TEXTURE_2D,0,e,b.format,b.type,a);(k||this.O.Ho())&&this.Qh&&(g.hint(g.GENERATE_MIPMAP_HINT,
pg(this,g)),g.generateMipmap(g.TEXTURE_2D))}}catch(k){console.error("Error updating WebGL texture: ",k)}g.bindTexture(g.TEXTURE_2D,null);this.O.Pk=null}hr(){if(0<this.fc)throw Error("texture still has references");if(!this.Na)throw Error("already deleted texture");ig.delete(this);this.O.ka.deleteTexture(this.Na);this.Na=null}ua(){return this.O}M(){return this.P}K(){return this.S}tl(){return this.cf}Rw(){let a=this.P*this.S;switch(this.Kp){case "rgba8":a*=4;break;case "rgb8":a*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":a*=
2}this.Qh&&(a+=Math.floor(a/3));return a}static Nd(){ig.clear()}static hN(){return ig.values()}};"use strict";const rg=self.Vi.jl,sg=new Set(["nearest","bilinear","trilinear"]),tg={jc:"trilinear",alpha:!0,depth:!1,Tj:!0,WA:!0,yw:0},ug=new Set;function vg(a){a.O.Rr===a.KE&&a.O.Ep===a.ME&&a.O.gp===a.JE||a.fr();return a.Aj}
self.A.R.XQ=class{constructor(a){this.O=a;this.fm=this.Na=this.Ur=this.Bi=null;this.S=this.P=0;this.Bn=!0;this.Rb="trilinear";this.hu=!0;this.Zc=!1;this.Ei=!0;this.ue=0;this.Aj=rg.create();this.JE=this.ME=this.KE=0}Kx(a,b,d){d=Object.assign({},tg,d);const c=this.O.Tc;if(this.Na||this.fm)throw Error("already created render target");this.Rb=d.jc;this.hu=!!d.alpha;this.Zc=!!d.depth;this.Ei=!!d.Tj;this.Bn=!!d.WA;this.ue=d.yw;if(!sg.has(this.Rb))throw Error("invalid sampling");if(0<this.ue&&(2>c||this.Ei))throw Error("invalid use of multisampling");
2>c&&(this.Ei=!0);this.P=a;this.S=b;if(0>=this.P||0>=this.S)throw Error("invalid render target size");this.fr();a=this.O.ka;this.Bi=a.createFramebuffer();this.Zc&&(this.Ur=a.createFramebuffer());this.Ei?(this.Na=this.O.ut(this.P,this.S,{jc:this.Rb,gO:this.hu?"rgba8":"rgb8",Cm:!1}),b=this.Na.Na,a.bindFramebuffer(a.FRAMEBUFFER,this.Bi),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0),this.Zc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ur),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,b,0))):(this.fm=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.fm),b=this.hu?a.RGBA8:a.RGB8,0<this.ue&&((d=a.getInternalformatParameter(a.RENDERBUFFER,b,a.SAMPLES))&&d[0]?(d=d[0],this.ue>d&&(this.ue=d)):this.ue=0),0===this.ue?a.renderbufferStorage(a.RENDERBUFFER,b,this.P,this.S):a.renderbufferStorageMultisample(a.RENDERBUFFER,this.ue,b,this.P,this.S),a.bindFramebuffer(a.FRAMEBUFFER,this.Bi),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.fm),
this.Zc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ur),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.fm)),a.bindRenderbuffer(a.RENDERBUFFER,null));b=this.O.oe;this.Zc&&b&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Bi),this.O.Ll?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b));a.bindFramebuffer(a.FRAMEBUFFER,null);ug.add(this)}Sx(a,b){if(this.P!==a||this.S!==
b)this.P=a,this.S=b,this.fr(),a=this.O.ka,a.bindFramebuffer(a.FRAMEBUFFER,this.Bi),this.Na?this.Na.TC(new ImageData(this.P,this.S)):(a.bindRenderbuffer(a.RENDERBUFFER,this.fm),a.renderbufferStorage(a.RENDERBUFFER,this.hu?a.RGBA8:a.RGB8,this.P,this.S),a.bindRenderbuffer(a.RENDERBUFFER,null)),b=this.O.oe,this.Zc&&b&&(this.O.Ll?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)),a.bindFramebuffer(a.FRAMEBUFFER,
null)}hr(){if(!this.Na&&!this.fm)throw Error("already deleted render target");ug.delete(this);var a=this.O.ka;this.Na?(a.bindFramebuffer(a.FRAMEBUFFER,this.Bi),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),this.Zc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ur),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)),this.O.uh(this.Na),this.Na=null):this.fm&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Bi),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.RENDERBUFFER,null),this.Zc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ur),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,null)),a.deleteRenderbuffer(this.fm),this.fm=null);a.bindFramebuffer(a.FRAMEBUFFER,null);2<=this.O.Tc&&(a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null));a.deleteFramebuffer(this.Bi);this.Zc&&a.deleteFramebuffer(this.Ur);a=this.O.Ic;a.fo=null;this.Bi=a.hl=null}fr(){Cf(this.O,this.Aj,this.P/this.S);this.KE=this.O.Rr;
this.ME=this.O.Ep;this.JE=this.O.gp}ua(){return this.O}kc(){return this.Na}Nq(){return"nearest"!==this.Rb}Ot(){return this.Ei}M(){return this.P}K(){return this.S}vP(a){a=Object.assign({},tg,a);return"nearest"!==a.jc!==this.Nq()||!!a.alpha!==this.hu||!!a.depth!==this.Zc||2<=this.O.Tc&&!!a.Tj!==this.Ot()?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Bn&&this.M()===Math.floor(a.width)&&this.K()===Math.floor(a.height):this.Bn}Rw(){return this.Na?this.Na.Rw():this.P*this.S*(this.hu?4:
3)}static Nd(){ug.clear()}};"use strict";const wg=self.A;
async function xg(a,b){const d=a.ka,c=b.ot;var e=b.name;const g=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(g,b.src);d.compileShader(g);b=d.createShader(d.VERTEX_SHADER);d.shaderSource(b,c);d.compileShader(b);const k=d.createProgram();d.attachShader(k,g);d.attachShader(k,b);d.bindAttribLocation(k,0,"aPos");d.bindAttribLocation(k,1,"aTex");d.bindAttribLocation(k,2,"aPoints");d.linkProgram(k);const l=a.SL;l?await yg(()=>d.getProgramParameter(k,l.COMPLETION_STATUS_KHR)):await wg.vI(5);if(!d.getShaderParameter(g,
d.COMPILE_STATUS))throw e=d.getShaderInfoLog(g),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error compiling fragment shader: "+e);if(!d.getShaderParameter(b,d.COMPILE_STATUS))throw e=d.getShaderInfoLog(b),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error compiling vertex shader: "+e);if(!d.getProgramParameter(k,d.LINK_STATUS))throw e=d.getProgramInfoLog(k),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error linking shader program: "+e);(a=wg.xX(d.getProgramInfoLog(k)||
"").trim())&&!wg.PY(a)&&console.info(`[WebGL] Shader program '${e}' compilation log: `,a);d.deleteShader(g);d.deleteShader(b);return k}function zg(a,b){if(!a.uE)throw Error("not device transform shader");Ag(a.PM,b);b=a.O;const d=b.M()/2,c=b.K()/2;b=Ef(b,d,c,b.Te(b.K()),d,c,b.K());Ag(a.OM,b)}function Bg(a,b,d){a.lK&&!d||a.uE||(a.PM.ja&&Ag(a.PM,b),a.lK=!0)}function Cg(a,b,d){a.kK&&!d||a.uE||(a.OM.ja&&Ag(a.OM,b),a.kK=!0)}
function Dg(a){a=a?"highp":"mediump";return["#version 300 es\nin highp vec3 aPos;",`in ${a} vec2 aTex;`,`out ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}
wg.R.IC=class extends wg.R.MQ{static async ya(a,b){const d=await xg(a,b);return new wg.R.IC(a,d,b)}constructor(a,b,d){super(a,d);const c=a.ka;var e=a.Ic;a.ie();c.useProgram(b);this.ka=c;this.Cc=b;this.uE="<default-device-transform>"===d.name;const g=c.getAttribLocation(b,"aPos"),k=c.getAttribLocation(b,"aTex");this.pL=c.getAttribLocation(b,"aPoints");-1!==g&&(c.bindBuffer(c.ARRAY_BUFFER,a.ao),c.vertexAttribPointer(g,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(g));-1!==k&&(c.bindBuffer(c.ARRAY_BUFFER,
a.Rn),c.vertexAttribPointer(k,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(k));-1!==this.pL&&(c.bindBuffer(c.ARRAY_BUFFER,a.Ln),c.vertexAttribPointer(this.pL,4,c.FLOAT,!1,0,0),c.enableVertexAttribArray(this.pL));c.bindBuffer(c.ARRAY_BUFFER,null);this.PM=new wg.R.rc(this,"matP","mat4");this.OM=new wg.R.rc(this,"matMV","mat4");this.Ss=new wg.R.rc(this,"color","vec4");this.j3=new wg.R.rc(this,"samplerFront","sampler");this.RM=new wg.R.rc(this,"pointTexStart","vec2");this.QM=new wg.R.rc(this,"pointTexEnd",
"vec2");this.SM=new wg.R.rc(this,"zElevation","float");this.EA=new wg.R.rc(this,"tileSize","vec2");this.FA=new wg.R.rc(this,"tileSpacing","vec2");this.NM=new wg.R.rc(this,"color2_","vec4");this.DA=new wg.R.rc(this,"outlineThickness","float");this.fw=new wg.R.rc(this,"samplerBack","sampler");this.i3=new wg.R.rc(this,"samplerDepth","sampler");this.gq=new wg.R.rc(this,"destStart","vec2");this.fq=new wg.R.rc(this,"destEnd","vec2");this.el=new wg.R.rc(this,"srcStart","vec2");this.Wn=new wg.R.rc(this,"srcEnd",
"vec2");this.Yn=new wg.R.rc(this,"srcOriginStart","vec2");this.Xn=new wg.R.rc(this,"srcOriginEnd","vec2");this.lh=new wg.R.rc(this,"pixelSize","vec2");this.mq=new wg.R.rc(this,"seconds","float");this.hq=new wg.R.rc(this,"devicePixelRatio","float");this.jq=new wg.R.rc(this,"layerScale","float");this.iq=new wg.R.rc(this,"layerAngle","float");this.lq=new wg.R.rc(this,"layoutStart","vec2");this.kq=new wg.R.rc(this,"layoutEnd","vec2");this.m3=new wg.R.rc(this,"zNear","float");this.l3=new wg.R.rc(this,
"zFar","float");this.g2=!!(this.lh.ja||this.mq.ja||this.fw.ja||this.gq.ja||this.fq.ja||this.el.ja||this.Wn.ja||this.Yn.ja||this.Xn.ja||this.hq.ja||this.jq.ja||this.iq.ja||this.lq.ja||this.kq.ja);b=d.parameters||[];this.Ts=[];this.JA=this.lh.ja||this.el.ja||this.Wn.ja||this.Yn.ja||this.Xn.ja;this.kK=this.lK=!1;Eg(this.Ss);Eg(this.NM);Fg(this.j3,0);Fg(this.fw,1);Fg(this.i3,2);Gg(this.RM,0,0);Gg(this.QM,1,1);Hg(this.SM,0);Gg(this.EA,0,0);Gg(this.FA,0,0);Gg(this.gq,0,0);Gg(this.fq,1,1);Gg(this.el,0,0);
Gg(this.Wn,0,0);Gg(this.Yn,0,0);Gg(this.Xn,0,0);Gg(this.lh,0,0);Hg(this.hq,1);Hg(this.m3,a.Ep);Hg(this.l3,a.gp);Hg(this.jq,1);Hg(this.iq,0);Hg(this.mq,0);Gg(this.lq,0,0);Gg(this.kq,0,0);Hg(this.DA,1);for(const l of b)a=l[2],b=new wg.R.rc(this,l[0],a),"color"===a?b.ja&&(b.Yb[0]=0,b.Yb[1]=0,b.Yb[2]=0,b.Mf.set(b.Yb),b.ka.uniform3f(b.vj,0,0,0)):Hg(b,0),this.Ts.push(b);this.uE?zg(this,e.RA):(Bg(this,e.RA,!0),Cg(this,e.mG,!0));e=e.bi;c.useProgram(e?e.Cc:null)}j(){this.ka.deleteProgram(this.Cc);this.Cc=
null;var a=this.O;const b=a.qr.indexOf(this);-1!==b&&a.qr.splice(b,1);a.cA.delete(this.fa());this.ka=null;super.j()}ye(){return this.Cc}gP(){return this.Ts.length}Ww(a){return 0>a||a>=this.Ts.length?null:this.Ts[a].qc()}static Ct(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}static XB(a,
b,d){let c="";2<=a?c="#version 300 es\n":(b&&(c="#extension GL_EXT_frag_depth : enable\n"),d&&(c+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n"));return c+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=a?"in":"varying"} vec2 vTex;
${2<=a?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=a?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${2>a&&d?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${2>a&&!d?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${2>a?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=a||d?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=a||d?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${2>a?"gl_FragColor = outColor;":""}
	${2<=a?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${2>a&&b?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}};"use strict";const Ig=self.A,Jg=self.Vi.jl,Kg=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);function Eg(a){a.ja&&(a.Yb[0]=1,a.Yb[1]=1,a.Yb[2]=1,a.Yb[3]=1,a.Mf.set(a.Yb),a.ka.uniform4f(a.vj,1,1,1,1))}function Fg(a,b){a.ja&&(a.Yb[0]=b,a.Mf.set(a.Yb),a.ka.uniform1i(a.vj,b))}function Gg(a,b,d){a.ja&&(a.Yb[0]=b,a.Yb[1]=d,a.Mf.set(a.Yb),a.ka.uniform2f(a.vj,b,d))}function Hg(a,b){a.ja&&(a.Yb[0]=b,a.Mf.set(a.Yb),a.ka.uniform1f(a.vj,b))}
function Lg(a,b,d){a=a.Mf;return a[0]===Math.fround(b)&&a[1]===Math.fround(d)}function Mg(a,b,d){a=a.Mf;a[0]=b;a[1]=d}function Ag(a,b){const d=a.Yb;Jg.Ui(d,b)||(Ig.U4(d,b),a.ka.uniformMatrix4fv(a.vj,!1,b))}function Ng(a,b,d,c,e){b=Math.fround(b);d=Math.fround(d);c=Math.fround(c);e=Math.fround(e);const g=a.Yb;if(g[0]!==b||g[1]!==d||g[2]!==c||g[3]!==e)g[0]=b,g[1]=d,g[2]=c,g[3]=e,a.ka.uniform4f(a.vj,b,d,c,e)}function Og(a,b){b=Math.fround(b);const d=a.Yb;d[0]!==b&&(d[0]=b,a.ka.uniform1f(a.vj,b))}
function Pg(a,b,d){b=Math.fround(b);d=Math.fround(d);const c=a.Yb;if(c[0]!==b||c[1]!==d)c[0]=b,c[1]=d,a.ka.uniform2f(a.vj,b,d)}Ig.R.rc=class{constructor(a,b,d){if(!Kg.has(d))throw Error("invalid uniform type");this.vb=a;this.ka=this.vb.ka;this.Ka=b;this.wa=d;this.JK="color"===this.wa;this.vj=this.ka.getUniformLocation(this.vb.ye(),b);this.ja=!!this.vj;a=Kg.get(d);this.Yb=new Float32Array(a);this.Mf=new Float32Array(a)}j(){this.vj=this.ka=this.vb=null}qc(){return this.wa}};"use strict";
const Qg=self.A,Rg=self.Vi,Sg=Rg.iB,Tg=Rg.jl;Qg.R.OW=class{constructor(a){this.qq=a;this.mG=Tg.create();this.RA=Tg.create();this.hl=this.fo=null;this.wV=!1;this.lG=Sg.Gg(1,1,1,1);this.bi=null;this.hO=new Qg.Rect;this.clearColor=Qg.m(Qg.gb,0,0,0,0)}};
Qg.R.z0=class{constructor(a){const b=new ArrayBuffer(96);this.wa=0;this.Ic=a;this.ka=a.qq.ka;this.xn=this.Cg=0;this.Xf=null;this.Je=new Float32Array(b,0,16);this.nn=new Float32Array(b,64,4);this.iU=new Float32Array(b,80,4);this.BF=[]}Aa(){switch(this.wa){case 1:var a=this.ka;a.drawElements(a.TRIANGLES,this.xn,a.UNSIGNED_SHORT,this.Cg);break;case 2:a=this.ka;var b=this.Xf;a.bindTexture(a.TEXTURE_2D,b?b.Na:null);break;case 3:a=this.nn;b=this.Ic;Sg.xa(b.lG,a);b=b.bi;b.Ss.ja&&Ng(b.Ss,a[0],a[1],a[2],a[3]);
break;case 4:this.ka.blendFunc(this.Cg,this.xn);break;case 5:a=this.nn;this.ka.viewport(a[0],a[1],a[2],a[3]);break;case 6:a=this.Ic;b=a.qq.qr;var d=a.bi,c=this.Je;for(let p=0,r=b.length;p<r;++p){var e=b[p];e===d?Bg(e,c,!0):e.lK=!1}Tg.xa(a.RA,c);break;case 7:a=this.Ic;b=a.qq.qr;d=a.bi;c=this.Je;for(let p=0,r=b.length;p<r;++p)e=b[p],e===d?Cg(e,c,!0):e.kK=!1;Tg.xa(a.mG,c);break;case 8:a=this.ka;b=this.Xf;d=this.Ic;b?(d.fo=b.Bi,d.hl=b.Ur,d.wV&&d.hl?a.bindFramebuffer(a.FRAMEBUFFER,d.hl):a.bindFramebuffer(a.FRAMEBUFFER,
d.fo)):(d.fo=null,d.hl=null,a.bindFramebuffer(a.FRAMEBUFFER,null));break;case 9:a=this.ka;var g=this.Je;b=this.Ic.clearColor;d=g[0];c=g[1];e=g[2];g=g[3];ac(b,d,c,e,g)||(a.clearColor(d,c,e,g),Vb(b,d,c,e,g));a.clear(a.COLOR_BUFFER_BIT);break;case 10:a=this.ka;b=this.Ic;d=b.qq.lA;a.useProgram(d.Cc);Bg(d,b.RA,!1);Cg(d,b.mG,!1);c=b.hO;d.RM.ja&&Pg(d.RM,c.aa,c.X);d.QM.ja&&Pg(d.QM,c.la,c.ga);c=this.Je[0];d.SM.ja&&Og(d.SM,c);d.Ss.ja&&(c=b.lG,Ng(d.Ss,c[0],c[1],c[2],c[3]));a.drawArrays(a.POINTS,this.Cg/4,this.xn);
a.useProgram(b.bi.Cc);break;case 11:b=this.ka;d=this.Ic;a=this.Xf;d.bi=a;b.useProgram(a.Cc);Bg(a,d.RA,!1);Cg(a,d.mG,!1);a.Ss.ja&&(b=d.lG,Ng(a.Ss,b[0],b[1],b[2],b[3]));break;case 12:a=this.Ic.bi;b=this.ka;d=this.Je;c=this.nn;e=this.iU;if(a.fw.ja){g=this.Ic.qq;var k=this.Xf;g.wp!==k&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,k?k.Na:null),g.wp=k,b.activeTexture(b.TEXTURE0))}a.lh.ja&&Pg(a.lh,d[0],d[1]);a.gq.ja&&Pg(a.gq,d[2],d[3]);a.fq.ja&&Pg(a.fq,d[4],d[5]);a.hq.ja&&Og(a.hq,this.xn);a.jq.ja&&
Og(a.jq,d[6]);a.iq.ja&&Og(a.iq,d[7]);a.el.ja&&Pg(a.el,d[12],d[13]);a.Wn.ja&&Pg(a.Wn,d[14],d[15]);a.Yn.ja&&Pg(a.Yn,e[0],e[1]);a.Xn.ja&&Pg(a.Xn,e[2],e[3]);a.lq.ja&&Pg(a.lq,c[0],c[1]);a.kq.ja&&Pg(a.kq,c[2],c[3]);a.mq.ja&&Og(a.mq,this.Cg);break;case 13:a=this.Ic.bi.Ts;b=this.BF;for(let p=0,r=a.length;p<r;++p)if(d=a[p],g=b[p],d.JK){if(c=g.$a,e=g.eb,g=g.Za,c=Math.fround(c),e=Math.fround(e),g=Math.fround(g),k=d.Yb,k[0]!==c||k[1]!==e||k[2]!==g)k[0]=c,k[1]=e,k[2]=g,d.ka.uniform3f(d.vj,c,e,g)}else Og(d,g);
break;case 14:a=this.ka;b=this.Xf;d=this.Ic.fo;b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,b);a.invalidateFramebuffer(a.FRAMEBUFFER,[a.COLOR_ATTACHMENT0]);b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,d);break;case 15:a=this.Je;this.Ic.hO.set(a[0],a[1],a[2],a[3]);break;case 16:a=this.Ic.bi;b=this.Je;a.el.ja&&Pg(a.el,b[0],b[1]);a.lh.ja&&Pg(a.lh,b[4],b[5]);a.EA.ja&&Pg(a.EA,b[6],b[7]);a.FA.ja&&Pg(a.FA,b[8],b[9]);break;case 17:var l=this.Je;c=this.BF;a=this.ka;e=l[0];b=l[1];g=l[2];d=l[3];k=0!==l[4];l=0!==l[5];const n=
c[1];a.bindFramebuffer(a.READ_FRAMEBUFFER,c[0]);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,n);l?a.blitFramebuffer(0,0,e,b,0,0,g,d,a.COLOR_BUFFER_BIT,k?a.LINEAR:a.NEAREST):(c=Math.min(e,g),e=Math.min(b,d),g=Math.max(b-d,0),b=Math.max(d-b,0),a.blitFramebuffer(0,g,c,e+g,0,b,c,e+b,a.COLOR_BUFFER_BIT,a.NEAREST));break;case 18:this.Xf.PG();this.Xf=null;break;case 19:this.Xf.BB();this.Xf=null;break;case 20:a=this.Ic.bi;b=this.Je;a.lh.ja&&Pg(a.lh,b[0],b[1]);a.DA.ja&&Og(a.DA,b[2]);break;case 21:a=this.nn;b=this.Ic.bi;
b.NM.ja&&Ng(b.NM,a[0],a[1],a[2],a[3]);break;case 22:a=this.ka;(b=0!==this.Cg)||a.depthMask(!0);a.clear(a.DEPTH_BUFFER_BIT);b||a.depthMask(!1);break;case 23:a=this.ka;0===this.Cg?(a.disable(a.DEPTH_TEST),a.depthMask(!1)):(a.enable(a.DEPTH_TEST),a.depthMask(!0));break;case 24:a=this.ka;b=this.Ic;d=b.qq;c=0!==this.Cg;b.wV=c;a.activeTexture(a.TEXTURE2);c?(b.hl&&a.bindFramebuffer(a.FRAMEBUFFER,b.hl),a.bindTexture(a.TEXTURE_2D,d.oe)):(a.bindTexture(a.TEXTURE_2D,null),b.hl&&a.bindFramebuffer(a.FRAMEBUFFER,
b.fo));a.activeTexture(a.TEXTURE0);break;case 25:a=this.ka;a.clear(a.STENCIL_BUFFER_BIT);a.enable(a.STENCIL_TEST);a.stencilFunc(a.ALWAYS,1,1);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);a.colorMask(!1,!1,!1,!1);break;case 26:a=this.ka;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,1,1);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);break;case 27:a=this.ka;a.disable(a.STENCIL_TEST);break;case 28:a=this.ka;b=this.Je;1===this.Cg?(a.enable(a.SCISSOR_TEST),a.scissor(b[0],b[1],b[2],b[3])):a.disable(a.SCISSOR_TEST);break;case 29:a=
this.Ic.bi,b=this.Je,a.lh.ja&&Pg(a.lh,b[0],b[1]),a.EA.ja&&Pg(a.EA,b[2],b[3]),a.DA.ja&&Og(a.DA,b[4]),a.FA.ja&&Pg(a.FA,b[5],b[6])}}};"use strict";const Ug=self.A,Vg=new Set("serif sans-serif monospace cursive fantasy system-ui ui-serif ui-sans-serif ui-monospace ui-rounded math emoji fangsong".split(" ")),Wg={timeout:60},Xg=new Ug.gb(0,0,0,1),Yg=new Set(["left","center","right"]),Zg=new Set(["top","center","bottom"]),$g=new Set(["word","character"]),ah=new Set(["ltr","rtl"]),bh=new Set;
Ug.GX&&Ug.GX.addEventListener("fontload",a=>{a=a.font.fa();for(const b of bh)(b.Mh||Ug.pf(b.MD,a))&&ch(b)});function dh(a,b){a=a.trim();const d=parseFloat(a);return isFinite(d)?a.endsWith("%")?b*d/100:d:0}let eh=!1,fh=!1;function ch(a){gh(a);a.fG=!0}
function hh(a,b){const d=b.ng()?b.vg.join(""):" ";var c=ih(a,!0,b);a.WS!==c&&(a.WS=c,a.xj.font=c,a.Cv.font=c);b=Ce(b,"size");b=(b?parseFloat(b.bg):a.ND)*a.OD;c=a.xj.measureText(d);let e=0;a.Mh&&jh(a)&&(e=c.fontBoundingBoxAscent-a.Cv.measureText(d).fontBoundingBoxAscent);return{width:c.width,height:4/3*b,fontBoundingBoxAscent:c.fontBoundingBoxAscent||0,fontBoundingBoxDescent:c.fontBoundingBoxDescent||0,kl:e}}
function kh(a,b,d){a.Sn||(a.Sn=Ug.th(16,16));let c=!1;if(a.TS!==b||a.SS!==d)a.TS=b,a.SS=d,a.Sn.width=b,a.Sn.height=d,c=!0;a.bd||(a.bd=a.Sn.getContext("2d"),c=!0);c?(a.bd.textBaseline=a.Mh?"alphabetic":"top",a.bd.direction=a.jh,a.bd.font=a.eL,a.bd.fillStyle=a.OE,a.bd.strokeStyle=a.OE,a.bd.globalAlpha=a.gL,a.bd.lineWidth=a.fL):a.bd.clearRect(0,0,b,d)}function gh(a){a.Jr=!0;a.MF=!0}function lh(a,b){b||(b="serif");a.MD!==b&&(a.MD=b,ch(a))}function mh(a,b){b=!!b;a.Nh!==b&&(a.Nh=b,ch(a))}
function nh(a,b){b=!!b;a.Oh!==b&&(a.Oh=b,ch(a))}function oh(a,b){b=Math.floor(b);a.Kr!==b&&(a.Kr=b,a.Jr=!0)}function ph(a){return a.YT*a.iw*self.devicePixelRatio}function ih(a,b,d){let c=[];(a.Nh||Ce(d,"b"))&&c.push("bold");(a.Oh||Ce(d,"i"))&&c.push("italic");var e=Ce(d,"size");e=(e?parseFloat(e.bg):a.ND)*a.OD;b?c.push(e+"pt"):c.push(e*ph(a)+"pt");b=a.MD;(d=Ce(d,"font"))&&d.bg&&(b=d.bg,a.cO&&!a.eJ.has(b)&&(a.cO(b),a.eJ.add(b)));b&&(Vg.has(b)?c.push(b):c.push('"'+b+'"'));return c.join(" ")}
function qh(a,b){if(!Yg.has(b))throw Error("invalid horizontal alignment");a.Di!==b&&(a.Di=b,gh(a))}function rh(a,b){if(!Zg.has(b))throw Error("invalid vertical alignment");a.nh!==b&&(a.nh=b,gh(a))}function sh(a){a.fG&&(th(a),!a.Mh||a.jy&&a.jy.toString()===a.wc||(a.jy=new Ug.wq(a.wc)),a.Oj.Ix(a.Mh?ne(a.jy):a.wc,a.mT,a.yu,a.dN,0),a.fG=!1);a.MF&&(uh(a),a.MF=!1)}function*vh(a,b){sh(a);a=a.Oj.tj;for(const d of a)for(const c of d.pq())(a=Ce(c,"tag"))&&Ug.pf(a.bg,b)&&(yield c)}
function th(a){a.xj||(a.xj=Ug.th(16,16).getContext("2d"),a.Cv=Ug.th(16,16).getContext("2d"),a.xj.textBaseline=a.Mh?"alphabetic":"top",a.Cv.textBaseline="top",a.xj.direction=a.jh,a.Cv.direction=a.jh)}function jh(a){eh||(eh=!0,th(a),a=a.xj.measureText("test"),fh="number"===typeof a.fontBoundingBoxAscent&&"number"===typeof a.fontBoundingBoxDescent);return fh}
function uh(a){const b=ph(a),d=(4+a.xp)*b;var c=0;const e=a.Oj.tj;if(0!==e.length){for(var g of e){g.Bx(NaN);g.Cx(NaN);for(var k of g.pq())k.Bx(NaN),k.Cx(NaN)}k=a.Mh&&jh(a);g=e[0].K()*b;"center"===a.nh?(c=e.reduce((l,n)=>l+n.K()*b+d,0)-d,c=Math.max(a.S/2-c/2,0),k&&(g=e[0].cq*b)):"bottom"===a.nh&&(c=e.reduce((l,n)=>l+n.K()*b+d,0)-a.xp*b,k=k?e.at(-1).Tl*b:0,c=a.S-c-k-2);for(let l=0,n=e.length;l<n;++l){k=e[l];const p=k.K()*b,r=c;if(a.Mh){if(c+=0===l?g:p,0<l&&c>a.S-4*b)break}else if(0<l&&c>=a.S-p)break;
0<=r&&wh(a,k,c,b);a.Mh||(c+=p);c+=d}}}function xh(a,b){a.OE!==b&&(a.OE=b,a.bd.fillStyle=b,a.bd.strokeStyle=b)}function yh(a,b){a.fL!==b&&(a.fL=b,a.bd.lineWidth=b)}
function wh(a,b,d,c){let e=0;"center"===a.Di?e=(a.P-b.M()*c)/2:"right"===a.Di&&(e=a.P-b.M()*c);b.Bx(e);b.Cx(d);for(const n of"ltr"===a.jh?b.pq():Ae(b)){a=n;b=e;var g=d,k=c,l=Ce(a,"offsetx");b+=l?dh(l.bg,a.K())*k:0;l=Ce(a,"offsety");g+=l?dh(l.bg,a.K())*k:0;a.xo()&&(l=Ce(a,"iconoffsety"),g+=l?dh(l.bg,a.K())*k:.2*a.K()*k);a.Bx(b);a.Cx(g);e+=n.M()*c}}
function zh(a,b,d,c,e,g){"rtl"===a.jh&&(c+=g);b?"Gecko"===Ug.W.qh?a.bd.strokeText(d,c,e,g):a.bd.strokeText(d,c,e):"Gecko"===Ug.W.qh?a.bd.fillText(d,c,e,g):a.bd.fillText(d,c,e)}
Ug.R.rC=class{constructor(a,b){b=Object.assign({},Wg,b);this.O=a;this.MD="Arial";this.ND=16;this.OD=1;this.xp=0;this.Oh=this.Nh=!1;this.pD="black";this.Mh=!1;this.Vl=null;this.tK=!0;this.cO=null;this.eJ=new Set;this.Di="left";this.nh="top";this.wc="";this.jy=null;this.Oj=Ug.m(Ug.Ix);this.dN="word";this.jh="ltr";this.Jr=this.MF=this.fG=!1;this.Kr=-1;this.S=this.P=this.EJ=this.yu=this.Hu=0;this.iw=1;this.Cv=this.xj=this.bd=this.Sn=null;this.SS=this.TS=-1;this.OE=this.WS=this.eL="";this.fL=this.gL=1;
this.mT=d=>hh(this,d);this.Na=null;this.Mi=new Ug.Rect;this.YT=1;this.GM=new Ug.zY(()=>{this.yl();kh(this,8,8)},b.timeout);this.xG=null;this.hw=!1;bh.add(this)}j(){this.cO=null;this.eJ.clear();this.mT=this.Cv=this.xj=this.bd=this.Sn=this.jy=this.Vl=null;this.GM.j();this.xG=null;this.yl();this.Oj.he();this.O=this.Oj=null;this.hw=!0;bh.delete(this)}Ax(a){this.Vl!==a&&(this.Vl=a,this.Oj.Ax(a),this.Vl&&this.Vl.Ph&&Le(this.Vl).then(()=>{this.Jr=!0}),ch(this))}xC(a){.1>a&&(a=.1);this.ND!==a&&(this.ND=a,
ch(this))}aI(a){this.xp!==a&&(this.xp=a,gh(this))}hk(a){a instanceof Ug.gb&&(a=`rgb(${100*(Ub.Jb()?NaN:a.$a)}%, ${100*(Ub.Jb()?NaN:a.eb)}%, ${100*(Ub.Jb()?NaN:a.Za)}%)`);this.pD!==a&&(this.pD=a,this.Jr=!0)}LQ(a){if(!ah.has(a))throw Error("invalid text direction");this.jh!==a&&(this.jh=a,this.bd&&(this.bd.direction=this.jh),this.xj&&(this.xj.direction=this.jh),ch(this))}Go(a){this.wc!==a&&(this.wc=a,ch(this))}sd(a,b,d){"undefined"===typeof d&&(d=1);if(!(0>=a||0>=a||this.yu===a&&this.EJ===b&&this.iw===
d)){var c=this.yu;this.yu=a;this.EJ=b;this.iw=d;a=self.devicePixelRatio;this.P=this.yu*this.iw*a;this.S=this.EJ*this.iw*a;a=Math.max(this.P,this.S);b=Math.min(this.O.Bv,4096);d=1;a>b&&(d=b/a,this.P=Math.min(this.P*d,b),this.S=Math.min(this.S*d,b));this.YT=d;this.yu!==c?ch(this):gh(this)}}M(){return this.P}K(){return this.S}kc(){this.GM.Tb();if(!(this.Na&&!this.Jr&&!this.MF&&!this.fG||this.hw||0>=this.P||0>=this.S||(this.Jr=!1,this.hw))){sh(this);kh(this,Math.max(Ug.bt(Math.ceil(this.P)),128),Math.max(Ug.bt(Math.ceil(this.S)),
64));this.bd.imageSmoothingEnabled=this.tK;this.Hu=0;const F=ph(this);var a=this.Oj.tj;for(const D of a)if(a=D.Np,Number.isFinite(D.Mp)&&Number.isFinite(a))for(const G of"ltr"===this.jh?D.pq():Ae(D))a:{var b=G,d=F,c=D.K();a=this.bd;const J=b.Mp,M=b.Np;if(Number.isFinite(J)&&Number.isFinite(M)){var e=c/16;c=b.M()*d;var g=b.K()*d,k=b.K()/16,l=(4+this.xp)*d,n=b.ng()?b.vg:null;if(-1!==this.Kr){if(this.Hu>=this.Kr)break a;b.ng()&&this.Hu+n.length>this.Kr&&(n=n.slice(0,this.Kr-this.Hu),c=hh(this,b).width*
d);this.Hu+=b.Vw()}var p=Ce(b,"background"),r=!!Ce(b,"u"),w=!!Ce(b,"s");if((!b.ng()||!Ug.uP(n)||p||r||w)&&!Ce(b,"hide")){var x=Ce(b,"color"),z=Ce(b,"opacity");z=z?parseFloat(z.bg)/100:1;this.gL!==z&&(this.gL=z,this.bd.globalAlpha=z);p&&(xh(this,p.bg),a.fillRect(J,M-g,c,g+l));l=(l=Ce(b,"linethickness"))?parseFloat(l.bg):1;(p=!!Ce(b,"stroke"))&&yh(this,.5*k*l*ph(this));b.ng()?(n=n.join(""),z=ih(this,!1,b),this.eL!==z&&(this.eL=z,this.bd.font=z),!p&&(yh(this,.5*k*l*ph(this)),z=Ce(b,"outlineback"))&&
(xh(this,z.bg),zh(this,!0,n,J,M,c)),xh(this,x?x.bg:this.pD),zh(this,p,n,J,M,c),!p&&(yh(this,.5*k*l*ph(this)),b=Ce(b,"outline"))&&(xh(this,b.bg),zh(this,!0,n,J,M,c))):b.xo()&&0<b.M()&&(b=b.dH(this.Vl))&&a.drawImage(b,J,M-g,c,g);xh(this,x?x.bg:this.pD);r&&(r=a,x=J,b=M+d*e,n=c,e=d*e*l,p?r.strokeRect(x,b,n,e):r.fillRect(x,b,n,e));w&&(d*=k,a.fillRect(J,M-g/4+d/2-d*l/2,c,d*l))}}}this.O.ek()||(this.Na||(this.Na=this.O.ut(this.Sn.width,this.Sn.height,{Cm:!0,aB:"high"})),this.O.uI(this.Sn,this.Na),this.Mi.set(0,
0,this.P/this.Na.M(),this.S/this.Na.K()),this.xG&&this.xG());this.GM.Tb()}return this.Na}bk(){return this.Mi}yl(){this.Na&&(this.O.ek()||this.O.uh(this.Na),this.Na=null)}static Nd(){for(const a of bh)a.yl()}};"use strict";const Ah=self.A;function Bh(a){a.Bj&&(1===a.Tc?a.Pe.deleteQueryEXT(a.Bj):a.ka.deleteQuery(a.Bj),a.Bj=null)}
class Ch{constructor(a){this.ka=a.ka;this.Tc=a.Tc;this.Pe=a.Pe;this.Bj=null;this.Vy=this.Nb=!1;this.On=0;this.Bj=1===this.Tc?this.Pe.createQueryEXT():this.ka.createQuery()}j(){Bh(this);this.Pe=this.ka=null;this.Vy=!1}PG(){if(this.Nb)throw Error("query already active");1===this.Tc?this.Pe.beginQueryEXT(this.Pe.TIME_ELAPSED_EXT,this.Bj):this.ka.beginQuery(this.Pe.TIME_ELAPSED_EXT,this.Bj);this.Nb=!0}BB(){if(!this.Nb)throw Error("query not active");1===this.Tc?this.Pe.endQueryEXT(this.Pe.TIME_ELAPSED_EXT):
this.ka.endQuery(this.Pe.TIME_ELAPSED_EXT);this.Nb=!1}VG(){if(this.Bj&&!this.Vy&&!this.Nb){var a=1===this.Tc?this.Pe.getQueryObjectEXT(this.Bj,this.Pe.QUERY_RESULT_AVAILABLE_EXT):this.ka.getQueryParameter(this.Bj,this.ka.QUERY_RESULT_AVAILABLE);var b=this.ka.getParameter(this.Pe.GPU_DISJOINT_EXT);a&&!b&&(this.On=1===this.Tc?this.Pe.getQueryObjectEXT(this.Bj,this.Pe.QUERY_RESULT_EXT):this.ka.getQueryParameter(this.Bj,this.ka.QUERY_RESULT),this.On/=1E9,this.Vy=!0);(a||b)&&Bh(this)}}ix(){return this.Vy}Xw(){if(!this.Vy)throw Error("no result available");
return this.On}}function Dh(a){a.Tp=Ah.m(Ch,a.O);a.Cs.push(a.Tp);a.Tp.PG()}
Ah.R.B0=class{constructor(a){this.O=a;this.If=a.If;this.Nb=!1;this.Hp=null;this.qp=!1;this.Tp=null;this.Cs=[]}j(){for(const a of this.Cs)a instanceof Ch&&a.j();Ah.G(this.Cs);this.O=this.Tp=this.Hp=null}PG(){if(this.Nb)throw Error("query already active");const a=this.O.pU;if(0<a.length){this.qp=!0;var b=this.Hp=a.at(-1);b.Tp.BB();b.Tp=null;this.Hp.Cs.push(this)}else this.qp=!1,this.Hp=null;this.Nb=!0;a.push(this);Dh(this)}BB(){if(!this.Nb)throw Error("query not active");if(this.O.pU.pop()!==this)throw Error("can only end most nested query");
this.Nb=!1;this.Tp.BB();this.Tp=null;this.Hp&&(Dh(this.Hp),this.Hp=null)}VG(){for(const a of this.Cs)a.VG()}ix(){return this.Cs.every(a=>a.ix())}Xw(){return this.Cs.reduce((a,b)=>a+b.Xw(),0)}};"use strict";const Eh=self.A;function Lh(a){const b=new Eh.R.B0(a.O);a.le.push(b);a.le.length>a.I2&&a.le.shift().j();return b}function Mh(a,b,d){if(d<=b)return NaN;let c=0;for(const e of a.le){if(e.If>=d)break;if(!(e.If<b))if(e.ix())c+=e.Xw();else return NaN}return c}
function Nh(a,b){for(let d=0,c=a.le.length;d<c;++d){const e=a.le[d];if(e.If<b)e.j();else{0<d&&a.le.splice(0,d);break}}}Eh.R.WQ=class{constructor(a,b=1E3){this.O=a;this.I2=b;this.le=[];this.O.XC.add(this)}j(){this.he();this.O.XC.delete(this);this.O=null}he(){for(const a of this.le)a.j();Eh.G(this.le)}};"use strict";
const Oh=self.A,Ph=self.Vi,Qh=Ph.iB,Rh=Ph.jl,Sh={powerPreference:"default",iV:!0,alpha:!1,depth:!1,QA:!1,CV:2,failIfMajorPerformanceCaveat:!1},Th=new Set(["default","low-power","high-performance"]),Uh=new Oh.gd(0,0,1,0,1,1,0,1),Vh=Rh.create(),Wh=Rh.create(),Xh=new Oh.gd,Yh=new Oh.Rect;let Zh=null;Oh.VA&&(self.Ffa=function(){Zh?Zh.loseContext():console.warn("WEBGL_lose_context not supported")},self.Gfa=function(){Zh?Zh.restoreContext():console.warn("WEBGL_lose_context not supported")});const $h=new Set;
let ai=-1;function bi(){ai=-1;for(const a of $h)a.Ys()&&(a.resolve(),$h.delete(a));0<$h.size&&(ai=self.requestAnimationFrame(bi))}function yg(a){const b=new Promise(d=>$h.add({resolve:d,Ys:a}));-1===ai&&(ai=self.requestAnimationFrame(bi));return b}function ci(a,b,d){const c=a.MA;if(0!==c[0]||0!==c[1]||c[2]!==b||c[3]!==d){var e=ei(a);e.wa=5;e=e.nn;e[0]=0;e[1]=0;e[2]=b;e[3]=d;Qh.set(c,0,0,b,d);a.ic=0}}function ei(a){const b=a.iy;a.So===b.length&&b.push(new Oh.R.z0(a.Ic));return b[a.So++]}
function fi(a){a.Af(1,1,1,1)}function gi(a,b,d){if(b!==a.dL||d!==a.bL){var c=ei(a);c.wa=4;c.Cg=b;c.xn=d;a.dL=b;a.bL=d;a.ic=0;a.wg=null}}function hi(a){let b=a.Lj;b>=a.YS&&(a.ie(),b=0);if(1===a.ic)a.iy[a.So-1].xn+=6;else{var d=ei(a);d.wa=1;d.Cg=b;d.xn=6;a.ic=1}}function ii(a,b){rc(b,a.Kj,a.Lj,a.Jh+a.rn);a.Lj+=12}function ji(a,b){if(a.Ch()){var d=ei(a);d.wa=19;d.Xf=b;a.ic=0}}
Oh.R.A0=class extends Oh.R.rQ{constructor(a,b){super(b);b=Object.assign({},Sh,b);if(!Th.has(b.powerPreference))throw Error("invalid power preference");const d={alpha:!!b.alpha,depth:!1,antialias:!1,powerPreference:b.powerPreference,failIfMajorPerformanceCaveat:!!b.failIfMajorPerformanceCaveat};let c=null,e=0;2<=b.CV&&(c=a.getContext("webgl2",d),e=2);c||(c=a.getContext("webgl",d),e=1);if(!c)throw Error("renderer-unavailable (could not get WebGL context)");this.ka=c;c.getContextAttributes();c.getParameter(c.VERSION);
this.Tc=e;this.MA=Qh.create();this.Yo=!1;this.aD=Rh.create();this.qm=!!b.depth;this.Ll=!(!b.depth||!b.QA);this.gz=this.qm;this.KK=!1;this.oe=null;this.IK=!0;this.zy=this.By=0;this.Ln=this.lp=this.Rn=this.ao=null;this.Kj=new Float32Array(24E3);this.$u=new Uint16Array(12E3);this.Yh=new Float32Array(16E3);this.Hv=new Float32Array(32E3);this.YS=this.Lp=this.Yf=this.Lj=0;this.Is=this.vp=null;this.iy=[];this.ic=this.So=0;this.pb=null;this.Ic=Oh.m(Oh.R.OW,this);this.rz=Oh.m(Oh.gb,1,1,1,1);this.wp=this.Pk=
null;this.bL=this.dL=0;this.E2=new Oh.Rect;this.NE=Oh.m(Oh.Rect,0,0,-1,-1);this.rD=0;this.Bv=-1;this.vL=0;this.GA="(unavailable)";this.PK=!1;this.FM=this.BM=this.bK=this.Dy=this.Xx=this.SL=null;this.tL=0;this.w2=!!b.iV;this.Pe=null;this.XC=new Set;this.pU=[];zf(this.$u)}cj(){return!0}async Kq(){super.Kq();var a=this.ka;Vb(this.rz,1,1,1,1);this.wp=this.Pk=null;this.Lp=this.Lj=0;this.YS=23988;Oh.G(this.iy);this.ic=this.So=0;this.pb=this.vp=null;this.E2.set(0,0,1,1);var b=this.Ic;b.bi=null;b.fo=null;
b.hl=null;Qh.set(b.lG,1,1,1,1);Vb(b.clearColor,0,0,0,0);b.hO.set(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);this.dL=a.ONE;this.bL=a.ONE_MINUS_SRC_ALPHA;this.II(a);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.qm?(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.LEQUAL)):(a.disable(a.DEPTH_TEST),a.depthMask(!1));this.gz=this.qm;this.KK=!1;this.Ln=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ln);
a.bufferData(a.ARRAY_BUFFER,this.Hv.byteLength,a.DYNAMIC_DRAW);this.ao=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ao);a.bufferData(a.ARRAY_BUFFER,this.Kj.byteLength,a.DYNAMIC_DRAW);this.Rn=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Rn);a.bufferData(a.ARRAY_BUFFER,this.Yh.byteLength,a.DYNAMIC_DRAW);this.lp=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.lp);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.$u,a.STATIC_DRAW);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);
this.Bv=a.getParameter(a.MAX_TEXTURE_SIZE);this.vL=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.vL&&(this.vL=2048);if(b=a.getExtension("WEBGL_debug_renderer_info"))a.getParameter(b.UNMASKED_VENDOR_WEBGL),this.GA=a.getParameter(b.UNMASKED_RENDERER_WEBGL);this.SL=a.getExtension("KHR_parallel_shader_compile");Oh.VA&&(Zh=a.getExtension("WEBGL_lose_context"));this.w2&&(this.Pe=1===this.Tc?a.getExtension("EXT_disjoint_timer_query"):a.getExtension("EXT_disjoint_timer_query_webgl2")||a.getExtension("EXT_disjoint_timer_query"));
this.tL=(this.Xx=a.getExtension("EXT_texture_filter_anisotropic"))?a.getParameter(this.Xx.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Tc&&this.qm&&this.Ll&&(this.Dy=a.getExtension("WEBGL_depth_texture"),!this.Dy))throw Error("no depth texture support");2>this.Tc&&(this.bK=a.getExtension("EXT_frag_depth"),this.BM=a.getExtension("OES_standard_derivatives"),this.FM=a.getExtension("EXT_shader_texture_lod"));a=Oh.R.IC;b=a.Ct(!1);let d="varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
c=b,e="uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n}",
g="attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",k="#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
l=a.Ct(!0),n=!1;this.qm&&(2>this.Tc?this.bK&&(d="#extension GL_EXT_frag_depth : enable\nvarying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#extension GL_EXT_frag_depth : enable\nuniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
k="#extension GL_EXT_frag_depth : enable\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
n=!0):(c=Dg(),d="#version 300 es\nin mediump vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\toutColor = texture(samplerFront, vTex) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#version 300 es\nuniform lowp sampler2D samplerFront;\nin lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nout lowp vec4 outColor;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
g="#version 300 es\nin vec4 aPoints;\nout float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",k="#version 300 es\nin highp vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highp vec2 srcStart;\nuniform highp vec2 pixelSize;\nuniform highp vec2 tileSize;\nuniform highp vec2 tileSpacing;\nvoid main(void) {\n\thighp vec2 tile = floor(vTex);\n\thighp vec2 tex = fract(vTex);\n\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
l=Dg(!0)));a=await Promise.all([[d,c,"<default>"],[d,c,"<default-device-transform>"],[e,g,"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",b,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
b,"<lineargradient>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision lowp float;\nvarying highmedp vec2 vTex;\nuniform vec4 color;\nvoid main(void) {\n\thighmedp float grad = vTex.x / (1.0 - vTex.y);\n\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n}",b,"<penumbra>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",
b,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
b,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",b,"<smoothline>"],[k,l,"<tilemap>"],[a.XB(this.Tc,n,this.BM&&this.FM),2<=this.Tc?Dg():b,"<tilerandomization>"]].map(p=>this.xB({src:p[0],ot:p[1],name:p[2]})));this.Js=a[0];this.Is=a[1];this.lA=a[2];this.kA=a[3];Gf(this)}async xB(a){a=await Oh.R.IC.ya(this,a);Ff(this,a);return a}sd(a,b,d){if(this.P!==a||this.S!==b||d){this.ie();
d=this.ka;var c=this.Ic;this.P=a;this.S=b;ci(this,a,b);Cf(this,this.aD,a/b);this.Dl(this.aD);this.Is&&(d.useProgram(this.Is.ye()),zg(this.Is,this.ns),this.vp=this.Is,this.Ic.bi=this.Is);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.wp=this.Pk=null;this.qm&&this.IK&&this.kr(this.P,this.S);this.pb&&this.pb.Sx(this.P,this.S);d.bindFramebuffer(d.FRAMEBUFFER,null);this.pb=null;c.fo=null;c.hl=null}}kr(a,b){const d=this.ka;
this.oe&&this.By===a&&this.zy===b||(this.Ll?(this.oe&&d.deleteTexture(this.oe),this.oe=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.oe),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),2<=this.Tc?d.texImage2D(d.TEXTURE_2D,0,d.DEPTH24_STENCIL8,a,b,0,d.DEPTH_STENCIL,d.UNSIGNED_INT_24_8,null):this.Dy&&
d.texImage2D(d.TEXTURE_2D,0,d.DEPTH_STENCIL,a,b,0,d.DEPTH_STENCIL,this.Dy.UNSIGNED_INT_24_8_WEBGL,null),d.bindTexture(d.TEXTURE_2D,null)):(this.oe&&d.deleteRenderbuffer(this.oe),this.oe=d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,this.oe),d.renderbufferStorage(d.RENDERBUFFER,2<=this.Tc?d.DEPTH24_STENCIL8:d.DEPTH_STENCIL,a,b),d.bindRenderbuffer(d.RENDERBUFFER,null)),this.By=a,this.zy=b)}GQ(a,b){this.qm&&(this.IK=!1,this.kr(a,b))}EQ(){this.qm&&(this.IK=!0,this.kr(this.P,this.S))}$H(a){super.$H(a);
Cf(this,this.aD,this.P/this.S)}Dl(a){if(!Rh.Ui(this.ns,a)){var b=ei(this);b.wa=6;Tg.xa(b.Je,a);Rh.xa(this.ns,a);this.ic=0;this.Yo=!0}}vC(){let a,b;var d=this.pb;null===d?(a=this.aD,b=this.M(),d=this.K()):(a=vg(d),b=d.M(),d=d.K());this.Dl(a);ci(this,b,d)}cr(a){if(!Rh.Ui(this.Av,a)){var b=ei(this);b.wa=7;Tg.xa(b.Je,a);Rh.xa(this.Av,a);this.ic=0;this.Yo=!0}}AQ(){this.Yo=!1}zB(){return this.Yo}ie(){if(0!==this.So&&!this.ek()){this.WI();const a=this.iy;for(let b=0,d=this.So;b<d;++b)a[b].Aa();this.ic=this.Lp=
this.Yf=this.Lj=this.So=0}}WI(){const a=this.ka;0<this.Lp&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ln),a.bufferSubData(a.ARRAY_BUFFER,0,this.Hv.subarray(0,this.Lp)));0<this.Lj&&(a.bindBuffer(a.ARRAY_BUFFER,this.ao),a.bufferSubData(a.ARRAY_BUFFER,0,this.Kj.subarray(0,this.Lj)),a.bindBuffer(a.ARRAY_BUFFER,this.Rn),a.bufferSubData(a.ARRAY_BUFFER,0,this.Yh.subarray(0,this.Yf)))}ac(){return this.rz.Wa}Af(a,b,d,c){const e=this.rz;ac(e,a,b,d,c)||(Vb(e,a,b,d,c),a=ei(this),a.wa=3,e.Xd(a.nn,0),this.ic=0,this.wg=
null)}De(a){const b=this.rz;b.Wa!==a&&(Zb(b,a),a=ei(this),a.wa=3,b.Xd(a.nn,0),this.ic=0,this.wg=null)}hk(a){const b=this.rz;b.zd(a)||(b.set(a),a=ei(this),a.wa=3,b.Xd(a.nn,0),this.ic=0,this.wg=null)}Od(a){if(a!==this.Pk){var b=ei(this);b.wa=2;this.Pk=b.Xf=a;this.ic=0}}Ce(a){a=this.dD[a];gi(this,a[0],a[1])}xx(){gi(this,this.ka.ONE,this.ka.ONE_MINUS_SRC_ALPHA)}br(){gi(this,this.ka.ONE,this.ka.ZERO)}Rect(a){this.ux(a.aa,a.X,a.la,a.ga)}ux(a,b,d,c){this.MH(a,b,d,b,d,c,a,c)}gd(a){hi(this);ii(this,a);Uh.Xd(this.Yh,
this.Yf);this.Yf+=8}MH(a,b,d,c,e,g,k,l){hi(this);const n=this.Kj;let p=this.Lj;const r=this.Jh+this.rn;n[p++]=a;n[p++]=b;n[p++]=r;n[p++]=d;n[p++]=c;n[p++]=r;n[p++]=e;n[p++]=g;n[p++]=r;n[p++]=k;n[p++]=l;n[p++]=r;this.Lj=p;Uh.Xd(this.Yh,this.Yf);this.Yf+=8}xl(a,b){hi(this);ii(this,a);a=this.Yh;var d=this.Yf;a[d++]=b.aa;a[d++]=b.X;a[d++]=b.la;a[d++]=b.X;a[d++]=b.la;a[d++]=b.ga;a[d++]=b.aa;a[d]=b.ga;this.Yf+=8}NH(a,b){hi(this);ii(this,a);b.Xd(this.Yh,this.Yf);this.Yf+=8}qx(a,b,d,c,e,g,k,l,n,p,r,w,x){hi(this);
const z=this.Kj;let F=this.Lj;const D=this.Jh+this.rn;z[F++]=a;z[F++]=b;z[F++]=D+d;z[F++]=c;z[F++]=e;z[F++]=D+g;z[F++]=k;z[F++]=l;z[F++]=D+n;z[F++]=p;z[F++]=r;z[F++]=D+w;this.Lj=F;x.Xd(this.Yh,this.Yf);this.Yf+=8}Lw(a,b){Kf(this,0);Rh.xa(Vh,this.ns);Rh.xa(Wh,this.Av);this.vC();const [d,c]=this.Ht(this.pb);var e=Ef(this,0,0,this.Te(c),0,0,c);this.cr(e);if("crop"===a&&this.pb&&b){a=this.P/2;e=this.S/2;const l=b.M();b=b.K();var g=this.pb.M(),k=this.pb.K();g=Math.min(g,l);const n=Math.min(k,b),p=Math.max(b-
k,0);k=Math.max(k-b,0);Yh.set(-a,e-k,-a+g,e-n-k);Xh.dg(Yh);Yh.set(0,p,g,n+p);Yh.il(l,b);this.xl(Xh,Yh)}else a=d/2,e=c/2,this.ux(-a,e,a,-e);this.Dl(Vh);this.cr(Wh)}Cl(a){if(this.vp!==a){var b=ei(this);b.wa=11;this.vp=b.Xf=a;this.ic=0;this.wg=null}}EC(a,b,d,c,e,g,k,l,n,p,r){const w=this.vp;r%=10800;if(w.g2&&(w.fw.ja||w.lh.ja&&!Lg(w.lh,g,k)||w.gq.ja&&!Lg(w.gq,b.aa,b.X)||w.fq.ja&&!Lg(w.fq,b.la,b.ga)||w.hq.ja&&w.hq.Mf[0]!==Math.fround(l)||w.jq.ja&&w.jq.Mf[0]!==Math.fround(n)||w.iq.ja&&w.iq.Mf[0]!==Math.fround(p)||
w.el.ja&&!Lg(w.el,d.aa,d.X)||w.Wn.ja&&!Lg(w.Wn,d.la,d.ga)||w.Yn.ja&&!Lg(w.Yn,c.aa,c.X)||w.Xn.ja&&!Lg(w.Xn,c.la,c.ga)||w.lq.ja&&!Lg(w.lq,e.aa,e.X)||w.kq.ja&&!Lg(w.kq,e.X,e.ga)||w.mq.ja&&w.mq.Mf[0]!==Math.fround(r))){var x=ei(this);x.wa=12;var z=r;w.fw.ja||(w.lh.ja&&Mg(w.lh,g,k),w.gq.ja&&Mg(w.gq,b.aa,b.X),w.fq.ja&&Mg(w.fq,b.la,b.ga),w.hq.ja&&(w.hq.Mf[0]=l),w.jq.ja&&(w.jq.Mf[0]=n),w.iq.ja&&(w.iq.Mf[0]=p),w.el.ja&&Mg(w.el,d.aa,d.X),w.Wn.ja&&Mg(w.Wn,d.la,d.ga),w.Yn.ja&&Mg(w.Yn,c.aa,c.X),w.Xn.ja&&Mg(w.Xn,
c.la,c.ga),w.lq.ja&&Mg(w.lq,e.aa,e.X),w.kq.ja&&Mg(w.kq,e.X,e.ga),w.mq.ja&&(w.mq.Mf[0]=z));z=x.Je;z[0]=g;z[1]=k;b.Xd(z,2);z[6]=n;z[7]=p;d.Xd(z,12);b=x.nn;e.Xd(b,0);e=b[1];b[1]=b[3];b[3]=e;c.Xd(x.iU,0);x.Cg=r;x.xn=l;x.Xf=w.fw.ja?a?a.kc():null:null;this.ic=0}}DC(a){const b=this.vp;var d;if(d=0!==a.length){a:{for(let g=0,k=a.length;g<k;++g){d=b.Ts[g];var c=a[g],e=d.Mf;if(d.JK?e[0]!==Math.fround(c.$a)||e[1]!==Math.fround(c.eb)||e[2]!==Math.fround(c.Za):e[0]!==Math.fround(c)){d=!1;break a}}d=!0}d=!d}if(d){d=
ei(this);d.wa=13;for(let g=0,k=a.length;g<k;++g){c=b.Ts[g];e=a[g];const l=c.Mf;c.JK?(l[0]=e.$a,l[1]=e.eb,l[2]=e.Za):l[0]=e}Oh.Bd(d.BF,a);this.ic=0}}ei(a,b,d,c){var e=ei(this);e.wa=9;e=e.Je;e[0]=a;e[1]=b;e[2]=d;e[3]=c;this.ic=0}he(a){var b=ei(this);b.wa=9;a.Xd(b.Je,0);this.ic=0}Tm(){}no(){super.no();this.ka.flush()}WG(){if(this.qm&&this.pb&&this.pb.Zc){var a=ei(this),b=this.gz;a.wa=22;a.Cg=b?1:0;this.ic=0}}We(a){a=!!a;if(this.gz!==a&&this.qm){this.gz=a;var b=ei(this);b.wa=23;b.Cg=a?1:0;this.ic=0}}lx(){return this.gz}Ut(a){a=
!!a;if(this.Ll&&this.KK!==a){if(a&&this.lx())throw Error("depth still enabled");this.KK=a;var b=ei(this);b.wa=24;b.Cg=a?1:0;this.ic=0}}KQ(a,b,d,c,e=0){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);c=Math.floor(c);kc(this.NE,a,b,d,c)||(jc(this.NE,a,b,d,c),b=(e||this.Ht(this.bj())[1])-b-c,e=ei(this),e.wa=28,e.Cg=1,e=e.Je,e[0]=a,e[1]=b,e[2]=d,e[3]=c,this.ic=0)}RH(){if(-1!==this.NE.la){this.NE.set(0,0,-1,-1);var a=ei(this);a.wa=28;a.Cg=0;a=a.Je;a[0]=0;a[1]=0;a[2]=0;this.ic=a[3]=0}}ek(){return!this.ka||
this.ka.isContextLost()||this.PK}Nd(){Bf(this);Oh.R.HC.Nd();Oh.R.XQ.Nd();Oh.R.rC.Nd();for(const a of this.XC)a.he();this.FM=this.BM=this.bK=this.Dy=this.Xx=this.SL=this.Pe=null;this.tL=0;this.GA="(unavailable)";this.oe=this.Is=this.vp=null;for(const a of this.Ms.values())a.Nd()}async jC(){this.PK=!0;await this.Kq();this.PK=!1;for(const a of this.Ms.values())a.jC(this);this.sd(this.P,this.S,!0)}vt(a,b){if(this.ek())throw Error("context lost");this.ie();const d=Oh.m(Oh.R.HC,this);if(!("undefined"!==
typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData||a instanceof ArrayBuffer)&&null!==a)throw Error("invalid texture source");var c=Object.assign({},gg,b);if(d.Na)throw Error("already created texture");d.wm=c.tq;d.xm=c.uq;d.Rb=c.jc;d.rr=c.kw;d.Kp=c.gO;d.Qh=!!c.Cm&&d.O.Mr;d.os=
c.aB;if(!dg.has(d.wm)||!dg.has(d.xm))throw Error("invalid wrap mode");if(!bg.has(d.Rb))throw Error("invalid sampling");if(!ag.has(d.Kp))throw Error("invalid pixel format");if(!cg.has(d.os))throw Error("invalid mipmap quality");d.cf=!0;if(a instanceof ArrayBuffer||null===a||c.AV){if(d.P=c.width,d.S=c.height,a instanceof ArrayBuffer&&a.byteLength!==d.P*d.S*4)throw Error("ArrayBuffer wrong size");}else d.P=a.width,d.S=a.height;if(0>=d.P||0>=d.S)throw Error("invalid texture data size");c.AV&&(b=$f.th(d.P,
d.S),b.getContext("2d").drawImage(a,0,0,d.P,d.S),a=b);var e=$f.Sj(d.P)&&$f.Sj(d.S);b=d.O.Bv;if(d.P>b||d.S>b)throw Error("texture data exceeds maximum texture size");b=d.O.ka;var g=d.O.Tc;d.Na=b.createTexture();b.bindTexture(b.TEXTURE_2D,d.Na);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);c=eg(d.Kp,b);if(d.O.Ho()||e||!jg(d))2<=g?(b.texStorage2D(b.TEXTURE_2D,d.Qh?Math.floor(Math.log2(Math.max(d.P,d.S))+1):1,c.sO,d.P,d.S),a instanceof ArrayBuffer?
b.texSubImage2D(b.TEXTURE_2D,0,0,0,d.P,d.S,c.format,c.type,new Uint8Array(a)):null!==a&&b.texSubImage2D(b.TEXTURE_2D,0,0,0,c.format,c.type,a)):a instanceof ArrayBuffer?b.texImage2D(b.TEXTURE_2D,0,c.rw,d.P,d.S,0,c.format,c.type,new Uint8Array(a)):null===a?b.texImage2D(b.TEXTURE_2D,0,c.rw,d.P,d.S,0,c.format,c.type,null):b.texImage2D(b.TEXTURE_2D,0,c.rw,c.format,c.type,a);else{if(null===a)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");a instanceof ArrayBuffer&&
(a=new ImageData(new Uint8ClampedArray(a),d.P,d.S));a instanceof ImageData&&(e=$f.th(d.P,d.S),e.getContext("2d").putImageData(a,0,0),a=e);e=$f.th($f.bt(d.P),$f.bt(d.S));g=e.getContext("2d");g.imageSmoothingEnabled="nearest"!==d.Rb;g.drawImage(a,0,0,d.P,d.S,0,0,e.width,e.height);b.texImage2D(b.TEXTURE_2D,0,c.rw,c.format,c.type,e)}null!==a&&ng(d,b);b.bindTexture(b.TEXTURE_2D,null);d.O.Pk=null;d.fc=1;ig.add(d);return d}async Fw(a,b){if(this.ek())throw Error("context lost");b=Object.assign({},b);if(Oh.ob.ImageBitmapOptions){let d=
await createImageBitmap(a,{premultiplyAlpha:"premultiply"});const c=b.tq&&"clamp-to-edge"!==b.tq||b.uq&&"clamp-to-edge"!==b.uq,e=Oh.Sj(d.width)&&Oh.Sj(d.height);this.Ho()||e||!c?b.premultiplyAlpha=!1:Oh.ob.bC?(d=await createImageBitmap(a,{premultiplyAlpha:"premultiply",resizeWidth:Oh.bt(d.width),resizeHeight:Oh.bt(d.height)}),b.premultiplyAlpha=!1):d=await createImageBitmap(a,{premultiplyAlpha:"none"});return await Oh.Ew(()=>this.vt(d,b))}if(a instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");
a=await Oh.GO(a)}return await Oh.Ew(()=>this.vt(a,b))}ut(a,b,d){this.ie();const c=Oh.m(Oh.R.HC,this);c.AI(a,b,d);return c}uI(a,b){this.ie();b.TC(a)}uh(a){a&&(qg(a),0<a.fc||(this.ie(),a===this.Pk&&(this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.Pk=null),a===this.wp&&(this.ka.activeTexture(this.ka.TEXTURE1),this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.ka.activeTexture(this.ka.TEXTURE0),this.wp=null),a.hr()))}NO(a){let b=this.P,d=this.S,c=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),
c=!1),"number"===typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");this.ie();const e=Oh.m(Oh.R.XQ,this);e.Kx(b,d,Object.assign({WA:c},a));this.pb=null;this.Ic.fo=null;this.Ic.hl=null;return e}$d(a,b=!0){if(a!==this.pb){a&&a.Bn&&a.Sx(this.P,this.S);var d=ei(this);d.wa=8;this.pb=d.Xf=a;this.ic=0;b&&this.vC()}}bj(){return this.pb}Ht(a){return a?[a.M(),a.K()]:[this.P,this.S]}vB(a){if(2>this.Tc||this.pb&&0<this.pb.ue)this.br(),fi(this),this.zt(a,"stretch");else{var b=
ei(this),d=this.pb;b.wa=17;const c=b.Je,e=b.Ic.qq;c[0]=a.M();c[1]=a.K();c[2]=d?d.M():e.M();c[3]=d?d.K():e.K();c[4]=a.Nq()?1:0;c[5]=!0;b=b.BF;Qg.G(b);b.push(a.Bi);b.push(d?d.Bi:null);this.ic=0}}zt(a,b="stretch"){a=a.kc();if(!a)throw Error("not a texture-backed render target");this.Od(a);this.Lw(b,a)}Lq(a){if(!(2>this.Tc)){var b=ei(this);a=a.Bi;b.wa=14;b.Xf=a;this.ic=0}}PO(a){this.$d(null);this.ie();const b=a.kc();b===this.Pk&&(this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.Pk=null);b===this.wp&&
(this.ka.activeTexture(this.ka.TEXTURE1),this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.ka.activeTexture(this.ka.TEXTURE0),this.wp=null);a.hr()}YG(){this.We(!0);ei(this).wa=25;this.ic=0;this.rD=1}uB(){this.We(!1);ei(this).wa=26;this.ic=0;this.rD=2}wP(){return 2===this.rD}tB(){this.We(!0);ei(this).wa=27;this.rD=this.ic=0}eH(){let a=0;for(const b of Oh.R.HC.hN())a+=b.Rw();return a}Ho(){return 2<=this.Tc}Ch(){return!!this.Pe}II(a){Jf(this,[["normal",a.ONE,a.ONE_MINUS_SRC_ALPHA],["additive",a.ONE,
a.ONE],["xor",a.ONE,a.ONE_MINUS_SRC_ALPHA],["copy",a.ONE,a.ZERO],["destination-over",a.ONE_MINUS_DST_ALPHA,a.ONE],["source-in",a.DST_ALPHA,a.ZERO],["destination-in",a.ZERO,a.SRC_ALPHA],["source-out",a.ONE_MINUS_DST_ALPHA,a.ZERO],["destination-out",a.ZERO,a.ONE_MINUS_SRC_ALPHA],["source-atop",a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],["destination-atop",a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA]])}};"use strict";
const ki=self.A,li=self.Vi.jl,mi=self.GPUBufferUsage,ni=self.GPUShaderStage,oi=self.GPUTextureUsage,pi={powerPreference:"default",depth:!1,failIfMajorPerformanceCaveat:!1,YU:!1,jW:!1,QA:!1},qi=new ki.gd(0,0,1,0,1,1,0,1);ki.m(ki.er);const ri=ki.m(ki.Rect);ki.m(ki.Rect);const si=ki.m(ki.gd);let ti=!1;function vi(a){console.log("[WebGPU] "+a)}function wi(a,b){return 0!==(a.D&b)}async function xi(a,b){a.pe=null;for(await yi(a,b);!a.pe;)a.vi=null,await yi(a,b);await a.Kq()}
async function yi(a,b){if(!a.vi){a.vi=await navigator.gpu.requestAdapter(a.ZI);if(!a.vi)throw Error("renderer-unavailable (no WebGPU adapter available)");if(b&&a.vi.isFallbackAdapter)throw Error("renderer-unavailable (WebGPU provided fallback adapter)");}b=[];a.vi.features.has("timestamp-query")&&b.push("timestamp-query");a.vi.features.has("shader-f16")&&b.push("shader-f16");a.pe=await a.vi.requestDevice({requiredFeatures:b});if(!a.pe)return null;a.Bv=a.pe.limits.maxTextureDimension2D;a.Eb(33554432,
a.pe.features.has("timestamp-query"));a.Eb(67108864,a.pe.features.has("shader-f16"));a.pe.lost.then(d=>zi(a,d));a.Eb(32768,!1)}
async function zi(a,b){console.log("[WebGPU] Device lost: ",b);Bf(a);a.lj.Nd();ki.R.Hx.Nd();ki.R.xI.Nd();ki.R.rC.Nd();a.km="";a.Xv=null;a.Wv=null;a.oe=null;a.Ay=null;a.JL=null;a.KL=null;a.IJ=null;a.bF=null;a.ao=null;a.Rn=null;a.oD=null;a.lp=null;a.Ln=null;a.aG=null;a.VD=null;a.TD=null;a.dK=null;a.yD=null;a.fD=null;a.Bu=null;a.sA=null;a.gy=null;a.Cy=null;a.WL=null;a.Cu=null;a.In=null;a.$e=null;a.Xo=null;a.Au=null;a.uD=null;a.wy=null;a.BD=null;a.qs=null;a.ij=null;a.pb=null;a.yL=null;a.Gk=null;a.ZC.clear();
a.aF.clear();a.jM.clear();for(const d of a.Ms.values())d.Nd();a.pe=null;a.vi=null;a.YI=null;a.D|=32768;a.aO&&a.aO();await xi(a);for(const d of a.Ms.values())d.jC(a);a.sd(a.P,a.S,!0);a.bO&&a.bO()}function Ai(a){a.D|=268435968;Bi(a,a.bG.transform)}function Ci(a){const b=a.bG.C4;a.Q1.Xd(a.dG,b.offset/4);Bi(a,b)}function Di(a){const b=a.bG.ll;a.dG[b.offset/4]=a.R1;Bi(a,b)}
function Ei(a,b){return a.pe.createBindGroup({layout:a.fD,entries:[{binding:0,resource:{buffer:a.aG}},{binding:1,resource:{buffer:a.VD}},{binding:2,resource:{buffer:a.oD}},{binding:3,resource:{buffer:a.Ln}},{binding:4,resource:{buffer:a.TD}},{binding:5,resource:{buffer:b}}]})}function Fi(){return"depth24plus-stencil8"}function Gi(a){a.wk=a.pe.createCommandEncoder();a.D&=-16385}function Hi(a,b){b!==a.Au&&(a.Au=b,null===b&&(b=a.In),Ii(a),a.uD=b.lu,a.D|=128)}
function Ji(a){a.Xv=a.lF.getCurrentTexture();a.Wv=a.Xv.createView({label:"swapchaintextureview"});a=a.ij.kc();const b=a.O,d=b.rg();a.Na=b.Xv;a.Zp=b.Wv;b.sJ&&(a.lu=d.createBindGroup({layout:b.gy,entries:[{binding:0,resource:a.Xz},{binding:1,resource:a.Zp}]}))}
function Ki(a){var b=a.D;if(0!==(b&7680)){var d=a.D;0!==(d&512)&&(ti&&vi("Updating transform"),li.multiply(a.gT,a.ns,a.Av),a.dG.set(a.gT,a.bG.transform.offset/4));0!==(d&1024)&&(ti&&vi("Updating vertex uniform buffer"),Li(a.lj,a.wk,a.aG,a.XM,a.gw,a.KA-a.gw));0!==(d&2048)&&(ti&&vi("Updating fragment uniform buffer"),Li(a.lj,a.wk,a.VD,a.cK,a.Ru,a.Qy-a.Ru));0!==(d&4096)&&(ti&&vi("Updating fragment C3Params buffer"),Li(a.lj,a.wk,a.TD,a.QD,a.Oy,a.RD-a.Oy));a.D=d&-7681|16384}if(0!==(b&2097152))b=a.D,b=
{colorAttachments:[],depthStencilAttachment:{view:a.Ay,depthLoadOp:0!==(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:0!==(b&8388608)?"clear":"load",stencilClearValue:0,stencilStoreOp:"store"}},Mi(a,b),a.D&=-9437185,ti&&vi(`Starting coplanar stencil renderpass${"load"===b.depthStencilAttachment.depthLoadOp?"":", clear depth"}${"load"===b.depthStencilAttachment.stencilLoadOp?"":", clear stencil"}`);else if(0!==(b&4194304))b=a.pb,d={colorAttachments:[{view:b.Lo(),loadOp:b.Kk?
"clear":"load",clearValue:b.yr.toJSON(),storeOp:"store"}],depthStencilAttachment:{view:a.Ay,depthReadOnly:!0,stencilReadOnly:!0}},Mi(a,d),b.Kk=!1,ti&&vi(`Starting coplanar color renderpass to ${b.op?"backbuffer":"texture"}, ${"load"===d.colorAttachments[0].loadOp?"continue":"clear"} color`),b=d;else{b=a.D;d=a.pb;const c={colorAttachments:[{view:d.Lo(),loadOp:d.Kk?"clear":"load",clearValue:d.yr.toJSON(),storeOp:"store"}]};Mi(a,c);d.Kk=!1;786432===(b&786432)&&(c.depthStencilAttachment={view:a.Ay,depthLoadOp:0!==
(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:"clear",stencilClearValue:0,stencilStoreOp:"discard"},a.D&=-1048577);ti&&vi(`Starting render pass to ${d.op?"backbuffer":"texture"}, depth ${c.depthStencilAttachment?"enabled":"disabled"}, ${"load"===c.colorAttachments[0].loadOp?"continue":"clear"} color${c.depthStencilAttachment&&"load"!==c.depthStencilAttachment.depthLoadOp?", clear depth":""}`);b=c}a.Fr=a.wk.beginRenderPass(b);a.D|=25072}
function Ni(a){null!==a.Fr&&(Ii(a),ti&&vi(`Ending render pass (to ${a.pb.op?"backbuffer":"texture"})`),a.Fr.end(),a.Fr=null)}function Oi(a,b,d){if(a.Ch()){if(!a.Gk)throw Error("not started frame timing");if(0>b||0>d||b===d)throw Error("invalid timestamp index");Ni(a);a.xA=!0;a.OF=b;a.sU=d}}function Pi(a){let b=a.Mn;if(10499<b)a.ie(),b=0;else if(0!==(a.D&1)){a.Iu+=6;return}null===a.Fr&&Ki(a);a.D|=1;a.TR=6*b;a.Iu=6}
function Qi(a,b,d){const c=d.M();d=d.K();let e=ki.V(b.aa,0,c),g=ki.V(b.X,0,d),k=ki.V(b.la,e,c);b=ki.V(b.ga,g,d);Number.isNaN(e)&&(e=0);Number.isNaN(g)&&(g=0);Number.isNaN(k)&&(k=c);Number.isNaN(b)&&(b=d);a.setScissorRect(e,g,k-e,b-g)}
function Ii(a){const b=a.D;if(0!==(b&1)){if(ti){var d=[];b&16&&d.push("draw state");b&32&&d.push("pipeline");b&64&&d.push("texture");b&128&&d.push("background texture");b&256&&d.push("depth texture");b&8192&&d.push("buffer");b&8&&d.push("scissor");var c="";0<d.length&&(c+=`(Updated ${d.join(", ")}) `);c=0!==(b&2)?c+`Drawing ${a.Iu/6} points`:c+`Drawing ${a.Iu/6} quads`;vi(c)}d=a.Fr;0!==(b&16)&&(c=a.pb,d.setViewport(0,0,c.M(),c.K(),0,1),d.setIndexBuffer(a.lp,"uint16"),d.setVertexBuffer(0,a.ao),d.setVertexBuffer(1,
a.Rn),0!==(b&6291456)&&d.setStencilReference(1),0!==(b&4)&&Qi(d,a.yF,c));if(0!==(b&32)){var e=0;0!==(b&134217728)?e=4:0!==(b&2097152)?e=2:0!==(b&4194304)?e=3:786432===(b&786432)&&(e=1);c=d.setPipeline;{var g=a.Cu;var k=a.vD,l=a.LR;const r=5*k+e;if(2>l){var n=g.Qv[r];null===n&&(n=g.rg().createRenderPipeline(Ri(g,k,e,l)),g.Qv[r]=n);g=n}else{n=g.DL.get(l);Array.isArray(n)||(n=Si(),g.DL.set(l,n));var p=n[r];null===p&&(p=g.rg().createRenderPipeline(Ri(g,k,e,l)),n[r]=p);g=p}}c.call(d,g)}0!==(b&8192)&&d.setBindGroup(0,
a.Bu);0!==(b&64)&&d.setBindGroup(1,a.Xo);0!==(b&128)&&d.setBindGroup(2,a.uD);0!==(b&256)&&d.setBindGroup(3,a.wy);0!==(b&8)&&(c=a.pb,0!==(b&4)?Qi(d,a.yF,c):d.setScissorRect(0,0,c.M(),c.K()));d.drawIndexed(a.Iu,1,a.TR,0,0);a.D&=-8698}}function Mi(a,b){if(a.xA){var d={querySet:a.Gk.pF,endOfPassWriteIndex:a.sU};a.HM.has(a.OF)||(d.beginningOfPassWriteIndex=a.OF,a.HM.add(a.OF));b.timestampWrites=d}}
function Ti(a,b){b.Kk&&(Ni(a),a.wk.beginRenderPass({colorAttachments:[{view:b.Lo(),loadOp:"clear",clearValue:b.yr.toJSON(),storeOp:"store"}]}).end(),a.D|=16384,b.Kk=!1)}function Bi(a,b){const d=b.offset;b=b.end;0!==(a.D&1024)?(a.gw=Math.min(a.gw,d),a.KA=Math.max(a.KA,b)):(a.D|=1024,a.gw=d,a.KA=b,Ni(a))}function Ui(a,b,d){b.Xd(a.hS,d.offset/4);b=d.offset;d=d.end;0!==(a.D&2048)?(a.Ru=Math.min(a.Ru,b),a.Qy=Math.max(a.Qy,d)):(a.D|=2048,a.Ru=b,a.Qy=d,Ni(a))}
function Wi(a,b){const d=b.offset;b=b.end;0!==(a.D&4096)?(a.Oy=Math.min(a.Oy,d),a.RD=Math.max(a.RD,b)):(a.D|=4096,a.Oy=d,a.RD=b,Ni(a))}function Xi(a,b,d){a.Py[d.offset/4]!==Math.fround(b)&&(a.Py[d.offset/4]=b,Wi(a,d))}function Yi(a,b,d){a.aK[d.offset/4]!==b&&(a.aK[d.offset/4]=b,Wi(a,d))}function Zi(a,b,d){b.xN(a.Py,d.offset/4)||(b.Xd(a.Py,d.offset/4),Wi(a,d))}
function $i(a,b){if(0!==(a.D&65536)){if(null!==b.Gn)var d=b.Gn.Dv;else if(b.cf&&b.XE&&!b.En){d=b.O;const c=[b];for(const e of d.aF)e.j();for(const e of d.ZC){if(14<=c.length)break;e!==b&&c.push(e)}2>c.length||ki.m(ki.R.D0,d,c);d=null!==b.Gn?b.Gn.Dv:b.Gp}else d=b.Gp;aj(a,d);a.Wo=b.CL}else aj(a,b.Gp),a.Wo=0}function bj(a,b){b=!!b;0!==(a.D&134217728)!==b&&(Ii(a),a.Eb(134217728,b),a.D|=32)}function aj(a,b){b!==a.Xo&&(Ii(a),a.Xo=b,a.D|=64)}function cj(a,b){b!==a.Bu&&(Ii(a),a.Bu=b,a.D|=8192)}
function dj(a){a=a.YI;if(!a)return"unknown/unknown";const b=a.vendor||"unknown",d=a.architecture||"unknown",c=[];a.device&&c.push(a.device);a.description&&c.push(a.description);a.type&&c.push(a.type);a.backend&&c.push(a.backend);return b+"/"+d+(0<c.length?` (${c.join(", ")})`:"")}
ki.R.F0=class extends ki.R.rQ{constructor(a){super(a);this.lF=this.FR=this.pe=this.YI=this.vi=this.ZI=null;this.km="";this.Wv=this.Xv=null;this.Qe=this.Zf=0;this.gT=li.create();this.bF=this.IJ=this.KL=this.Ay=this.JL=this.oe=null;this.zy=this.By=0;this.Ln=this.lp=this.oD=this.Rn=this.ao=this.dK=this.TD=this.VD=this.aG=null;this.bG=ej;this.cG=16*Math.ceil(fj/16);this.dG=this.XM=null;this.gS=gj;this.SD=16*Math.ceil(hj/16);this.hS=this.cK=null;this.ZJ=ij;this.$J=16*Math.ceil(jj/16);this.aK=this.Py=this.QD=
null;this.Kj=new Float32Array(126E3);this.Yh=new Float32Array(126E3);this.Ar=new Float32Array(42E3);this.$u=new Uint16Array(63E3);this.Hv=new Float32Array(42E3);this.Wo=this.Mn=0;this.pn=ki.m(ki.gb,1,1,1,1);this.Lp=0;this.lj=ki.m(ki.R.C0,this);this.D=32768;this.RD=this.Oy=this.Qy=this.Ru=this.KA=this.gw=this.Iu=this.TR=0;this.yF=ki.m(ki.Rect,0,0,0,0);this.KR=ki.m(ki.gb,1,1,1,1);this.MR=ki.m(ki.gb,1,1,1,1);this.Q1=ki.m(ki.Rect,0,0,0,0);this.R1=0;this.EM="";this.yL=this.Bu=this.wy=this.uD=this.Au=this.Xo=
this.$e=this.In=this.Cy=this.gy=this.sA=this.yD=this.fD=null;this.ZC=new Set;this.aF=new Set;this.Bv=8192;this.Cu=this.qs=this.BD=this.WL=null;this.LR=this.vD=0;this.qT=null;this.jM=new Map;this.Fr=this.wk=null;this.qy=[];this.pb=this.ij=null;this.Ll=this.BU=this.sJ=!1;this.Gk=null;this.xA=!1;this.sU=this.OF=-1;this.HM=new Set;this.bO=this.aO=null;this.II()}Ld(){return!0}Eb(a,b){this.D=b?this.D|a:this.D&~a}async ya(a,b){b=Object.assign({},pi,b);if(!navigator.gpu)throw Error("renderer-unavailable (WebGPU not supported)");
b.depth&&(this.D|=131072);this.sJ=!!b.YU;this.BU=!!b.jW;this.ZI={};this.Ll=!(!b.depth||!b.QA);"default"!==b.powerPreference&&(this.ZI.powerPreference=b.powerPreference);this.FR=a;zf(this.$u);await xi(this,b.failIfMajorPerformanceCaveat)}async Kq(){super.Kq();const a=this.pe;this.km=navigator.gpu.getPreferredCanvasFormat();this.Wv=this.Xv=null;let b=oi.RENDER_ATTACHMENT;this.sJ&&(b|=oi.TEXTURE_BINDING);this.BU&&(b|=oi.COPY_SRC);this.EM=this.km.startsWith("rgba8")||this.km.startsWith("bgra8")?this.km:
"rgba8unorm";this.D&=100794368;this.D|=7680;wi(this,131072)&&(this.D|=17563648);this.LR=this.vD=this.Mn=0;Vb(this.pn,1,1,1,1);Vb(this.KR,1,1,1,1);Vb(this.MR,1,1,1,1);this.XM=new ArrayBuffer(this.cG);this.dG=new Float32Array(this.XM);this.cK=new ArrayBuffer(this.SD);this.hS=new Float32Array(this.cK);this.QD=new ArrayBuffer(this.$J);this.Py=new Float32Array(this.QD);this.aK=new Uint32Array(this.QD);this.ao=a.createBuffer({label:"vertexbuffer",size:this.Kj.byteLength,usage:mi.VERTEX|mi.COPY_DST});this.Rn=
a.createBuffer({label:"texcoordbuffer",size:this.Yh.byteLength,usage:mi.VERTEX|mi.COPY_DST});this.oD=a.createBuffer({label:"colorbuffer",size:this.Ar.byteLength,usage:mi.VERTEX|mi.STORAGE|mi.COPY_DST});this.lp=a.createBuffer({label:"indexbuffer",mappedAtCreation:!0,size:this.$u.byteLength,usage:mi.INDEX});var d=this.lp.getMappedRange();(new Uint16Array(d)).set(this.$u);this.lp.unmap();this.Ln=a.createBuffer({label:"pointbuffer",size:this.Hv.byteLength,usage:mi.VERTEX|mi.STORAGE|mi.COPY_DST});this.fD=
a.createBindGroupLayout({label:"bufferbindgrouplayout",entries:[{binding:0,visibility:ni.VERTEX,buffer:{type:"uniform",minBindingSize:this.cG}},{binding:1,visibility:ni.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.SD}},{binding:2,visibility:ni.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.Ar.byteLength}},{binding:3,visibility:ni.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.Hv.byteLength}},{binding:4,visibility:ni.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.$J}},
{binding:5,visibility:ni.FRAGMENT,buffer:{type:"uniform"}}]});d=[];for(var c=0;14>c;++c)d.push({binding:2*c,visibility:ni.FRAGMENT,sampler:{type:"filtering"}},{binding:2*c+1,visibility:ni.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}});this.sA=a.createBindGroupLayout({label:"texturebindgrouplayout",entries:d});this.gy=a.createBindGroupLayout({label:"backtexturebindgrouplayout",entries:[{binding:0,visibility:ni.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:ni.FRAGMENT,texture:{sampleType:"float",
viewDimension:"2d"}}]});this.Cy=a.createBindGroupLayout({label:"depthtexturebindgrouplayout",entries:[{binding:0,visibility:ni.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:ni.FRAGMENT,texture:{sampleType:"depth",viewDimension:"2d"}}]});this.WL=a.createPipelineLayout({bindGroupLayouts:[this.fD,this.sA,this.gy,this.Cy]});d=ki.R.JC;c=wi(this,67108864);this.BD=a.createShaderModule({label:"<default vertex module>",code:kj(d.Ct(),c)});this.BD.getCompilationInfo().then(g=>lj("<default>",
"vertex",g));this.qs=a.createShaderModule({label:"<normalized vertex module>",code:kj("\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
c)});this.qs.getCompilationInfo().then(g=>lj("<normalized>","vertex",g));d=await Promise.all([d.ya(this,{name:"<default>",src:mj(!1),fB:mj(!0),ot:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
t4:"\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}),
d.ya(this,{name:"<generate-mipmap>",src:"\n\t\t@binding(0) @group(0) var sampler0 : sampler;\n\t\t@binding(1) @group(0) var texture0 : texture_2d<f32>;\n\n\t\tstruct FragmentInput {\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\tstruct FragmentOutput {\n\t\t\t@location(0) color : vec4<f32>\n\t\t};\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = textureSample(texture0, sampler0, vec2<f32>(input.fragUV.x, 1.0 - input.fragUV.y));\n\t\t\treturn output;\n\t\t}",
ot:"\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\t\t\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar pos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-1.0, 1.0),\n\t\t\t\tvec2<f32>(1.0, 1.0),\n\t\t\t\tvec2<f32>(-1.0, -1.0),\n\t\t\t\tvec2<f32>(1.0, -1.0));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = pos[input.VertexIndex];\n\t\t\toutput.Position = vec4<f32>(p, 0.0, 1.0);\n\t\t\toutput.fragUV = p / 2.0 + 0.5;\n\t\t\treturn output;\n\t\t}"}),
d.ya(this,{name:"<point>",src:nj(!1),fB:nj(!0),ot:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct PointData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(3) @group(0) var<storage> pointBuffer : PointData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) pointOpacity : f32\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar normPos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, 0.5),\n\t\t\t\tvec2<f32>(-0.5, 0.5));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = normPos[input.VertexIndex % u32(4)];\n\t\t\tvar pointData : vec4<f32> = pointBuffer.data[input.VertexIndex / u32(4)];\n\n\t\t\tvar size : f32 = pointData.z;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(p * size + pointData.xy, uniforms.zElevation, 1.0);\n\t\t\toutput.pointOpacity = pointData.w;\n\n\t\t\tvar pointTexMin : vec2<f32> = min(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pointTexMax : vec2<f32> = max(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pn : vec2<f32> = p + vec2<f32>(0.5, 0.5);\n\t\t\tvar pointCoord : vec2<f32> = select(vec2<f32>(1.0 - pn.y, pn.x), pn, uniforms.pointTexEnd.x > uniforms.pointTexStart.x);\n\n\t\t\toutput.fragUV = mix(pointTexMin, pointTexMax, pointCoord);\n\t\t\treturn output;\n\t\t}"}),
d.ya(this,{name:"<tilemap>",src:oj(!1),fB:oj(!0)}),d.ya(this,{name:"<fill>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = input.fragColor;\n\t\t\treturn output;\n\t\t}"}),d.ya(this,{name:"<lineargradient>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\tfn fromLinear(linearRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (linearRGB < vec3<f32>(0.0031308));\n\t\t\tvar higher : vec3<f32> = vec3<f32>(1.055) * pow(abs(linearRGB), vec3<f32>(1.0/2.4)) - 0.055;\n\t\t\tvar lower : vec3<f32> = linearRGB * 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\tfn toLinear(sRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (sRGB < vec3<f32>(0.04045));\n\t\t\tvar higher : vec3<f32> = pow(abs((sRGB + 0.055) / 1.055), vec3<f32>(2.4));\n\t\t\tvar lower : vec3<f32> = sRGB / 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar linearGrad : vec3<f32> = mix(toLinear(input.fragColor.rgb), toLinear(uniforms.color2.rgb), vec3<f32>(input.fragUV.x));\n\n\t\t\tvar a : f32 = mix(input.fragColor.a, uniforms.color2.a, input.fragUV.x);\n\t\t\toutput.color = vec4<f32>(fromLinear(linearGrad) * a, a);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.ya(this,{name:"<penumbra>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar grad : f32 = input.fragUV.x / (1.0 - input.fragUV.y);\n\t\t\toutput.color = input.fragColor * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.ya(this,{name:"<hardellipse>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\n\t\t\tvar f : f32 = step(diffSq.x + diffSq.y, 0.25);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),d.ya(this,{name:"<hardellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\n\t\t\tvar innerF : f32 = step(distSq, 0.25);\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm * uniforms.outlineThickness;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\t\t\tvar outerF : f32 = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.ya(this,{name:"<smoothellipse>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\n\t\t\tvar f : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),
d.ya(this,{name:"<smoothellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar pxNorm : vec2<f32> = uniforms.pixelSize * norm;\n\t\t\tvar innerEdge1 : vec2<f32> = halfNorm - pxNorm;\n\t\t\tvar innerEdge1Sq : vec2<f32> = innerEdge1 * innerEdge1;\n\n\t\t\tvar innerF : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\n\t\t\tvar innerEdge2 : vec2<f32> = halfNorm - pxNorm * uniforms.outlineThickness;\n\t\t\tvar innerEdge2Sq : vec2<f32> = innerEdge2 * innerEdge2;\n\t\t\tvar innerEdge3 : vec2<f32> = halfNorm - pxNorm * (uniforms.outlineThickness + 1.0);\n\t\t\tvar innerEdge3Sq : vec2<f32> = innerEdge3 * innerEdge3;\n\n\t\t\tvar outerF : f32 = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.ya(this,{name:"<tilerandomization>",src:d.XB(!1),fB:d.XB(!0)}),d.ya(this,{name:"<smoothline>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar f : f32 = 1.0 - abs(input.fragUV.y - 0.5) * 2.0;\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"})]);this.Js=d[0];this.qT=d[1];this.lA=d[2];this.kA=d[4];for(var e of d)Ff(this,e);this.Cu=this.Js;
this.D|=65536;this.yL=this.qT.FI();this.aG=a.createBuffer({label:"vertexuniformbuffer",size:this.cG,usage:mi.UNIFORM|mi.COPY_DST});this.VD=a.createBuffer({label:"fragmentuniformbuffer",size:this.SD,usage:mi.UNIFORM|mi.COPY_DST});this.TD=a.createBuffer({label:"fragmentc3paramsuniformbuffer",size:this.$J,usage:mi.UNIFORM|mi.COPY_DST});this.dK=a.createBuffer({label:"fragmentdefaultcustomparamsbuffer",size:16,usage:mi.UNIFORM|mi.COPY_DST});this.gw=0;this.KA=this.cG;Ai(this);Ci(this);Di(this);this.Ru=
0;this.Qy=this.SD;Ui(this,this.KR,this.gS.x3);Ui(this,this.MR,this.gS.B4);this.Bu=this.yD=Ei(this,this.dK);e=ki.th(32,32);e.getContext("2d");this.In=await this.Fw(e);this.$e=null;this.Xo=this.In.Gp;this.Wo=0;this.Au=null;this.uD=this.In.lu;pj(this.In);this.JL=this.pe.createTexture({label:"nulldepthbuffer",size:[8,8,1],format:Fi(),usage:oi.TEXTURE_BINDING});this.KL=this.JL.createView({label:"nulldepthbufferview",aspect:"depth-only"});this.wy=this.bF=this.pe.createBindGroup({label:"nulldepthbufferbindgroup",
layout:this.Cy,entries:[{binding:0,resource:this.Ko({jc:"nearest"})},{binding:1,resource:this.KL}]});this.ij=ki.m(ki.R.xI,this,!0);qj(this.ij.kc(),b,this.km);this.pb=this.ij;Gi(this);this.YI=this.vi.info?this.vi.info:this.vi.requestAdapterInfo?await this.vi.requestAdapterInfo():null;this.lF||(this.lF=this.FR.getContext("webgpu"));this.lF.configure({device:a,format:this.km,usage:b,alphaMode:"premultiplied"});ti&&vi("Initialised state")}rg(){return this.pe}async xB(a){ti&&vi(`Creating shader program '${a.name}'`);
a=await ki.R.JC.ya(this,a);Ff(this,a);return a}GI(){return this.WL}ek(){return wi(this,32768)}Ch(){return wi(this,33554432)}eH(){let a=0;for(const b of ki.R.Hx.hN())b.En||(a+=b.Rw());return a}Ho(){return!0}sd(a,b,d){if(this.P!==a||this.S!==b||d)ti&&vi(`Setting size to ${a} x ${b}`),this.ie(),this.P=a,this.S=b,this.Zf=a,this.Qe=b,this.ij.fr(),this.Dl(vg(this.ij)),this.pb&&this.pb.Sx(this.P,this.S),wi(this,131072)&&wi(this,16777216)&&this.kr(a,b)}kr(a,b){if(this.oe){if(this.By===a&&this.zy===b)return;
this.oe.destroy()}let d=oi.RENDER_ATTACHMENT;this.Ll&&(d|=oi.TEXTURE_BINDING);this.oe=this.pe.createTexture({label:"depthbuffer",size:[a,b,1],format:Fi(),usage:d});this.Ay=this.oe.createView({label:"depthbufferview"});this.Ll&&(this.IJ=this.pe.createBindGroup({label:"depthbufferbindgroup",layout:this.Cy,entries:[{binding:0,resource:this.Ko({jc:"nearest"})},{binding:1,resource:this.oe.createView({label:"depthbufferview",aspect:"depth-only"})}]}));this.By=a;this.zy=b}GQ(a,b){wi(this,131072)&&(this.Eb(16777216,
!1),this.kr(a,b))}EQ(){wi(this,131072)&&(this.Eb(16777216,!0),this.kr(this.P,this.S))}Dl(a){li.Ui(this.ns,a)||(li.xa(this.ns,a),Ai(this))}vC(){this.Dl(vg(this.pb))}cr(a){li.Ui(this.Av,a)||(li.xa(this.Av,a),Ai(this))}AQ(){this.Eb(268435456,!1)}zB(){return wi(this,268435456)}vt(a,b){if(a&&!rj(a)){var d=a.width||a.videoWidth;const c=a.height||a.videoHeight,e=ki.th(d,c);e.getContext("2d").drawImage(a,0,0,d,c);a=e}this.ie();ti&&vi(`Creating texture ${a?a.width:b.width} x ${a?a.height:b.height}`);d=ki.m(ki.R.Hx,
this);d.Kx(a,b);return d}async Fw(a,b){if(rj(a))return this.vt(a,b);if(!ki.ob.ImageBitmapOptions)throw Error("no support for ImageBitmapOptions");a=await createImageBitmap(a,{premultiplyAlpha:"premultiply"});return this.vt(a,b)}Ko(a){var b=a.tq||"clamp-to-edge";const d=a.uq||"clamp-to-edge",c=a.jc;a=a.kw||0;"trilinear"!==c&&(a=0);const e=`${b},${d},${c},${a}`;let g=this.jM.get(e);if(g)return g;b={addressModeU:b,addressModeV:d,magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest"};if("bilinear"===
c||"trilinear"===c)b.magFilter="linear",b.minFilter="linear";"trilinear"===c&&(b.mipmapFilter="linear",1<a&&(b.maxAnisotropy=a));g=this.pe.createSampler(b);this.jM.set(e,g);return g}FI(){return this.yL}ut(a,b,d){this.ie();const c=ki.m(ki.R.Hx,this);c.AI(a,b,d);return c}uI(a,b){b.TC(a)}uh(a){a&&(qg(a),0<a.fc||(this.ek()||(this.ie(),this.$e===a&&this.Od(null),this.Au===a&&Hi(this,null)),a.hr()))}lr(a,b){this.ek()||(b?this.ZC.add(a):this.ZC.delete(a))}Tm(){ti&&vi("================== START FRAME ===================");
Ji(this)}no(){null===this.Fr&&this.ij.Kk&&Ki(this);super.no();var a=this.lj,b=this.If;if(0===b%30)for(const [d,c]of a.ur.entries()){let e=0;for(let g=0,k=c.length;g<k;++g){const l=c[g];l.MT<=b-25?(l.ki(),l.j()):(c[e]=l,++e)}0===e?a.ur.delete(d):sj.eg(c,e)}a=this.ij.kc();a.Na=null;a.Zp=null;this.Wv=this.Xv=a.lu=null;ti&&vi("End of frame");10<=this.If&&(ti=!1)}ie(a=!1){Ni(this);if(this.Gk&&a){var b=this.Gk,d=this.wk;d.resolveQuerySet(b.pF,0,b.Lv,b.wF,0);d.copyBufferToBuffer(b.wF,0,b.Tz,0,8*b.Lv);this.D|=
16384}0!==(this.D&16384)&&(this.qy.push(this.wk.finish()),Gi(this));if(0!==this.qy.length){ti&&vi("Ending batch");this.WI();ti&&vi(`Submitting ${this.qy.length} commands`);this.pe.queue.submit(this.qy);ki.G(this.qy);b=this.lj;for(const c of b.tF)tj(c);sj.G(b.tF);for(const c of b.eM)c.ki(),c.j();sj.G(b.eM);for(const c of b.CD)c.destroy();sj.G(b.CD);this.Gk&&a&&(uj(this.Gk),this.Gk=null)}}WI(){const a=this.pe.queue;if(0<this.Mn){const b=this.Mn;ti&&vi("Writing vertex buffers");a.writeBuffer(this.ao,
0,this.Kj.buffer,0,48*b);a.writeBuffer(this.Rn,0,this.Yh.buffer,0,48*b);a.writeBuffer(this.oD,0,this.Ar.buffer,0,16*b);this.Mn=0}0<this.Lp&&(ti&&vi("Writing point buffer"),a.writeBuffer(this.Ln,0,this.Hv.buffer,0,4*this.Lp),this.Lp=0)}NO(a){let b=this.P,d=this.S,c=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),c=!1),"number"===typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");this.ie();const e=ki.m(ki.R.xI,this);e.Kx(b,d,Object.assign({WA:c},a));return e}$d(a,
b=!0){null===a&&(a=this.ij);this.pb!==a&&(Ni(this),this.pb=a,this.Eb(524288,a.Zc),a.Bn&&!a.op&&a.Sx(this.P,this.S),b&&this.vC())}Lq(){}bj(){return this.pb===this.ij?null:this.pb}Ht(a){return null===a?[this.P,this.S]:[a.M(),a.K()]}PO(a){this.ie();this.pb===a&&this.$d(null);const b=a.kc();this.$e===b&&this.Od(null);this.Au===b&&Hi(this,null);a.hr()}We(a){0!==(this.D&131072)&&(a=!!a,0!==(this.D&262144)!==a&&(0!==(this.D&524288)&&Ni(this),this.Eb(262144,a)))}lx(){return wi(this,262144)}Ut(a){if(this.Ll){if(a&&
this.lx())throw Error("depth still enabled");a=a?this.IJ:this.bF;this.wy!==a&&(Ii(this),this.wy=a,this.D|=256)}}he(a){Ni(this);this.pb.Kk=!0;this.pb.yr.set(a)}ei(a,b,d,c){Ni(this);this.pb.Kk=!0;Vb(this.pb.yr,a,b,d,c)}WG(){655360===(this.D&655360)&&(Ni(this),this.D|=1048576)}KQ(a,b,d,c){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);c=Math.floor(c);0!==(this.D&4)&&kc(this.yF,a,b,d,c)||(Ii(this),this.D|=12,jc(this.yF,a,b,d,c))}RH(){0!==(this.D&4)&&(Ii(this),this.D&=-5,this.D|=8)}Cl(a){this.Cu!==a&&
(Ii(this),this.Cu=a,this.wg=null,this.D|=32,a=a===this.Js,a=!!a,0!==(this.D&65536)!==a&&(this.Eb(65536,a),$i(this,null===this.$e?this.In:this.$e)))}Od(a){a!==this.$e&&(this.$e=a,null===a&&(a=this.In),$i(this,a))}Ce(a){a!==this.vD&&(Ii(this),this.vD=a,this.wg=null,this.D|=32)}xx(){this.Ce(0)}br(){this.Ce(3)}Af(a,b,d,c){const e=this.pn;ac(e,a,b,d,c)||(Vb(e,a,b,d,c),this.wg=null)}De(a){const b=this.pn;b.Wa!==a&&(Zb(b,a),this.wg=null)}ac(){return this.pn.Wa}hk(a){const b=this.pn;b.zd(a)||(b.set(a),this.wg=
null)}Rect(a){this.ux(a.aa,a.X,a.la,a.ga)}ux(a,b,d,c){this.MH(a,b,d,b,d,c,a,c)}gd(a){this.NH(a,qi)}MH(a,b,d,c,e,g,k,l){Pi(this);const n=this.Kj,p=this.Mn++;let r=12*p;const w=this.Jh+this.rn;n[r++]=a;n[r++]=b;n[r++]=w;n[r++]=d;n[r++]=c;n[r++]=w;n[r++]=e;n[r++]=g;n[r++]=w;n[r++]=k;n[r++]=l;n[r]=w;rc(qi,this.Yh,12*p,this.Wo);this.pn.Xd(this.Ar,4*p)}xl(a,b){Pi(this);const d=this.Mn++;rc(a,this.Kj,12*d,this.Jh+this.rn);a=this.Yh;var c=12*d,e=this.Wo;a[c++]=b.aa;a[c++]=b.X;a[c++]=e;a[c++]=b.la;a[c++]=
b.X;a[c++]=e;a[c++]=b.la;a[c++]=b.ga;a[c++]=e;a[c++]=b.aa;a[c++]=b.ga;a[c]=e;this.pn.Xd(this.Ar,4*d)}NH(a,b){Pi(this);const d=this.Mn++;rc(a,this.Kj,12*d,this.Jh+this.rn);rc(b,this.Yh,12*d,this.Wo);this.pn.Xd(this.Ar,4*d)}qx(a,b,d,c,e,g,k,l,n,p,r,w,x){Pi(this);const z=this.Kj,F=this.Mn++;let D=12*F;const G=this.Jh+this.rn;z[D++]=a;z[D++]=b;z[D++]=G+d;z[D++]=c;z[D++]=e;z[D++]=G+g;z[D++]=k;z[D++]=l;z[D++]=G+n;z[D++]=p;z[D++]=r;z[D]=G+w;rc(x,this.Yh,12*F,this.Wo);this.pn.Xd(this.Ar,4*F)}EC(a,b,d,c,e,
g,k,l,n,p,r){g=this.ZJ;k=this.Cu;r%=10800;k.ou&&Hi(this,a);k.zU&&(Zi(this,b,g.H3),Zi(this,d,g.UV),Zi(this,c,g.N4),Zi(this,e,g.$s));Xi(this,l,g.devicePixelRatio);Xi(this,n,g.YA);Xi(this,p,g.XA);Xi(this,r,g.BG);Xi(this,this.Ep,g.Y4);Xi(this,this.gp,g.X4)}DC(a){a&&(a.sE&&(Ni(this),Li(a.ua().lj,this.wk,a.le,a.gJ,0,a.pJ),a.sE=!1),cj(this,a.oJ))}vB(a){a.Kk?(this.pb.Kk=!0,this.pb.yr.set(a.yr)):2<=a.ue&&2>this.pb.ue?(Ti(this,a),Ni(this),this.wk.beginRenderPass({colorAttachments:[{view:a.kc().Lo(),resolveTarget:this.pb.kc().Lo(),
loadOp:"load",storeOp:"store"}]}).end(),this.D|=16384):(this.ei(0,0,0,0),this.br(),fi(this),this.zt(a))}zt(a){Ti(this,a);a=a.kc();this.Od(a);this.Lw()}Lw(){const a=wi(this,134217728);a||bj(this,!0);Kf(this,0);si.set(0,-1,0,-1,2,1,0,1);ri.set(0,-1,2,1);this.xl(si,ri);a||bj(this,!1)}YG(){Ni(this);this.We(!0);this.D|=10485760}uB(){Ni(this);this.We(!1);this.D&=-2097153;this.D|=4194304}wP(){return wi(this,4194304)}tB(){Ni(this);this.We(!0);this.D&=-4194305}II(){Jf(this,[["normal","one","one-minus-src-alpha"],
["additive","one","one"],["xor","one","one-minus-src-alpha"],["copy","one","zero"],["destination-over","one-minus-dst-alpha","one"],["source-in","dst-alpha","zero"],["destination-in","zero","src-alpha"],["source-out","one-minus-dst-alpha","zero"],["destination-out","zero","one-minus-src-alpha"],["source-atop","dst-alpha","one-minus-src-alpha"],["destination-atop","one-minus-dst-alpha","src-alpha"]])}};"use strict";const sj=self.A;
function Li(a,b,d,c,e,g){var k=Math.max(sj.bt(g),16);var l=a.ur.get(k);if("undefined"!==typeof l&&0<l.length){var n=l.pop();0===l.length&&a.ur.delete(k);k=n}else k=sj.m(sj.R.E0,a,k);l=k.le;n=l.getMappedRange(0,g);(new Uint8Array(n)).set(new Uint8Array(c,e,g));l.unmap();b.copyBufferToBuffer(l,0,d,e,g);a.tF.push(k)}sj.R.C0=class{constructor(a){this.O=a;this.ur=new Map;this.tF=[];this.eM=[];this.CD=[]}ua(){return this.O}Nd(){this.ur.clear();sj.G(this.tF);sj.G(this.eM);sj.G(this.CD)}};"use strict";
const vj=self.GPUBufferUsage,wj=self.GPUMapMode;async function tj(a){try{await a.le.mapAsync(wj.WRITE)}catch(d){console.warn("[WebGPU] Error recycling buffer, assuming device was lost: ",d);return}if(!a.ua().ek()){a.MT=a.ua().If;var b=a.lj;const d=a.ki(),c=b.ur.get(d);"undefined"===typeof c?b.ur.set(d,[a]):c.push(a)}}
self.A.R.E0=class{constructor(a,b){this.lj=a;this.im=b;this.le=this.ua().rg().createBuffer({mappedAtCreation:!0,size:b,usage:vj.COPY_SRC|vj.MAP_WRITE});this.MT=0}ua(){return this.lj.ua()}ki(){return this.im}j(){this.le.destroy();this.lj=this.le=null}};"use strict";const xj=self.GPUBufferUsage;
function yj(a,b,d){var c=a.Cc.Ba[b];b=c.type;const e=c.offset/4;c=a.$R;if("color"===b){if(c[e]!==Math.fround(d.$a)||c[e+1]!==Math.fround(d.eb)||c[e+2]!==Math.fround(d.Za))b=e,c[b++]=d.$a,c[b++]=d.eb,c[b]=d.Za,a.sE=!0}else if("float"===b||"percent"===b)c[e]!==Math.fround(d)&&(c[e]=d,a.sE=!0);else throw Error(`unexpected shader param type '${b}'`);}
self.A.R.YQ=class{constructor(a){const b=a.ua();this.Cc=a;this.pJ=a.wD;this.gJ=new ArrayBuffer(this.pJ);this.$R=new Float32Array(this.gJ);this.sE=!1;this.le=b.rg().createBuffer({size:this.pJ,usage:xj.UNIFORM|xj.COPY_DST});this.oJ=Ei(b,this.le)}j(){var a=this.ua();a.Bu===this.oJ&&cj(a,a.yD);this.ua().lj.CD.push(this.le);this.oJ=this.$R=this.gJ=this.Cc=this.le=null}ua(){return this.Cc.ua()}ye(){return this.Cc}};"use strict";const zj=self.A;
function Aj(a){for(const b of Object.values(a))b.end=b.offset+b.size}function Si(){const a=[];for(let b=0;55>b;++b)a.push(null);return a}const ej={transform:{offset:0,size:64,end:0},C4:{offset:64,size:16,end:0},xha:{offset:64,size:8,end:0},wha:{offset:72,size:8,end:0},ll:{offset:80,size:4,end:0}};Aj(ej);
const fj=ej.ll.end,gj={x3:{offset:0,size:16,end:0},B4:{offset:16,size:16,end:0},uia:{offset:32,size:8,end:0},via:{offset:40,size:8,end:0},UV:{offset:48,size:16,end:0},nia:{offset:48,size:8,end:0},mia:{offset:56,size:8,end:0},vha:{offset:64,size:8,end:0},z4:{offset:72,size:4,end:0}};Aj(gj);
const hj=gj.z4.end,Bj="srcStart srcEnd srcOriginStart srcOriginEnd c3_srcToNorm c3_normToSrc c3_clampToSrc c3_srcOriginToNorm c3_normToSrcOrigin c3_clampToSrcOrigin c3_getLayoutPos c3_srcToDest".split(" "),Cj=["layoutStart","layoutEnd","destStart","destEnd","c3_clampToDest"],ij={UV:{offset:0,size:16,end:0},oia:{offset:0,size:8,end:0},jia:{offset:8,size:8,end:0},N4:{offset:16,size:16,end:0},lia:{offset:16,size:8,end:0},kia:{offset:24,size:8,end:0},$s:{offset:32,size:16,end:0},Tga:{offset:32,size:8,
end:0},Sga:{offset:40,size:8,end:0},H3:{offset:48,size:16,end:0},Lfa:{offset:48,size:8,end:0},Kfa:{offset:56,size:8,end:0},devicePixelRatio:{offset:64,size:4,end:0},YA:{offset:68,size:4,end:0},XA:{offset:72,size:4,end:0},BG:{offset:76,size:4,end:0},Y4:{offset:80,size:4,end:0},X4:{offset:84,size:4,end:0},PN:{offset:88,size:4,end:0}};Aj(ij);const jj=ij.PN.end,Dj=new Map([["float",4],["percent",4],["color",12]]),Ej=new Map([["float",4],["percent",4],["color",16]]);
function lj(a,b,d){for(const c of d.messages)d=`[WebGPU] Message (${c.type}) compiling ${b} shader '${a}': ${c.message} (line ${c.lineNum}, pos ${c.linePos})`,"error"===c.type?console.error(d):"warning"===c.type?console.warn(d):console.log(d)}function mj(a){return`
		@binding(0) @group(1) var sampler0 : sampler;
		@binding(1) @group(1) var texture0 : texture_2d<f32>;
		@binding(2) @group(1) var sampler1 : sampler;
		@binding(3) @group(1) var texture1 : texture_2d<f32>;
		@binding(4) @group(1) var sampler2 : sampler;
		@binding(5) @group(1) var texture2 : texture_2d<f32>;
		@binding(6) @group(1) var sampler3 : sampler;
		@binding(7) @group(1) var texture3 : texture_2d<f32>;
		@binding(8) @group(1) var sampler4 : sampler;
		@binding(9) @group(1) var texture4 : texture_2d<f32>;
		@binding(10) @group(1) var sampler5 : sampler;
		@binding(11) @group(1) var texture5 : texture_2d<f32>;
		@binding(12) @group(1) var sampler6 : sampler;
		@binding(13) @group(1) var texture6 : texture_2d<f32>;
		@binding(14) @group(1) var sampler7 : sampler;
		@binding(15) @group(1) var texture7 : texture_2d<f32>;
		@binding(16) @group(1) var sampler8 : sampler;
		@binding(17) @group(1) var texture8 : texture_2d<f32>;
		@binding(18) @group(1) var sampler9 : sampler;
		@binding(19) @group(1) var texture9 : texture_2d<f32>;
		@binding(20) @group(1) var sampler10 : sampler;
		@binding(21) @group(1) var texture10 : texture_2d<f32>;
		@binding(22) @group(1) var sampler11 : sampler;
		@binding(23) @group(1) var texture11 : texture_2d<f32>;
		@binding(24) @group(1) var sampler12 : sampler;
		@binding(25) @group(1) var texture12 : texture_2d<f32>;
		@binding(26) @group(1) var sampler13 : sampler;
		@binding(27) @group(1) var texture13 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec3<f32>,
			@location(1) fragColor : vec4<f32>,
			${a?"@builtin(position) fragPos: vec4<f32>":""}
		};

		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var texXy : vec2<f32> = input.fragUV.xy;
			var texIndex : f32 = input.fragUV.z;
			var c : vec4<f32>;

			let dx = dpdx(texXy);
			let dy = dpdy(texXy);
			
			if (texIndex < 6.5)
			{
				if (texIndex < 2.5)
				{
					if (texIndex < 0.5)			{	c = textureSampleGrad(texture0, sampler0, texXy, dx, dy);	}
					else
					{
						if (texIndex < 1.5)		{	c = textureSampleGrad(texture1, sampler1, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture2, sampler2, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 4.5)
					{
						if (texIndex < 3.5)		{	c = textureSampleGrad(texture3, sampler3, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture4, sampler4, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 5.5)		{	c = textureSampleGrad(texture5, sampler5, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture6, sampler6, texXy, dx, dy);	}
					}
				}
			}
			else
			{
				if (texIndex < 9.5)
				{
					if (texIndex < 7.5)			{	c = textureSampleGrad(texture7, sampler7, texXy, dx, dy);	}
					else
					{
						if (texIndex < 8.5)		{	c = textureSampleGrad(texture8, sampler8, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture9, sampler9, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 11.5)
					{
						if (texIndex < 10.5)	{	c = textureSampleGrad(texture10, sampler10, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture11, sampler11, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 12.5)	{	c = textureSampleGrad(texture12, sampler12, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture13, sampler13, texXy, dx, dy);	}
					}
				}
			}

			output.color = c * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function nj(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec2<f32>,
			@location(1) pointOpacity : f32,
			@builtin(position) fragPos : vec4<f32>
		};
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			output.color = textureSample(texture0, sampler0, input.fragUV) * uniforms.pointColor * input.pointOpacity;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function oj(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		%%FRAGMENTINPUT_STRUCT%%
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var halfPixelSize : vec2<f32> = vec2<f32>(0.5, 0.5) / vec2<f32>(textureDimensions(texture0));

			var tile : vec2<f32> = floor(input.fragUV);
			var tex : vec2<f32> = fract(input.fragUV);
			var tileOrigin : vec2<f32> = uniforms.srcRectStart + tile * (uniforms.tileSize + uniforms.tileSpacing);
			var lowerBound : vec2<f32> = tileOrigin + halfPixelSize;
			var upperBound : vec2<f32> = tileOrigin + uniforms.tileSize - halfPixelSize;

			output.color = textureSampleLevel(texture0, sampler0, clamp(tex, lowerBound, upperBound), 0.0) * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function Fj(a,b){a=kj(a,b);return zj.X_(a)}function Gj(a,b){return a.rg().createRenderPipelineAsync(Ri(a,0,b,0))}function kj(a,b){return a?(b?"enable f16;\nalias f16or32 = f16;\n":"alias f16or32 = f32;\n")+a:a}
function Ri(a,b,d,c){const [e,g]=a.O.dD[b];b={label:`${a.fa()} blendMode ${b} variant ${d} multisampleCount ${c}`,layout:a.GI(),vertex:{module:4===d?a.qs:a.WM,entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:a.Su,entryPoint:"main",targets:[{format:a.O.km,blend:{color:{srcFactor:e,dstFactor:g},alpha:{srcFactor:e,dstFactor:g}}}]}};2<=c&&(b.multisample=
{count:c});1===d?(b.fragment.module=a.UD||a.Su,b.depthStencil={format:Fi(),depthWriteEnabled:!0,depthCompare:"less-equal"}):2===d?(b.fragment.module=a.UD||a.Su,b.fragment.targets=[],a={compare:"always",failOp:"keep",depthFailOp:"keep",passOp:"replace"},b.depthStencil={format:Fi(),depthWriteEnabled:!0,depthCompare:"less-equal",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:1}):3===d&&(b.fragment.module=a.UD||a.Su,a={compare:"equal",failOp:"keep",depthFailOp:"keep",passOp:"keep"},b.depthStencil=
{format:Fi(),depthWriteEnabled:!1,depthCompare:"always",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:0});return b}
zj.R.JC=class extends zj.R.MQ{constructor(a,b){super(a,b);this.Su=b.N3;this.UD=b.O3;this.WM=b.W4;this.qs=b.s4;this.Qv=Si();this.DL=new Map;this.zL=new Map;this.CU=this.zU=!1;this.Ba=[];this.wD=0;if(b.parameters){a=0;for(const d of b.parameters){b=d[2];if(!Dj.has(b))throw Error(`unrecognized effect param type '${b}'`);const c=Dj.get(b),e=Ej.get(b),g=a%e;0!==g&&(a+=e-g);this.Ba.push({type:b,offset:a,size:c,end:a+c});a+=c}this.wD=16*Math.ceil(a/16)}}static async ya(a,b){var d=a.rg();const c=b.name;var e=
wi(a,67108864);const g=b.src;var k=Fj(g,e);k=d.createShaderModule({label:c,code:k});var l=null;b.fB&&(l=Fj(b.fB,e),l=d.createShaderModule({label:c,code:l}));k.getCompilationInfo().then(p=>lj(c,"fragment",p));var n;(n=kj(b.ot,e))?(n=d.createShaderModule({label:c,code:n}),n.getCompilationInfo().then(p=>lj(c,"vertex",p))):n=a.BD;(e=kj(b.t4,e))?(d=d.createShaderModule({label:c,code:e}),d.getCompilationInfo().then(p=>lj(c,"vertex (norm)",p))):d=a.qs;b=zj.m(zj.R.JC,a,Object.assign({N3:k,O3:l,W4:n,s4:d},
b));b.JA=g.includes("%%C3PARAMS_STRUCT%%")&&Bj.some(p=>g.includes(p));b.zU=b.JA||g.includes("%%C3PARAMS_STRUCT%%")&&Cj.some(p=>g.includes(p));b.CU=g.includes("%%C3PARAMS_STRUCT%%")&&g.includes("isSrcTexRotated");if("<generate-mipmap>"!==c){d=Gj(b,0);k=null;wi(a,131072)&&(k=Gj(b,1));const [p,r]=await Promise.all([d,k]);b.Qv[0]=p;r&&(b.Qv[1]=r)}return b}j(){this.qs=this.WM=this.UD=this.Su=null;for(let a=0,b=this.Qv.length;a<b;++a)this.Qv[a]=null;this.DL.clear();this.zL.clear();super.j()}rg(){return this.O.rg()}GI(){return this.O.GI()}ua(){return this.O}TQ(){return this.CU}gP(){return this.Ba.length}Ww(a){return 0>
a||a>=this.Ba.length?null:this.Ba[a].type}static Ct(){return"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}FI(){var a;
a||(a=this.O.EM);let b=this.zL.get(a);b||(b=this.rg().createRenderPipeline({label:"<mipmap generator>",layout:"auto",vertex:{module:this.WM,entryPoint:"main"},primitive:{topology:"triangle-strip",stripIndexFormat:"uint16"},fragment:{module:this.Su,entryPoint:"main",targets:[{format:a,blend:{color:{srcFactor:"one",dstFactor:"zero"},alpha:{srcFactor:"one",dstFactor:"zero"}}}]}}),this.zL.set(a,b));return b}static XB(a){return`
${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

%%FRAGMENTINPUT_STRUCT%%

struct FragmentOutput {
	@location(0) color : vec4<f32>,
	${a?"@builtin(frag_depth) fragDepth: f32":""} 
};

%%C3_UTILITY_FUNCTIONS%%

const PI : f32 = 3.1415926;

fn cospVec4(a : vec4<f32>, b : vec4<f32>, x : f32) -> vec4<f32>
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

fn randVec3(seed : vec2<f32>) -> vec3<f32>
{
	return vec3<f32>(
		fract(sin(dot(seed.xy, vec2<f32>(12.9898,78.233))) * 43758.5453),
		fract(sin(dot(seed.yx, vec2<f32>(12.9898,-78.233))) * 43758.5453),
		fract(sin(dot(seed.xy, vec2<f32>(-12.9898,-78.233))) * 43758.5453));
}

fn sampleTile(tile : vec2<f32>, uv : vec2<f32>, ddx : vec2<f32>, ddy : vec2<f32>) -> vec4<f32>
{
	var posRandom = uniforms.tileSize;
	var angleRandom = uniforms.outlineThickness;
	var pixelSize = c3_getPixelSize(texture0);
	
	var rand = (randVec3(round(tile)) - 0.5) * 2.0;
	
	var angle = angleRandom * rand.z * PI;
	var sin_a = sin(angle);
	var cos_a = cos(angle);
	var aspect = pixelSize.x / pixelSize.y;

	var mid = tile + vec2<f32>(0.5, 0.5);
	var dp = uv - mid;
	dp.x /= aspect;
	var r = vec2<f32>(dp.x * cos_a - dp.y * sin_a,
					  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	var p = mid + r + (posRandom * rand.xy / 2.0);
	
	return textureSampleGrad(texture0, sampler0, p, ddx, ddy);
}

@fragment
fn main(input : FragmentInput) -> FragmentOutput
{
	var output : FragmentOutput;
	
	var blendMarginX = uniforms.tileSpacing.x;
	var blendMarginY = uniforms.tileSpacing.y;
	
	var tile = floor(input.fragUV);
	var tex = fract(input.fragUV);
	var ddx = dpdx(input.fragUV);
	var ddy = dpdy(input.fragUV);
	
	var curTile = sampleTile(tile, input.fragUV, ddx, ddy);
	
	var inLeftMargin = (tex.x < blendMarginX);
	var inRightMargin = (tex.x > 1.0 - blendMarginX);
	var inTopMargin = (tex.y < blendMarginY);
	var inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		var leftTile = sampleTile(tile + vec2<f32>(-1.0, 0.0), input.fragUV, ddx, ddy);
		var leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		var leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			var topTile =     sampleTile(tile + vec2<f32>(0.0,  -1.0), input.fragUV, ddx, ddy);
			var topLeftTile = sampleTile(tile + vec2<f32>(-1.0, -1.0), input.fragUV, ddx, ddy);
			var topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			output.color = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =     sampleTile(tile + vec2<f32>(0.0,  1.0), input.fragUV, ddx, ddy);
			var bottomLeftTile = sampleTile(tile + vec2<f32>(-1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			output.color = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		var rightTile = sampleTile(tile + vec2(1.0, 0.0), input.fragUV, ddx, ddy);
		var rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		var rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			var topTile =      sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
			var topRightTile = sampleTile(tile + vec2<f32>(1.0, -1.0), input.fragUV, ddx, ddy);
			var topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			output.color = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =      sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightTile = sampleTile(tile + vec2<f32>(1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			output.color = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		var topTile = sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		var bottomTile = sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		output.color = curTile;
	}
	
	output.color *= input.fragColor;
	${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
	return output;
}
`}};"use strict";
const Hj=self.A,Ij=new Set(["nearest","bilinear","trilinear"]),Jj=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Kj=self.GPUTextureUsage,Lj={tq:"clamp-to-edge",uq:"clamp-to-edge",jc:"trilinear",kw:0,Cm:!0,MN:!1,Tj:!1,nq:!1,hG:!1,yw:0,width:-1,height:-1},Mj=[[1,["r8unorm","r8snorm","r8uint","r8sint","stencil8"]],[2,"r16uint r16sint r16float rg8unorm rg8snorm rg8uint rg8sint depth16unorm".split(" ")],[3,["depth24plus"]],[4,"r32uint r32sint r32float rg16uint rg16sint rg16float rgba8unorm rgba8unorm-srgb rgba8snorm rgba8uint rgba8sint bgra8unorm bgra8unorm-srgb rgb9e5ufloat rgb10a2uint rgb10a2unorm rg11b10ufloat depth24plus-stencil8 depth32float".split(" ")],[8,
"rg32uint rg32sint rg32float rgba16uint rgba16sint rgba16float".split(" ")],[16,["rgba32uint","rgba32sint","rgba32float"]],[5,["depth32float-stencil8"]]],Nj=new Map;for(const [a,b]of Mj)for(const d of b)Nj.set(d,a);const Oj=new Set,Pj={premultiplyAlpha:!0,flipY:!1};function pj(a){a.XE=!1;a.lr(!1)}function qj(a,b,d){a.Si=b;a.ip=d}
function rj(a){return a instanceof ImageBitmap||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas}
function Qj(a){const b=a.O,d=b.rg();a.Si=0;a.En?(a.Si=Kj.RENDER_ATTACHMENT,a.Ei&&(a.Si|=Kj.TEXTURE_BINDING),a.ER&&(a.Si|=Kj.COPY_DST),a.ip=a.O.km):(a.Si=Kj.COPY_DST|Kj.TEXTURE_BINDING,a.ip=a.O.EM);a.rJ&&(a.Si|=Kj.COPY_SRC);a.Na=d.createTexture({size:[a.P,a.S,1],mipLevelCount:Rj(a),format:a.ip,usage:a.Si,sampleCount:2<=a.ue?a.ue:1});a.Zp=a.Na.createView();const c=[];for(let e=0;14>e;++e)c.push({binding:2*e,resource:a.Xz},{binding:2*e+1,resource:a.Zp});if(!a.En||a.Ei)a.Gp=d.createBindGroup({layout:b.sA,
entries:c}),a.lu=d.createBindGroup({layout:b.gy,entries:[{binding:0,resource:a.O.Ko({jc:"nearest"})},{binding:1,resource:a.Zp}]});a.cf&&a.XE&&!a.En&&a.lr(!0);Oj.add(a)}
function Sj(a,b){a.wm=b.tq;a.xm=b.uq;a.Rb=b.jc;a.rr=b.kw;a.Qh=!!b.Cm&&a.O.Mr&&"nearest"!==b.jc;a.En=!!b.MN;a.Ei=!!b.Tj;a.rJ=!!b.nq;a.ER=!!b.hG;a.ue=2<=b.yw?4:1;if(!Ij.has(a.Rb))throw Error("invalid sampling");if(!Jj.has(a.wm)||!Jj.has(a.xm))throw Error("invalid wrap mode");if(2<=a.ue&&a.Ei)throw Error("invalid use of multisampling");"nearest"===a.Rb&&(a.rr=0);a.Xz=a.O.Ko({tq:a.wm,uq:a.xm,jc:a.Rb,kw:a.rr});Qj(a);a.fc=1}function Rj(a){return a.Qh?Math.floor(Math.log2(Math.max(a.P,a.S))+1):1}
function Tj(a){Oj.delete(a);a.Gn&&a.Gn.j();a.lr(!1);a.Na.destroy();a.Na=null;a.Zp=null;a.Gp=null;a.lu=null}function Uj(a){return"undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||a instanceof ImageData}
function Vj(a,b,d=!0){if(a.Qh)Wj(a,b,Rj(a),d);else{const c=a.O.rg(),e=c.createCommandEncoder(),g=c.createTexture({size:[a.P,a.S,1],mipLevelCount:1,format:a.ip,usage:Kj.COPY_SRC|Kj.COPY_DST|Kj.RENDER_ATTACHMENT});Xj(a,g,b,d);e.copyTextureToTexture({texture:g,mipLevel:0},{texture:a.Na,mipLevel:0},[a.P,a.S,1]);c.queue.submit([e.finish()]);g.destroy()}}
function Wj(a,b,d,c=!0){const e=a.O.rg(),g=e.createTexture({size:[a.P,a.S,1],mipLevelCount:Rj(a),format:a.ip,usage:Kj.COPY_DST|Kj.COPY_SRC|Kj.TEXTURE_BINDING|Kj.RENDER_ATTACHMENT}),k=a.O.FI(),l=k.getBindGroupLayout(0),n=a.O.Ko({jc:"bilinear"}),p=e.createCommandEncoder();Xj(a,g,b,c);p.copyTextureToTexture({texture:g,mipLevel:0},{texture:a.Na,mipLevel:0},[a.P,a.S,1]);b=[];for(c=0;c<d;++c)b.push(g.createView({baseMipLevel:c,mipLevelCount:1}));c=a.P;let r=a.S;for(let w=1;w<d;++w){c/=2;r/=2;const x=Math.max(Math.floor(c),
1),z=Math.max(Math.floor(r),1),F=p.beginRenderPass({colorAttachments:[{view:b[w],loadOp:"clear",clearValue:[0,0,0,0],storeOp:"store"}]}),D=e.createBindGroup({layout:l,entries:[{binding:0,resource:n},{binding:1,resource:b[w-1]}]});F.setPipeline(k);F.setBindGroup(0,D);F.draw(4);F.end();p.copyTextureToTexture({texture:g,mipLevel:w},{texture:a.Na,mipLevel:w},[x,z,1])}e.queue.submit([p.finish()]);g.destroy()}
function Xj(a,b,d,c=!0){const [e,g]=[d.width||d.videoWidth,d.height||d.videoHeight];a.O.rg().queue.copyExternalImageToTexture({source:d},{texture:b,mipLevel:0,premultipliedAlpha:!!c},[e,g,1])}
Hj.R.Hx=class{constructor(a,b){this.O=a;this.Na=null;this.ip="";this.lu=this.Gp=this.Xz=this.Zp=null;this.S=this.P=0;this.cf=!0;this.xm=this.wm="clamp-to-edge";this.Rb="trilinear";this.rr=0;this.Qh=!1;this.fc=0;this.ER=this.rJ=this.Ei=this.En=!1;this.Si=this.ue=0;this.XE=!0;this.Gn=null;this.CL=0;if(this.MK=!!b)this.ip=this.O.km,this.Ei=this.En=!0,this.Xz=this.O.Ko({jc:"nearest"})}Kx(a,b){if(a&&!rj(a))throw new TypeError("invalid texture source");b=Object.assign({},Lj,b);if(this.Na)throw Error("already created texture");
this.cf=!0;if(a){const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];this.P=d;this.S=c}else if(this.P=b.width,this.S=b.height,0>=this.P||0>=this.S)throw Error("invalid texture size");Sj(this,b);if(this.En||this.Ei)throw Error("static texture cannot be render target");a&&Vj(this,a)}AI(a,b,d){d=Object.assign({},Lj,d);if(this.Na)throw Error("already created texture");this.cf=!1;this.P=a;this.S=b;Sj(this,d)}async TC(a){if(!rj(a)&&!Uj(a))throw Error("invalid texture source");if(!this.Na||0>=this.fc)throw Error("texture not created");
if(this.cf)throw Error("cannot update static texture");var b=Object.assign({},Pj,b);if(Uj(a)||b.flipY||!b.premultiplyAlpha)if(a=await createImageBitmap(a,{premultiplyAlpha:b.premultiplyAlpha?"premultiply":"none",imageOrientation:b.flipY?"flipY":"none"}),!this.Na)return;this.O.ie();const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];if(this.P!==d||this.S!==c){Tj(this);this.P=d;this.S=c;Qj(this);var e=this.O;e.$e===this&&(Ii(e),e.Xo=this.Gp,e.D|=64)}Vj(this,a,b.premultiplyAlpha)}hr(){if(0<this.fc)throw Error("texture still has references");
if(!this.Na)throw Error("already deleted texture");Tj(this)}lr(a){this.O.lr(this,a)}M(){return this.MK?this.O.M():this.P}K(){return this.MK?this.O.K():this.S}ua(){return this.O}Lo(){return this.Zp}Ko(){return this.Xz}Nq(){return"nearest"!==this.Rb}Ot(){return this.Ei}pB(){return this.rJ}Rw(){var a=this.M()*this.K();const b=Nj.get(this.ip);a*="number"===typeof b?b:NaN;this.Qh&&(a+=Math.floor(a/3));return a}static Nd(){}static hN(){return Oj.values()}};"use strict";const Yj=self.A;
function Zj(a){if(null!==a.Dv){var b=a.O;b.Xo===a.Dv&&(Ii(b),b.Xo=(null===b.$e?b.In:b.$e).Gp,b.Wo=0,b.D|=64)}a.Dv=null}
Yj.R.D0=class{constructor(a,b){if(2>b.length)throw Error("invalid multi-texture group");this.O=a;this.NF=b;this.Dv=null;for(let c=0,e=b.length;c<e;++c){a=b[c];var d=c;if(a.Gn)throw Error("already in a group");a.Gn=this;a.CL=d;a.lr(!1)}14>b.length&&this.O.aF.add(this);Zj(this);b=this.O.rg();a=[];for(d=0;14>d;++d){const c=this.NF[Math.min(d,this.NF.length-1)];a.push({binding:2*d,resource:c.Ko()},{binding:2*d+1,resource:c.Lo()})}this.Dv=b.createBindGroup({layout:this.O.sA,entries:a})}j(){this.O.aF.delete(this);
for(const a of this.NF)a.Gn=null,a.CL=0,a.cf&&a.XE&&!a.En&&a.lr(!0);Zj(this);Yj.G(this.NF);this.O=null}};"use strict";const ak=self.A,bk=self.Vi.jl,ck={jc:"trilinear",alpha:!0,depth:!1,Tj:!0,nq:!1,hG:!1,WA:!0,yw:0},dk=new Set;
ak.R.xI=class{constructor(a,b){this.O=a;this.op=!!b;this.Zc=b?wi(a,131072):!1;this.Le=null;this.Bn=!0;this.ue=0;this.Kk=!1;this.yr=ak.m(ak.gb);this.Aj=bk.create();this.JE=this.ME=this.KE=0;this.op&&(this.Le=ak.m(ak.R.Hx,a,!0))}Kx(a,b,d){d=Object.assign({},ck,d);if(this.Le)throw Error("already created render target");this.Zc=!!d.depth;this.Bn=!!d.WA;this.ue=2<=d.yw?4:1;if(2<=this.ue&&d.Tj)throw Error("invalid use of multisampling");this.Le=this.O.ut(a,b,{jc:d.jc,Cm:!1,MN:!0,Tj:d.Tj,nq:d.nq,hG:d.hG,
yw:this.ue});this.fr();dk.add(this)}hr(){dk.delete(this);Tj(this.Le);this.O=this.Le=null}Sx(a,b){if(a!==this.M()||b!==this.K()){var d=this.Le.Rb,c=this.Le.Ot(),e=this.Le.pB();Tj(this.Le);this.Le=null;this.Le=this.O.ut(a,b,{jc:d,Cm:!1,MN:!0,Tj:c,nq:e});this.fr()}}Lo(){return this.op?this.O.Wv:this.Le.Lo()}fr(){Cf(this.O,this.Aj,this.M()/this.K());this.KE=this.O.Rr;this.ME=this.O.Ep;this.JE=this.O.gp}M(){return this.op?this.O.M():this.Le.M()}K(){return this.op?this.O.K():this.Le.K()}kc(){if(this.Le)return this.Le;
throw Error("no texture");}ua(){return this.O}Nq(){return this.Le.Nq()}Ot(){return this.Le.Ot()}pB(){return this.Le.pB()}vP(a){a=Object.assign({},ck,a);return"nearest"!==a.jc!==this.Nq()||!!a.Tj!==this.Ot()||!!a.nq!==this.pB()||!!a.depth!==this.Zc?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Bn&&this.M()===Math.floor(a.width)&&this.K()===Math.floor(a.height):this.Bn}static Nd(){}};"use strict";
async function uj(a){var b=8*a.Lv;await a.Tz.mapAsync(self.GPUMapMode.READ,0,b);b=a.Tz.getMappedRange(0,b);a.On=new BigUint64Array(b.slice(0));a.Tz.destroy();a.Tz=null;a.wF.destroy();a.wF=null;a.pF.destroy();a.pF=null}
self.A.R.G0=class{constructor(a,b){this.O=a;this.If=this.O.If;this.Lv=b;a=this.O.rg();this.pF=a.createQuerySet({count:this.Lv,type:"timestamp"});b=self.GPUBufferUsage;this.wF=a.createBuffer({size:8*this.Lv,usage:b.QUERY_RESOLVE|b.COPY_SRC});this.Tz=a.createBuffer({size:8*this.Lv,usage:b.COPY_DST|b.MAP_READ});this.On=null}ix(){return null!==this.On}Xw(){if(!this.On)throw Error("not yet got result");return this.On}};"use strict";const ek={nV:null,oV:null,NV:null,getTime:null,MV:null};
function fk(a,b){return a.GR?a.GR(b):[b.M(),b.K()]}self.A.R.nX=class{constructor(a){a=Object.assign({},ek,a);this.GR=a.nV;this.L1=a.oV;this.HR=a.NV;this.M1=a.getTime;this.N1=a.MV;this.bo=null;this.$I=new Set}Nd(){this.bo=null;for(const a of this.$I)a.Nd()}bj(a){return this.L1(a)}za(){return this.M1()}qC(a){this.N1(a)}};"use strict";
const gk=self.A,kk=self.Vi.jl,oc=gk.m(gk.Rect),lk=gk.m(gk.Rect),mk=gk.m(gk.Rect),nk=gk.m(gk.Rect),ok=kk.create(),pk=kk.create(),qk={nG:null,pV:null,rG:null,IN:!1},rk={ow:null,zN:!1,lV:!1,tV:!1,vG:!1,NN:!1,yO:!1};
function sk(a,b,d){d=Object.assign({},rk,d);gk.G(a.Xp);a.qu=0;a.ru=0;a.FK=!1;a.rE=!1;a.qE=!1;a.GK=!1;a.pE=!1;a.Us=!1;a.rs=0;a.ZK=!!d.vG;a.Zn=!!d.yO;a.Ez=!1;gk.Bd(a.aA,b);if(0!==b.length){if(d.ow){if(d.ow.length!==b.length)throw Error("incorrect indexMap length");gk.Bd(a.Wp,d.ow)}else{gk.G(a.Wp);for(let g=0,k=b.length;g<k;++g)a.Wp.push(g)}for(var c of b)a.qu+=c.a2,a.ru+=c.b2,c.q1&&(a.FK=!0),c.VM&&(a.rE=!0),c.ou&&(a.qE=!0),c.DJ&&(a.GK=!0),c.TQ()&&(a.pE=!0);a.Us=b[0].ua().Ld()&&a.qE&&!a.GK;c=b[0];c=
d.zN||c.Rq()||d.tV&&!c.e3||c.VM&&!a.Zn||0!==a.qu||0!==a.ru?!0:c.ua().cj()?c.ou&&(d.NN||d.vG)||c.JA&&d.vG:c.ou&&!a.Us&&d.NN;var e=b.at(-1);d=d.lV?!0:e.ua().cj()?e.ou||e.DJ:(e.ou||e.DJ)&&!a.Us;if(1!==b.length||c||d){a.my=!1;e=0;c&&(a.rs=1,a.Xp.push(gk.m(gk.R.hg.dj.n_,a,-1,1)),e=1);for(let g=0,k=b.length;g<k;++g)0!==g||c?(b=1===e?2:1,g!==k-1||d||(b=0),a.rs=Math.max(a.rs,b),a.Xp.push(gk.m(gk.R.hg.dj.TW,a,e,b,g)),e=b):(a.rs=1,a.Xp.push(gk.m(gk.R.hg.dj.zX,a,-1,1,g)),e=1);d&&a.Xp.push(gk.m(gk.R.hg.dj.l_,
a,e,0))}else a.my=!0}}function tk(a,b,d){const [c,e]=fk(a.te,b);if(0>=c||0>=e)throw Error("invalid draw size");a.ud===c&&a.ld===e||uk(b,c,e,0,0,a.Aj,a.Cz);a.ud=c;a.ld=e;a.rv.xa(d.$s);d.oG?a.xi.xa(d.oG):a.xi.set(0,0,a.ud,a.ld);a.Wk.xa(a.xi);a.Wk.il(a.ud,a.ld);b=a.qv*a.Ol;lc(a.xi,a.qu*b,a.ru*b);a.Sp.xa(a.xi);a.Sp.il(a.ud,a.ld);b=a.xi;d=a.ud;var g=a.ld,k;var l=k=0;d=+d;g=+g;b.aa=ic.V(b.aa,k,d);b.X=ic.V(b.X,l,g);b.la=ic.V(b.la,k,d);b.ga=ic.V(b.ga,l,g);a.Vk.xa(a.xi);a.Vk.il(a.ud,a.ld)}
function uk(a,b,d,c,e,g,k){c=b/2+c;e=d/2+e;Cf(a,g,b/d);a=Ef(a,c,e,a.Te(d),c,e,d);kk.xa(k,a)}function vk(a,b){fi(b);a.Zn||(a.zJ&&b.tB(),b.We(!1),a.rE&&b.Ut(!0));b.Ld()&&bj(b,!0)}function wk(a){a.Sp.V(0,0,1,1)}function xk(a,b){a.hD?a.hD(a,b,()=>a.tJ(b,a)):a.tJ(b,a);a.my||vk(a,b)}function yk(a,b){if(a.Zn)return!0;if(0!==a.xJ||0!==a.yJ)return!1;const [d,c]=b.Ht(b.bj());return d!==a.ud||c!==a.ld?!1:!0}
function zk(a,b,d){let c=a.Aj,e=a.Cz;if(d&&!yk(a,b)){c=ok;e=pk;const [g,k]=b.Ht(b.bj());uk(b,g,k,a.xJ,a.yJ,c,e);a.Zn||b.RH()}b.Dl(c);b.cr(e)}function Ak(a,b,d){var c=a.Sp,e=a.Vk,g=a.Wk;b.cj()&&(lk.xa(c),mc(lk),c=lk,mk.xa(e),mc(mk),e=mk,nk.xa(g),mc(nk),g=nk);var k=1/a.ud,l=1/a.ld;b.EC(Bk(a,b),c,e,g,a.rv,k,l,a.Ol,a.qv,a.QE,a.Gd);b.DC(a.iD(a.Wp[d],b))}
function Ck(a,b,d){var c=a.Vk,e=a.Wk,g=1/a.ud,k=1/a.ld;if(a.ny){let {VV:n,WV:p,TV:r}=a.ny(a.Vo);n||(oc.set(0,0,0,0),n=oc);p||(p=a.ud);r||(r=a.ld);e=c=n;g=1/p;k=1/r}else b.cj()&&(mk.xa(c),mc(mk),c=mk,nk.xa(e),mc(nk),e=nk);var l=a.Sp;b.cj()&&(l=lk,l.xa(a.Sp),mc(l));b.EC(Bk(a,b),l,c,e,a.rv,g,k,a.Ol,a.qv,a.QE,a.Gd);b.DC(a.iD(a.Wp[d],b));b.Ld()&&a.pE&&Yi(b,a.ZK?1:0,b.ZJ.PN)}function Bk(a,b){return a.qE?b.Ld()?a.Us?a.$C:a.Ir.kc():a.Ir:null}
gk.R.hg=class{constructor(a,b){b=Object.assign({},qk,b);this.te=a;this.tJ=b.nG;this.ny=b.pV;this.iD=b.rG;this.hD=null;this.aA=[];this.Wp=[];this.Xp=[];this.Ez=!1;this.Ug=0;this.ZK=this.Zn=this.my=this.zJ=this.PR=this.Yo=this.Us=this.pE=this.GK=this.qE=this.rE=this.FK=!1;this.rs=0;this.gm=[null,null,null];this.FS=!!b.IN;this.ld=this.ud=this.ru=this.qu=0;this.Vo=null;this.rv=gk.m(gk.Rect);this.xi=gk.m(gk.Rect);this.Wk=gk.m(gk.Rect);this.Vk=gk.m(gk.Rect);this.Sp=gk.m(gk.Rect);this.qv=this.Ol=1;this.Gd=
this.QE=0;this.$C=this.Ir=null;this.yJ=this.xJ=0;this.TM=!1;this.Aj=kk.create();this.Cz=kk.create();this.te.$I.add(this)}j(){this.te.$I.delete(this);gk.G(this.Xp);gk.G(this.aA);gk.G(this.Wp);this.iD=this.ny=this.tJ=this.Vo=null}Nd(){this.Ez=!0;gk.G(this.Xp);gk.G(this.aA);gk.G(this.Wp)}Yq(a,b,d){a.Ld()&&null===b&&(b=a.ij);this.Ir=b;this.Vo=d.qN||null;this.Ug=d.Am||0;this.Ol=d.devicePixelRatio||1;this.qv=d.YA||1;this.QE=d.XA||0;this.Gd="number"===typeof d.time?d.time:this.te.za();this.Yo=!1;a.AQ();
this.FK&&this.te.qC(this);var c=!1;if(this.Us){tk(this,a,d);c=!0;var e=this.te,g=this.ud,k=this.ld;g=Math.floor(g);k=Math.floor(k);!e.bo||e.bo.M()===g&&e.bo.K()===k||(a.uh(e.bo),e.bo=null);null===e.bo&&(e.bo=a.vt(null,{width:g,height:k,jc:"nearest",Cm:!1}));this.$C=e.bo;oc.xa(this.xi);nc();a.Ld()&&Ti(a,this.Ir);e=this.Ir.kc();g=this.$C;k=oc.aa;var l=oc.X,n=oc.width(),p=oc.height(),r=g.Si;if(0===(e.Si&oi.COPY_SRC))throw Error("source texture missing COPY_SRC usage");if(0===(r&oi.COPY_DST))throw Error("destination texture missing COPY_DST usage");
if(e===g)throw Error("invalid destination");r=Math.min(e.M(),g.M());const x=Math.min(e.K(),g.K());n=Math.min(n,r-k);p=Math.min(p,x-l);0>=n||0>=p||(Ni(a),ti&&vi(`Copying texture to texture, from (${k}, ${l}), size ${n} x ${p}`),a.wk.copyTextureToTexture({texture:e.Na,origin:[k,l]},{texture:g.Na,origin:[k,l]},[n,p]),a.D|=16384)}if(this.my){c=this.aA[0];var w=a.lx();if(b=c.VM)a.We(!1),a.Ut(!0),this.Sp.set(0,0,1,1),this.Wk.set(0,0,1,1);a.Cl(c);a.Ce(this.Ug);a.$d(this.Ir);this.Wk.set(0,0,1,1);if(c.JA&&
this.ny){const {VV:x,WV:z,TV:F}=this.ny(this.Vo);x&&this.Wk.xa(x);c=Number.isFinite(z)?1/z:0;e=Number.isFinite(F)?1/F:0}else{const [x,z]=fk(this.te,a);c=1/x;e=1/z}d.$s?this.rv.xa(d.$s):this.rv.set(0,0,0,0);a.EC(Bk(this,a),this.Sp,this.Wk,this.Wk,this.rv,c,e,this.Ol,this.qv,this.QE,this.Gd);a.DC(this.iD(this.Wp[0],a));a.Ld()&&this.pE&&Yi(a,this.ZK?1:0,a.ZJ.PN);a.Jh=0;xk(this,a);b&&(a.Ut(!1),a.We(w))}else if(c||tk(this,a,d),0!==this.Wk.width()||0!==this.Wk.height()){a.xx();fi(a);a.Jh=0;Kf(a,0);this.hD=
d.I3||null;this.xJ=d.y3||0;this.yJ=d.z3||0;this.TM=!!d.V4;this.PR=a.lx();this.zJ=a.wP();this.Zn?(a.We(!1),this.rE&&a.Ut(!0)):(oc.xa(this.xi),a.cj()?(d=this.qv*this.Ol,lc(oc,Math.max(this.qu,1)*d,Math.max(this.ru,1)*d),nc(),oc.V(0,0,this.ud,this.ld)):nc(),a.KQ(oc.aa,oc.X,oc.width(),oc.height(),this.ld));this.gm[0]=b;this.gm[1]=1<=this.rs?this.te.bj(this):null;this.gm[2]=2===this.rs?this.te.bj(this):null;for(w of this.Xp)d=w.b3,d=0>d?null:this.gm[d],b=w.JJ,b=0>b?null:this.gm[b],a.Ld()?w.wx(a,d,b):w.vx(a,
d,b);a.Od(null);this.gm[1]&&this.te.HR(this.gm[1],this);this.gm[2]&&this.te.HR(this.gm[2],this);this.gm.fill(null);a.Ut(!1);this.zJ&&a.uB();a.We(this.PR);this.Zn||a.RH();a.Ld()&&bj(a,!1);this.Yo=a.zB();this.hD=this.Vo=this.$C=this.Ir=null}}zB(){return this.Yo}};"use strict";self.A.R.hg.dj=class{constructor(a,b,d,c=-1){this.Gf=a;this.b3=b;this.JJ=d;this.na=c}Kg(){return this.Gf}Ha(){return this.na}ye(){return this.Kg().aA[this.Ha()]}vx(){}wx(){}};"use strict";const Dk=self.A;
Dk.R.hg.dj.n_=class extends Dk.R.hg.dj{constructor(a,b,d,c){super(a,b,d,c)}vx(a,b,d){b=this.Kg();a.xx();Gf(a);a.$d(d,b.TM);a.ei(0,0,0,0);xk(b,a);wk(b)}wx(a,b,d){b=this.Kg();a.xx();Gf(a);a.$d(d,!1);a.ei(0,0,0,0);xk(b,a);wk(b)}};"use strict";const Ek=self.A,Fk=Ek.m(Ek.Rect),Gk=Ek.m(Ek.gd);
Ek.R.hg.dj.l_=class extends Ek.R.hg.dj{constructor(a,b,d,c){super(a,b,d,c)}vx(a,b,d){const c=this.Kg();Gf(a);a.$d(d);zk(c,a,!0);a.Ce(c.Ug);a.Od(b.kc());Gk.dg(c.xi);Fk.xa(c.Vk);mc(Fk);a.xl(Gk,Fk);c.FS&&a.Lq(b)}wx(a,b,d){const c=this.Kg();Gf(a);a.$d(d,!1);yk(c,a)?Gk.dg(c.Vk):(bj(a,!1),zk(c,a,!0),Gk.dg(c.xi));Hi(a,null);a.Ce(c.Ug);a.Od(b.kc());c.Zn?a.Lw():a.xl(Gk,c.Vk)}};"use strict";const Hk=self.A;
Hk.R.hg.dj.zX=class extends Hk.R.hg.dj{constructor(a,b,d,c){super(a,b,d,c)}vx(a,b,d){b=this.Kg();a.$d(d,b.TM);a.ei(0,0,0,0);a.br();a.Cl(this.ye());Ck(b,a,this.Ha());xk(b,a);wk(b)}wx(a,b,d){b=this.Kg();a.$d(d,!1);a.ei(0,0,0,0);a.br();a.Cl(this.ye());Ck(b,a,this.Ha());xk(b,a);wk(b)}};"use strict";const Ik=self.A,Jk=Ik.m(Ik.Rect),Kk=Ik.m(Ik.gd);
Ik.R.hg.dj.TW=class extends Ik.R.hg.dj{constructor(a,b,d,c){super(a,b,d,c)}vx(a,b,d){const c=this.Kg();a.$d(d);(d=0===this.JJ)?a.Ce(c.Ug):(a.ei(0,0,0,0),a.br());a.Cl(this.ye());Ak(c,a,this.Ha());a.Od(b.kc());zk(c,a,d);Kk.dg(c.xi);Jk.xa(c.Vk);mc(Jk);a.xl(Kk,Jk);c.FS&&a.Lq(b)}wx(a,b,d){const c=this.Kg();a.$d(d,!1);0===this.JJ?(a.Ce(c.Ug),Hi(a,null),yk(c,a)?Kk.dg(c.Vk):(bj(a,!1),zk(c,a,!0),Kk.dg(c.xi))):(a.ei(0,0,0,0),a.br(),Kk.dg(c.Vk));a.Cl(this.ye());Ak(c,a,this.Ha());a.Od(b.kc());c.Zn?a.Lw():a.xl(Kk,
c.Vk)}};"use strict";const Lk=self.fg;let Mk=null;const Nk=new Set;let Ok=!1,Pk=!1;
self.rY=class{constructor(a){Mk=a;Object.defineProperties(this,{u4:{value:{},writable:!1},X3:{value:{},writable:!1},storage:{value:new self.uY,writable:!1},zga:{value:Mk.fd(),writable:!1},jc:{value:Mk.Rb,writable:!1}});Mk.lf.addEventListener("keydown",b=>{Nk.has(b.key)?b.stopPropagation():Nk.add(b.key)});Mk.lf.addEventListener("keyup",b=>Nk.delete(b.key));Mk.Ua().addEventListener("window-blur",()=>Nk.clear());Mk.fd()&&(self.alert=b=>{Ok||(Ok=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(b)})}addEventListener(a,b){Mk.lf.addEventListener(a,b)}removeEventListener(a,b){Mk.lf.removeEventListener(a,b)}get wN(){return Qk(Mk)}get hga(){return Rk(Mk)}get uO(){return Mk.Ud}set uO(a){Lk.Ae(a);Mk.Ex(a)}get M3(){Pk||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),Pk=!0);return Mk.Qu}get framesPerSecond(){return Mk.Qu}random(){return Mk.Nv()}get layout(){const a=Mk.Pb();if(!a)throw Error("no layout is running - make sure a layout is loaded before accessing");
return a.Km()}get keyboard(){const a=Mk.Cr.keyboard;if(!a)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return a}get UN(){const a=Mk.Cr.UN;if(!a)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");return a}get bW(){const a=Mk.Cr.bW;if(!a)throw Error("runtime.touch used but Touch object missing - add it to your project first");return a}get $V(){const a=Mk.Cr.$V;if(!a)throw Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");
return a}get GV(){const a=Mk.Cr.GV;if(!a)throw Error("runtime.platformInfo used but Platform Info object missing - add it to your project first");return a}alert(a){return Sk(Mk,"runtime","alert",{message:a+(Mk.fd()?" [via Web Worker]":"")})}};"use strict";self.hY=class{constructor(){}};"use strict";let Tk=null;self.jY=class{constructor(a){Tk=a;Object.defineProperties(this,{Ad:{value:Tk.F(),writable:!1}})}};"use strict";const Uk=self.fg;
self.uY=class{constructor(){Mk.aM||(Mk.aM=localforage.rN({name:"c3-localstorage-"+Mk.bM,description:Mk.nF}));this.pA=Mk.aM}getItem(a){Uk.ke(a);return this.pA.getItem(a)}setItem(a,b){Uk.ke(a);return this.pA.setItem(a,b)}removeItem(a){Uk.ke(a);return this.pA.removeItem(a)}clear(){return this.pA.clear()}keys(){return this.pA.keys()}};"use strict";const Vk=self.A,Wk=za();
self.pH=class{constructor(){const a=Vk.Cb.Sg(Wk);Object.defineProperties(this,{Ad:{value:a.F().$g,writable:!1},ON:{value:a.qj,writable:!1},xV:{value:a.NK,writable:!1},zV:{value:a.Qm(),writable:!1},qV:{value:a.ZB(),writable:!1},uV:{value:a.GS,writable:!1},ZV:{value:a.mU,writable:!1}})}};"use strict";const Xk=self.A,Yk=self.fg,Zk=new WeakMap,$k=za();
self.Lt=class{constructor(){const a=Xk.Cb.Sg($k);Zk.set(this,a);Object.defineProperties(this,{name:{value:a.fa(),writable:!1},Ad:{value:a.F().$g,writable:!1},yG:{value:a.Ia().Xu,writable:!1}});a.F().Jk.set(this,a)}addEventListener(a,b){Yk.ke(a);Yk.Al(b);Zk.get(this).lf.addEventListener(a,b)}removeEventListener(a,b){Yk.ke(a);Yk.Al(b);Zk.get(this).lf.removeEventListener(a,b)}*TA(){for(const a of al(Zk.get(this)))yield bl(a)}rN(a){Yk.yh(void 0);Yk.yh(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");
var b=Zk.get(this);const d=b.F();a=d.Pb().Y(a);if(!a)throw Error("invalid layer");b=cl(d,b,a);a=d.Ca();dl(a,!0);el(b);dl(a,!1);fl(a)||0<d.hb.dv||gl(d);return bl(b)}};"use strict";const hl=self.fg,il=new WeakMap;
self.nY=class{constructor(a){il.set(this,a);const b=[],d=a.Ma,c=d.gi().length;for(let e=0;e<c;++e)b.push(new self.oH(d,e));Object.defineProperties(this,{name:{value:a.fa(),writable:!1},index:{value:a.Ha(),writable:!1},hV:{value:b,writable:!1}})}addEventListener(a,b){hl.ke(a);hl.Al(b);il.get(this).lf.addEventListener(a,b)}removeEventListener(a,b){hl.ke(a);hl.Al(b);il.get(this).lf.removeEventListener(a,b)}get width(){return il.get(this).M()}set width(a){hl.Ae(a);il.get(this).qg(a)}get height(){return il.get(this).K()}set height(a){hl.Ae(a);
il.get(this).zh(a)}getSize(){const a=il.get(this);return[a.M(),a.K()]}set scale(a){hl.Ae(a);il.get(this).kI(a)}get scale(){return il.get(this).ge}set angle(a){hl.Ae(a);il.get(this).Be(a)}get angle(){return il.get(this).Ra()}set scrollX(a){hl.yh(a);il.get(this).kk(a)}get scrollX(){return il.get(this).wh()}set scrollY(a){hl.yh(a);il.get(this).lk(a)}get scrollY(){return il.get(this).xh()}scrollTo(a,b){hl.yh(a);hl.yh(b);const d=il.get(this);d.kk(a);d.lk(b)}*jw(){for(const a of il.get(this).jw())yield a.Et()}set KV(a){hl.ke(a);
const b=il.get(this);if("perspective"===a)jl(b);else if("orthographic"===a)kl(b);else throw Error("invalid projection");}get KV(){return il.get(this).eh?"orthographic":"perspective"}};"use strict";const ll=self.A,ml=self.fg,nl=new WeakMap,ol=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),pl=new Map([...ol.entries()].map(a=>[a[1],a[0]])),ql=ll.m(ll.gb);
self.mY=class{constructor(a){nl.set(this,a);const b=[],d=a.Ma,c=d.gi().length;for(let e=0;e<c;++e)b.push(new self.oH(d,e));Object.defineProperties(this,{name:{value:a.fa(),writable:!1},layout:{value:a.xc().Km(),writable:!1},hV:{value:b,writable:!1}});a.F().Jk.set(this,a)}*bB(){for(const a of nl.get(this).bB())yield a.Et()}get index(){return nl.get(this).Ha()}get isVisible(){return nl.get(this).kv}set isVisible(a){nl.get(this).Bh(a)}get uG(){return nl.get(this).gv}set uG(a){nl.get(this).gv=!!a}get tG(){return nl.get(this).js}set tG(a){rl(nl.get(this),
!!a)}get opacity(){return nl.get(this).ac()}set opacity(a){a=ll.V(+a,0,1);isNaN(a)||nl.get(this).De(a)}set scale(a){ml.Ae(a);sl(nl.get(this),a)}get scale(){return nl.get(this).ge}set AG(a){ml.Ae(a);tl(nl.get(this),a)}get AG(){return nl.get(this).Ej}set angle(a){ml.Ae(a);nl.get(this).Be(a)}get angle(){return nl.get(this).Df}set ll(a){ml.Ae(a);nl.get(this).Rg(a)}get ll(){return nl.get(this).jb()}set wG(a){ul(nl.get(this),a)}get wG(){return nl.get(this).Nk}set sG(a){vl(nl.get(this),a)}get sG(){return nl.get(this).xE}set Am(a){ml.ke(a);
a=ol.get(a);if("number"!==typeof a)throw Error("invalid blend mode");nl.get(this).Ce(a)}get Am(){return pl.get(nl.get(this).pl())}set backgroundColor(a){ml.sC(a);if(3>a.length)throw Error("expected 3 elements");Wb(ql,a[0],a[1],a[2]);a=nl.get(this);const b=a.gn;$b(b,ql)||(Yb(b,ql),a.F().Z())}get backgroundColor(){const a=nl.get(this).gn;return[a.$a,a.eb,a.Za]}set scrollX(a){ml.yh(a);const b=nl.get(this);wl(b,!0);b.kk(a)}get scrollX(){return nl.get(this).wh()}set scrollY(a){ml.yh(a);const b=nl.get(this);
wl(b,!0);b.lk(a)}get scrollY(){return nl.get(this).xh()}scrollTo(a,b){ml.yh(a);ml.yh(b);const d=nl.get(this);wl(d,!0);d.kk(a);d.lk(b)}};"use strict";const xl=self.A,yl=self.fg,zl=new WeakMap,Al=new WeakMap,Bl=za();function Cl(a){let b=Al.get(a);if(b)return b;b=xl.m(xl.Event.Ua);Al.set(a,b);return b}
self.je=class{constructor(){const a=xl.Cb.Sg(Bl);zl.set(this,a);const b={Ad:{value:a.F().$g,writable:!1},$N:{value:a.I().Ft(),writable:!1},yG:{value:a.Ia().Xu,writable:!1},uid:{value:a.Ob,writable:!1}};if(0!==a.bh.length){var d={},c=Dl(a.Ke);for(let g=0,k=c.length;g<k;++g)d[c[g]]={configurable:!1,enumerable:!0,get:El.Instance.prototype.$0.bind(a,g),set:El.Instance.prototype.Fo.bind(a,g)};d=Object.create(Object.prototype,d);b.xga={value:d,writable:!1}}d=a.td;if(0!==d.length){c={};for(var e of d)c[e.jg().ak()]=
{value:e.It(),writable:!1};e=Object.create(Object.prototype,c);b.PA={value:e,writable:!1}}Object.defineProperties(this,b);a.F().Jk.set(this,a)}static $t(){return xl.Cb.OC()}Xk(){const a=Al.get(this);a&&(a.j(),Al.delete(this));zl.delete(this)}addEventListener(a,b,d){yl.ke(a);yl.Al(b);Cl(this).addEventListener(a,b,d)}removeEventListener(a,b,d){yl.ke(a);yl.Al(b);Cl(this).removeEventListener(a,b,d)}dispatchEvent(a){Cl(this).dispatchEvent(a)}set uO(a){yl.Ae(a);zl.get(this).Ex(a)}get uO(){return Fl(zl.get(this))}get wN(){const a=
zl.get(this);return Qk(a.F(),a)}};"use strict";const Gl=self.A,Hl=self.fg,Il=new WeakMap,Jl=za();function Kl(a,b,d){Hl.ke(b);if(!a.Mz)throw Error("no DOM component id set");Uc(Il.get(a).F(),a.Mz,b,d)}
self.nP=class extends self.je{constructor(a){super();Il.set(this,Gl.Cb.Sg(Jl));this.us=!1;this.eF=null;this.vs=!1;this.fF=null;this.Mz=a?.vN}Xk(){super.Xk();Il.delete(this)}nM(a){a=!!a;if(this.us!==a){this.us=a;var b=Il.get(this).F();a?(this.eF||(this.eF=()=>this.uA()),b.Ua().addEventListener("tick",this.eF)):b.Ua().removeEventListener("tick",this.eF)}}Mk(){return this.us}uA(){}bU(a){a=!!a;if(this.vs!==a){this.vs=a;var b=Il.get(this).F();a?(this.fF||(this.fF=()=>{}),b.Ua().addEventListener("tick2",
this.fF)):b.Ua().removeEventListener("tick2",this.fF)}}Fi(){return this.vs}$l(){}};"use strict";const Ll=self.A,Ml=self.fg,Nl=new WeakMap,Ol=za(),Pl=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Ql=new Map([...Pl.entries()].map(a=>[a[1],a[0]]));Ll.m(Ll.gb);
function Rl(a){return class b extends a{constructor(d){super(d);var c=Ll.Cb.Sg(Ol);Nl.set(this,c);d=[];var e=c.C();if(c=e.Jf){e=e.I().Ma.gi().length;for(let g=0;g<e;++g)d.push(new self.oH(c,g))}Object.defineProperties(this,{hV:{value:d,writable:!1}})}get layout(){return Nl.get(this).C().xc().Km()}get Zs(){return Nl.get(this).C().Y().Et()}get x(){return Nl.get(this).C().Da()}set x(d){d=+d;const c=Nl.get(this).C();isNaN(d)||c.Da()===d||(c.mk(d),Sl(c))}get y(){return Nl.get(this).C().Ea()}set y(d){d=
+d;const c=Nl.get(this).C();isNaN(d)||c.Ea()===d||(c.nk(d),Sl(c))}setPosition(d,c){d=+d;c=+c;const e=Nl.get(this).C();isNaN(d)||isNaN(c)||e.Da()===d&&e.Ea()===c||(Tl(e,d,c),Sl(e))}get ll(){return Nl.get(this).C().jb()}set ll(d){d=+d;const c=Nl.get(this),e=c.C();isNaN(d)||e.jb()===d||(e.Rg(d),c.F().Z())}get width(){return Nl.get(this).C().M()}set width(d){d=+d;const c=Nl.get(this).C();isNaN(d)||c.M()===d||(c.qg(d),Sl(c))}get height(){return Nl.get(this).C().K()}set height(d){d=+d;const c=Nl.get(this).C();
isNaN(d)||c.K()===d||(c.zh(d),Sl(c))}getSize(){const d=Nl.get(this).C();return[d.M(),d.K()]}get angle(){return Nl.get(this).C().Ra()}set angle(d){d=Ll.Wd(+d);const c=Nl.get(this).C();isNaN(d)||c.Ra()===d||(c.Be(d),Sl(c))}DN(){var d=Ul(Nl.get(this).C());new DOMRect(d.aa,d.X,d.width(),d.height())}get isVisible(){return Nl.get(this).C().Uc()}set isVisible(d){d=!!d;const c=Nl.get(this),e=c.C();e.Uc()!==d&&(e.Bh(d),c.F().Z())}get opacity(){return Nl.get(this).C().ac()}set opacity(d){d=Ll.V(+d,0,1);const c=
Nl.get(this),e=c.C();isNaN(d)||e.ac()===d||(e.De(d),c.F().Z())}set Am(d){Ml.ke(d);d=Pl.get(d);if("number"!==typeof d)throw Error("invalid blend mode");const c=Nl.get(this);c.C().Ce(d);c.F().Z()}get Am(){return Ql.get(Nl.get(this).C().pl())}get zIndex(){return Vl(Nl.get(this).C())}oh(d,c){Ml.yh(d);Ml.yh(c);return Wl(Nl.get(this).C(),+d,+c)}getParent(){const d=Nl.get(this).Fa();return d?bl(d):null}*zw(){for(const d of Nl.get(this).zw())yield bl(d)}*children(){for(const d of Nl.get(this).children())yield bl(d)}*Pj(){for(const d of Nl.get(this).Pj())yield bl(d)}removeChild(d){Ml.tC(d,
b);const c=Nl.get(this);d=Nl.get(d);c.zl(d)}}}self.kx=Rl(self.je);self.yY=Rl(self.nP);"use strict";const Xl=new WeakMap;self.Y7=class extends self.kx{constructor(){super();Xl.set(this,self.je.$t())}focus(){Yl(W(Xl.get(this)),"focus",{focus:!0})}blur(){Yl(W(Xl.get(this)),"focus",{focus:!1})}};"use strict";const Zl=self.A,$l=self.fg,am=new WeakMap,bm=new WeakMap,cm=za();function dm(a){let b=bm.get(a);if(b)return b;b=Zl.m(Zl.Event.Ua);bm.set(a,b);return b}
self.aC=class{constructor(){const a=Zl.Cb.Sg(cm);am.set(this,a);const b={Ad:{value:a.F().$g,writable:!1},behavior:{value:a.ig().Wy,writable:!1},gG:{value:a.jg().dE,writable:!1}};Object.defineProperties(this,b);a.F().Jk.set(this,a)}static $t(){return Zl.Cb.OC()}get instance(){return bl(am.get(this).$)}Xk(){const a=bm.get(this);a&&(a.j(),bm.delete(this));am.delete(this)}addEventListener(a,b,d){$l.ke(a);$l.Al(b);dm(this).addEventListener(a,b,d)}removeEventListener(a,b,d){$l.ke(a);$l.Al(b);dm(this).removeEventListener(a,
b,d)}dispatchEvent(a){dm(this).dispatchEvent(a)}};"use strict";const em=self.A,fm=za();self.kP=class{constructor(){const a=em.Cb.Sg(fm);Object.defineProperties(this,{Ad:{value:a.F().$g,writable:!1},behavior:{value:a.ig().Wy,writable:!1},name:{value:a.fa(),writable:!1}})}};"use strict";const gm=self.A,hm=new WeakMap,im=za();self.jP=class{constructor(){const a=gm.Cb.Sg(im);hm.set(this,a);Object.defineProperties(this,{Ad:{value:a.F().$g,writable:!1}})}};"use strict";const jm=self.A,km=self.fg,lm=new WeakMap;
jm.m(jm.gb);self.oH=class{constructor(a,b){lm.set(this,a);Object.defineProperties(this,{index:{value:b,writable:!1}})}get name(){return lm.get(this).gi()[this.index].fa()}get isActive(){return lm.get(this).wo(this.index)}set isActive(a){a=!!a;const b=lm.get(this);b.wo(this.index)!==a&&(b.ZH(this.index,a),b.Fh(),b.F().Z())}getParameter(a){km.Ae(a);a=Math.floor(+a);a=lm.get(this).bP(this.index,a);if(null===a)throw new RangeError("invalid index");return a instanceof jm.gb?[a.$a,a.eb,a.Za]:a}};"use strict";
const mm=new WeakMap;self.fY=class{constructor(a){mm.set(this,a);Object.defineProperties(this,{name:{value:a.fa(),writable:!1}})}get speed(){return mm.get(this).Ks}get yV(){return mm.get(this).pp}get et(){return mm.get(this).ji()}get frameCount(){return nm(mm.get(this))}*frames(){for(const a of mm.get(this).Qd)yield a.j2}};"use strict";const om=new WeakMap;
self.lP=class{constructor(a){om.set(this,a)}get width(){return om.get(this).M()}get height(){return om.get(this).K()}getSize(){const a=om.get(this);return[a.M(),a.K()]}};"use strict";const pm=new WeakMap;self.gY=class extends self.lP{constructor(a){super(a.Dd());pm.set(this,a);Object.defineProperties(this,{duration:{value:a.Gy,writable:!1}})}get tag(){return pm.get(this).Wf}};"use strict";const qm=self.fg,rm=new WeakMap;
function sm(a){a=rm.get(a);if(a.hc)throw Error("timeline/tween was released and is no longer valid");return a}
self.rP=class{constructor(a){rm.set(this,a);a.F().Jk.set(this,a)}pause(){sm(this).hd()}resume(){tm(sm(this))}stop(){sm(this).Tb()}set time(a){qm.Ae(a);sm(this).Ah(a)}get time(){return sm(this).za()}set totalTime(a){qm.Ae(a);sm(this).Xt(a)}get totalTime(){return sm(this).pc()}set yV(a){sm(this).AC(!!a)}get yV(){return sm(this).Gq()}set playbackRate(a){qm.Ae(a);sm(this).Qg(a)}get playbackRate(){return sm(this).Qc}get progress(){const a=sm(this);return a.za()/a.pc()}get ht(){return sm(this).kf}get finished(){return um(sm(this))}get Aga(){return sm(this).IsPlaying()}};
"use strict";const vm=new WeakMap;self.wY=class extends self.rP{constructor(a){super(a);vm.set(this,a);Object.defineProperties(this,{name:{value:a.fa(),writable:!1}})}};"use strict";const wm=new WeakMap,xm=new WeakMap;let ym=null;function zm(a){a=wm.get(a);if(a.hc)throw Error("tween was released and is no longer valid");return a}
self.d8=class extends self.rP{constructor(a,b,d){super(a);ym||(ym=d.Pfa);wm.set(this,a);b&&xm.set(this,b)}stop(){const a=zm(this);Am(xm.get(this),a)}get instance(){const a=zm(this).ia();return a?bl(a):null}get value(){const a=zm(this);if("value"!==a.Xi())throw Error("not a value tween");return a.Ed("value").Db().ed()}};"use strict";self.pP=class extends self.pH{constructor(){super()}};"use strict";const Bm=self.A,Cm=new WeakMap,Dm=za();
function Em(a,b,d){Gm(Cm.get(a).F(),a.Mz,b,c=>{const e=a.PL.get(c.elementId);d(e,c)})}self.c8=class extends self.pP{constructor(a){super();Cm.set(this,Bm.Cb.Sg(Dm));if(!a?.vN)throw Error("no DOM component ID specified");this.Mz=a.vN;this.V2=0;this.PL=new Map;Em(this,"elem-focused",b=>{b.OL=!0});Em(this,"elem-blurred",b=>{b&&(b.OL=!1)})}};"use strict";const Hm=self.A,Im=new WeakMap,Jm=za();self.oP=class extends self.Lt{constructor(){super();const a=Hm.Cb.Sg(Jm);Im.set(this,a)}};"use strict";
const Km=self.A,Lm=new WeakMap,Mm=za();self.qP=class extends self.yY{constructor(a){super(a);Lm.set(this,Km.Cb.Sg(Mm));this.ET=this.RL=null}Xk(){super.Xk();if(this.RL){const a=Lm.get(this).F().Ua();a.removeEventListener("renderercontextlost",this.RL);a.removeEventListener("renderercontextrestored",this.ET);this.ET=this.RL=null}Lm.delete(this)}};"use strict";const Nm=self.A,Om=Nm.m(Nm.Rect),Pm=new WeakMap,Qm=za();function Rm(a,b,d){d||(d={});d.elementId=a.dF;Kl(a,b,d)}
function Sm(a,b){b||(b={});b.elementId=a.dF;Il.get(a).F().fd()?Kl(a,"focus",b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.Mz,handler:"focus",data:b,responseId:null})}function Tm(a,b){b=!!b;a.zT!==b&&(a.zT=b,Rm(a,"set-visible",{isVisible:b}))}
self.b8=class extends self.qP{constructor(a){if(!a?.vN)throw Error("no DOM component ID specified");super(a);a=Nm.Cb.Sg(Qm);Pm.set(this,a);var b=this.yG;const d=b.V2++;b.PL.set(d,this);this.dF=d;this.zT=!0;this.T2=this.OL=!1;this.U2=-.2;this.Gv=Nm.m(Nm.Rect,0,0,-1,-1);a=a.F().T;this.DT=a.Nj;this.CT=a.Mj;this.BT=this.AT=-1;this.nM(!0)}Xk(){super.Xk();this.yG.PL.delete(this.dF);Rm(this,"destroy");this.dF=-1;Pm.delete(this)}uA(){var a=Pm.get(this);if(!Um(a)){var b=a.C(),d=b.Y(),c=Ul(b),[e,g]=Vm(d,c.aa,
c.X),[k,l]=Vm(d,c.la,c.ga);a=a.F().T;c=a.Yc;var n=a.Nc;if(b.Uc()&&d.Uc()){const p=Pm.get(this).F().T.Sw();("Android"!==Nm.W.Md||"scale-inner"!==p&&"scale-outer"!==p&&"crop"!==p)&&(0>=k||0>=l||e>=c||g>=n)?Tm(this,!1):(Om.set(e,g,k,l),c=a.Nj,n=a.Mj,a=d.Wr,b=Wm(b),Om.zd(this.Gv)&&this.DT===c&&this.CT===n&&this.AT===a&&this.BT===b?Tm(this,!0):(this.Gv.xa(Om),this.DT=c,this.CT=n,this.AT=a,this.BT=b,Tm(this,!0),c=null,this.T2&&(c=d.Wi()+this.U2),Rm(this,"update-position",{left:Math.round(this.Gv.aa),top:Math.round(this.Gv.X),
width:Math.round(this.Gv.width()),height:Math.round(this.Gv.height()),htmlIndex:a,htmlZIndex:b,fontSize:c})))}else Tm(this,!1)}}};"use strict";self.sY=class extends self.jP{constructor(){super()}};"use strict";self.mP=class extends globalThis.kP{constructor(){super()}};"use strict";const Xm=self.A,Ym=new WeakMap,Zm=za();
self.jx=class extends self.aC{constructor(){super();Ym.set(this,Xm.Cb.Sg(Zm));this.QL=this.vs=this.us=!1}Xk(){super.Xk();this.nM(!1);this.bU(!1);var a=!1;if(this.QL!==a){this.QL=a;var b=Ym.get(this).F();a?b.hn.Bb(this):b.hn.zf(this)}Ym.delete(this)}nM(a){a=!!a;if(this.us!==a){this.us=a;var b=Ym.get(this).F();a?b.Jl.Bb(this):b.Jl.zf(this)}}Mk(){return this.us}uA(){}bU(a){a=!!a;if(this.vs!==a){this.vs=a;var b=Ym.get(this).F();a?b.Kl.Bb(this):b.Kl.zf(this)}}Fi(){return this.vs}YK(){return this.QL}$l(){}};
"use strict";const $m=self.fg;let an=null,bn=null;self.qY=class{constructor(a,b){bn=a;an=b}setColor(a){an.Af(a[0],a[1],a[2],a[3])}rect(a){an.ux(a.left,a.top,a.right,a.bottom)}line(a,b,d,c){an.BH(a,b,d,c)}deleteTexture(a){$m.tC(a,self.vY);a=bn.Jk.get(a);an.uh(a)}};"use strict";const cn=new WeakMap,dn=new WeakMap;self.vY=class{constructor(a,b){cn.set(this,{Ad:a,sia:b});dn.set(b,this);a.Jk.set(this,b);Object.defineProperties(this,{width:{value:b.M(),writable:!1},height:{value:b.K(),writable:!1}})}};
"use strict";const en=self.fg,fn=new WeakMap;function gn(a){return fn.get(a).H4}self.a8=class{constructor(a,b){fn.set(this,{Ad:a,H4:b});a.Jk.set(this,b)}release(){gn(this).j()}set lineHeight(a){en.Ae(a);gn(this).aI(a)}get lineHeight(){return gn(this).xp}setColor(a){en.sC(a);var b=a[0],d=a[1];a=a[2];var c=gn(this);Wb(Xg,b,d,a);c.hk(Xg)}set verticalAlign(a){rh(gn(this),a)}get verticalAlign(){return gn(this).nh}set text(a){en.ke(a);gn(this).Go(a)}get text(){return gn(this).wc}};"use strict";
const hn=self.A,pn=new Set(["local","remote"]),qn=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);function rn(a){const b=hn.m(hn.Event,"loadingprogress");a.LE=hn.V(a.$x/a.zA,0,1);b.progress=a.LE;a.g.Ua().dispatchEvent(b)}function sn(a,b){a.Ai=b;if("flat"===b){b=new Map;for(const [d,c]of a.wv.entries())b.set(d.toLowerCase(),c);a.wv=b}}
function tn(a,b){"flat"===a.Ai&&(b=b.toLowerCase());return a.wv.has(b)}function un(a,b){"flat"===a.Ai&&(b=b.toLowerCase());return a.wv.get(b)||null}function vn(a,b){"flat"===a.Ai&&(b=b.toLowerCase());if(!tn(a,b))return b;var d=a.vv.get(b);d||(d=un(a,b),d=URL.createObjectURL(d),a.vv.set(b,d));return d}async function wn(a,b){a=await xn(a,b,"buffer");b?(b=b.split("."),2>b.length?b="":(b=b.at(-1).toLowerCase(),b=qn.get(b)||"")):b="";return new Blob([a],{type:b})}
function xn(a,b,d){"flat"===a.Ai&&(b=b.toLowerCase());return Sk(a.g,"runtime","cordova-fetch-local-file",{filename:b,as:d})}async function yn(a,b){"flat"===a.Ai&&(b=b.toLowerCase());var d=a.vv.get(b);if(d)return d;d=await wn(a,b);d=URL.createObjectURL(d);a.vv.set(b,d);return d}function zn(a,b){"flat"===a.Ai&&(b=b.toLowerCase());b=a.nT+b;return tn(a,b)?vn(a,b):b}
function An(a,b){if(hn.dC(b))return Promise.resolve(b);if(tn(a,b))return Promise.resolve(vn(a,b));if(a.tE&&a.Cn)return yn(a,b);"flat"===a.Ai&&(b=b.toLowerCase());return Promise.resolve(b)}async function Bn(a){try{await Promise.all(a.TE),a.LE=1}catch(b){console.error("Error loading: ",b),a.mK=!0,rn(a)}}
async function Cn(a){const b=[],d=[];for(const [c,e,g]of a.bN)a.zA+=g,b.push(Dn(a,c,e,d).then(()=>{a.$x+=g;Od(a.eT)}));await Promise.all(b);a.g.fd()&&0<d.length&&await Sk(a.g,"runtime","load-webfonts",{webfonts:d})}
async function Dn(a,b,d,c){try{const e=await An(a,d);"Gecko"===hn.W.qh&&(b=`'${b}'`);const g=new FontFace(b,`url('${e}')`);a.g.fd()?self.fonts.add(g):document.fonts.add(g);await g.load();a.g.fd()&&c.push({name:b,url:e})}catch(e){console.warn(`[C3 runtime] Failed to load web font '${b}': `,e)}}function En(a,b,d){a.JT=!!d;for(const [c,e,g]of b)a.iJ.set(c,{fileName:c,L3:e.map(k=>({type:k[0],Tfa:k[1],mV:c+k[1],fileSize:k[2]})),e4:g})}
function Fn(a,b){"flat"===a.Ai&&(b=b.toLowerCase());b=a.iJ.get(b);if(!b)return null;let d=null;for(const c of b.L3)if(d||"audio/webm; codecs=opus"!==c.type||(d=c),a.lU[c.type])return c;return d}function Gn(a,b){return(b=Fn(a,b))?{url:zn(a,b.mV),type:b.type}:null}function Hn(a){if(a.JT){const b=[];for(const d of a.iJ.values()){if(d.e4)continue;const c=Fn(a,d.fileName);c&&b.push({w4:d.fileName,url:zn(a,c.mV),type:c.type,fileSize:c.fileSize})}return b}return[]}
hn.FW=class extends hn.ra{constructor(a,b){super();var d=b.exportType;this.g=a;this.Ai="folders";this.wv=new Map;this.vv=new Map;this.G2=new Map;this.tE="cordova"===d;this.OS=!!b.isiOSCordova;this.Cn=!!b.isFileProtocol;this.lU=b.supportedAudioFormats||{};this.iJ=new Map;this.JT=!1;this.yS=this.nT="";this.zD="html5"===d||"scirra-arcade"===d||"instant-games"===d?"remote":"local";this.ay=new Map;this.bN=[];this.TE=[];this.qS=!1;this.LE=this.$x=this.zA=0;this.mK=!1;this.eT=hn.m(hn.q_,()=>rn(this),50);
this.rL=hn.m(hn.ox,Math.max(hn.hardwareConcurrency,8));this.fM=hn.m(hn.ox,20);if(a=b.previewImageBlobs){(d=b.previewProjectFileBlobs)&&Object.assign(a,d);(d=b.projectData)&&(a["data.json"]=d);for(const [c,e]of Object.entries(a))this.wv.set(c,e)}if(b=b.previewProjectFileSWUrls)for(const [c,e]of Object.entries(b))this.G2.set(c,e);new self.hY}j(){this.wv.clear();for(const a of this.vv.values())a.startsWith("blob:")&&URL.revokeObjectURL(a);this.vv.clear();for(const a of this.ay.values())a.j();this.ay.clear();
hn.G(this.TE);this.g=null}F(){return this.g}Gm(a,b){b=b||this.zD;const d=un(this,a);return d?Promise.resolve(d):hn.Oq(a)?("flat"===this.Ai&&(a=a.toLowerCase()),this.tE&&this.Cn?wn(this,a):"local"===b?this.rL.Bb(()=>hn.Gm(a)):this.fM.Bb(()=>hn.Gm(a))):hn.Gm(a)}Iw(a){const b=un(this,a);return b?hn.SW(b):hn.Oq(a)?("flat"===this.Ai&&(a=a.toLowerCase()),this.tE&&this.Cn?xn(this,a,"buffer"):"local"===this.zD?this.rL.Bb(()=>hn.Iw(a)):this.fM.Bb(()=>hn.Iw(a))):hn.Iw(a)}Jw(a){const b=un(this,a);return b?hn.HO(b):
hn.Oq(a)?("flat"===this.Ai&&(a=a.toLowerCase()),this.tE&&this.Cn?xn(this,a,"text"):"local"===this.zD?this.rL.Bb(()=>hn.Jw(a)):this.fM.Bb(()=>hn.Jw(a))):hn.Jw(a)}async XO(a){a=await this.Jw(a);return JSON.parse(a)}hC(a){if(a.vw&&!pn.has(a.vw))throw Error("invalid load policy");let b=this.ay.get(a.url);if(b)return b;b=hn.m(hn.rH,this,{url:a.url,size:a.size||0,vw:a.vw||this.zD});this.ay.set(b.Jj,b);this.qS||(this.zA+=b.ki(),this.TE.push(In(b).then(()=>{var d=b.ki();this.$x+=d;Od(this.eT)})));return b}async JP(a){a=
await An(this,a);return await Sk(this.g,"runtime","add-stylesheet",{url:a})}};"use strict";const Jn=self.A;function In(a){if("local"===a.nL||a.pu)return a.TK=!0,Promise.resolve();if(a.Gi)return a.Gi;a.Gi=a.cb.Gm(a.Jj,a.nL).then(b=>{a.TK=!0;a.Gi=null;return a.pu=b}).catch(b=>{console.error("Error loading resource: ",b);a.Gi=null});return a.Gi}function Kn(a){return a.pu?Promise.resolve(a.pu):a.Gi?a.Gi:a.cb.Gm(a.Jj,a.nL)}
Jn.EW=class extends Jn.ra{constructor(a,b){super();this.cb=a;this.g=a.F();this.Jj=b.url||"";this.im=b.size;this.nL=b.vw;this.pu=b.blob||null;this.TK=!!this.pu;this.Gi=null}j(){this.pu=this.g=this.cb=this.Gi=null}ki(){return this.im}zH(){return this.TK}};"use strict";const Ln=self.A,Mn=new Ln.ox,Nn=new Set;
async function On(a,b,d){try{const c=await Kn(a);return 0===a.fc?null:await Mn.Bb(async()=>{const e=await b.Fw(c,d);a.Os=null;if(0===a.fc)return b.uh(e),null;a.vm=e;a.BS=e.M();a.zS=e.K();return a.vm})}catch(c){throw console.error("Failed to load texture: ",c),c;}}async function Pn(a){a=await Kn(a);return Ln.ob.ImageBitmap?await createImageBitmap(a):await Ln.GO(a)}
Ln.rH=class extends Ln.EW{constructor(a,b){super(a,b);this.vm=this.Os=null;this.fc=0;this.zS=this.BS=-1;Nn.add(this)}j(){if(0!==this.fc)throw Error("released image asset which still has texture references");this.cb.ay.delete(this.Jj);this.Os=null;Nn.delete(this);super.j()}static Rt(){for(const a of Nn)a.Os=null,a.vm=null,a.fc=0}Qq(a,b){b=b||{};this.fc++;if(this.vm)return Promise.resolve(this.vm);if(this.Os)return this.Os;b.kw=this.g.T.oU;return this.Os=On(this,a,b)}yl(){if(0>=this.fc)throw Error("texture released too many times");
this.fc--;0===this.fc&&this.vm&&(this.vm.ua().uh(this.vm),this.vm=null)}kc(){return this.vm}M(){return this.BS}K(){return this.zS}};"use strict";const Qn=self.A;function Rn(a,b){return a.C().Ti-b.C().Ti}function Sn(a){a.dz&&(a.J.length===a.Sk.size?a.Tb():(Qn.ai(a.J,a.Sk),a.Sk.clear(),a.dz=!1))}
Qn.s_=class extends Qn.ra{constructor(a,b,d){super();this.ma=b;this.ea=d;this.J=[];this.kz=!0;this.Sk=new Set;this.dz=!1}j(){Qn.G(this.J);this.Sk.clear()}Tb(){Qn.G(this.J);this.kz=!0;this.Sk.clear();this.dz=!1}fk(){if(!this.J.length)return!0;if(this.J.length>this.Sk.size)return!1;Sn(this);return!0}sH(a){this.Sk.has(a)?(this.Sk.delete(a),0===this.Sk.size&&(this.dz=!1)):(this.J.push(a),this.kz=1===this.J.length)}zf(a){this.Sk.add(a);this.dz=!0;50<=this.Sk.size&&Sn(this)}aH(a){Sn(this);this.kz||(this.J.sort(Rn),
this.kz=!0);this.J.length&&a.push(this.J)}};"use strict";const Tn=self.A;
Tn.t_=class extends Tn.ra{constructor(a,b){super();this.kD=a;this.jD=b;this.mj=Tn.m(Tn.nx)}j(){this.mj.j();this.mj=null}po(a,b,d){let c=this.mj.U(a,b);return c?c:d?(c=Tn.m(Tn.s_,this,a,b),this.mj.Set(a,b,c),c):null}pk(a){return Math.floor(a/this.kD)}qk(a){return Math.floor(a/this.jD)}dr(a,b,d){if(b)for(let c=b.aa,e=b.la;c<=e;++c)for(let g=b.X,k=b.ga;g<=k;++g){if(d&&d.oh(c,g))continue;const l=this.po(c,g,!1);l&&(l.zf(a),l.fk()&&this.mj.Aq(c,g))}if(d)for(let c=d.aa,e=d.la;c<=e;++c)for(let g=d.X,k=d.ga;g<=
k;++g)b&&b.oh(c,g)||this.po(c,g,!0).sH(a)}oC(a,b){let d=this.pk(a.aa);const c=this.qk(a.X),e=this.pk(a.la);for(a=this.qk(a.ga);d<=e;++d)for(let g=c;g<=a;++g){const k=this.po(d,g,!1);k&&k.aH(b)}}};"use strict";const X=self.A,Un=new X.Rect,Vn=new X.gd,Wn=[];new X.Rect;new X.Rect;const Xn=self.Vi,Yn=Xn.HG,Zn=Xn.iB,$n=Xn.jl;$n.create();const ao=Yn.create(),bo=Zn.create(),co=Yn.create(),eo=Yn.create(),fo=Yn.create(),go=X.m(X.er);X.m(X.Rect);function ho(a,b){return a.C().Ti-b.C().Ti}
function io(a,b){return a.C().jb()-b.C().jb()}const jo=[],ko=[],lo=[],mo={name:"",gt:-1,KN:!1,isVisible:!0,uG:!0,tG:!1,backgroundColor:[1,1,1,1],wG:!0,eO:[1,1],opacity:1,sG:!1,OV:!1,gW:!1,hW:!1,AG:1,Am:0,ll:0,rV:[],gV:[],XV:[]};
function no(a,b,d=!1){if(a.J.includes(b))d&&a.J.sort((g,k)=>{g=oo(g.C());k=oo(k.C());return g-k});else if(b.Ve()){var c=[...b.Pj()];c.push(b);c.sort((g,k)=>{g=oo(g.C());k=oo(k.C());return g-k});for(var e of c)if(e.yc())for(const g of e.od)c.includes(g)||(b=[...g.Pj()],b.push(g),b.sort((k,l)=>{k=oo(k.C());l=oo(l.C());return k-l}),b&&b.length&&c.splice(c.length,0,...b));for(const g of c)g.Ia().Sd&&a.ti(g,!0)}else if(b.Ia().Sd&&a.ti(b,!0),b.yc())for(c of b.od)if(e=[...c.Pj()],e.push(c),e.sort((g,k)=>
{g=oo(g.C());k=oo(k.C());return g-k}),e&&e.length)for(const g of e)g.Ia().Sd&&a.ti(g,!0)}function rl(a,b){b=!!b;a.js!==b&&(a.js=b,po(a.Ag),a.g.Z())}function sl(a,b){a.ge!==b&&(a.ge=b,qo(a.Ag),ro(a),a.g.Z())}function tl(a,b){a.Ej!==b&&(a.Ej=b,ro(a),a.g.Z())}function ul(a,b){b=!!b;a.Nk!==b&&(a.Nk=b,a.g.Z())}function vl(a,b){b=!!b;a.xE!==b&&(a.xE=b,a.g.Z())}function wl(a,b){b=!!b;if(a.wn!==b){if(a.wn=b)b=a.xc(),a.Fj=b.wh(),a.Gj=b.xh();ro(a);a.g.Z()}}function Vm(a,b,d){return so(a,b,d,0,a.Wi())}
function to(a){a.kF.xa(a.rb);bc(a.kF)}function uo(a){return a.n3&&!a.wU}function vo(a,b,d){return X.m(X.AH,a,b,{name:d[0],gt:d[2],isVisible:d[3],uG:d[13],tG:d[19],backgroundColor:d[4].map(c=>c/255),wG:d[5],eO:[d[6],d[7]],opacity:d[8],sG:d[9],OV:d[17],gW:d[18],hW:d[10],AG:d[11],Am:d[12],ll:d[16],rV:d[14],gV:d[15],XV:d[20]})}function wo(a){for(const b of a.DS){const d=xo(a.g,b[1]);yo(a.Ag,d);d.Hr||(d.Hr=b);a.Xl.push(b);a.yK.set(b[2],b)}X.Bd(a.kU,a.Xl);a.DS=null}
function zo(a,b){a.fN=!1;a.DE=!1;if(!b||b.I().Ia().NK)a.qK=!1}function Ao(a,b){if(b){b=new Set;for(var d of a.J){var c=d.C().Ti;0<=c&&b.add(c)}d=-1;for(const e of a.J)if(c=e.C(),!(0<=c.Ti)){for(++d;b.has(d);)++d;c.Ti=d|0}}a.J.sort(ho)}function*Bo(a){yield a;yield*a.bB()}function Co(a){for(const b of Bo(a))if(!b.gv)return!1;return!0}function ro(a){a.UK=!0;a.mz=!0;a.nz=!0}
function Do(a){if(a.nz){a.nz=!1;var b=a.g.gF,d=a.g.hF,c=(a.wh()-b)*a.ef+b,e=(a.xh()-d)*a.ff+d;b=Eo(a);d=a.g.Zf/b;b=a.g.Qe/b;c-=d/2;var g=e-b/2;a.g.Dn&&(c=Math.round(c),g=Math.round(g));e=a.FU;e.set(c,g,c+d,g+b);d=a.Ra();0!==d&&(Un.xa(e),Un.offset(-e.ww(),-e.xw()),0===d?Vn.dg(Un):sc(Vn,Un,Math.sin(d),Math.cos(d)),Vn.DN(Un),Un.offset(e.ww(),e.xw()),e.xa(Un));b=a.pd;Fo(a,b,a.MA);if(Go(a)){d=a.ZM;e=a.g.T;c=e.Yc;e=e.Nc;const [k,l]=Ho(a,0,0,b),[n,p]=Ho(a,c,0,b),[r,w]=Ho(a,c,e,b),[x,z]=Ho(a,0,e,b);a=Math.min(k,
n,r,x);b=Math.min(l,p,w,z);c=Math.max(k,n,r,x);e=Math.max(l,p,w,z);isFinite(a)||(a=-Infinity);isFinite(b)||(b=-Infinity);isFinite(c)||(c=Infinity);isFinite(e)||(e=Infinity);d.set(a,b,c,e)}else a.ZM.xa(a.MA)}}function Io(a){Do(a);return a.MA}function Jo(a){Do(a);return a.ZM}function Ko(a){a=a.xc();return[Lo(a),Mo(a)]}function No(a,b){if(a.Ag.eh)return 1;a=a.Te()/Eo(a);return a/(a-b)}
function Fo(a,b,d){Do(a);var c=a.FU;if(0===b)d.xa(c);else{let k=c.ww(),l=c.xw();var e=No(a,b);const n=c.width()/e;c=c.height()/e;const [p,r]=Ko(a);if(.5!==p||.5!==r){const w=a.Te()/Eo(a);var g=a.g;const x=a.Te()/w;e=(p-.5)*g.Zf/x;g=(r-.5)*g.Qe/x;a=a.Ra();0!==a&&(go.set(e,g),go.rotate(a),e=go.ma,g=go.ea);b=X.GG(w,0,b);k+=X.qf(e,0,b);l+=X.qf(g,0,b)}d.set(k-n/2,l-c/2,k+n/2,l+c/2)}}
function Oo(a){return!Po(a)&&a.wU?(X.Bd(lo,a.J),lo.sort((b,d)=>{var c=a.xc().DR,e=c[0],g=c[1];c=c[2];var k=b.C();const l=d.C();d=k.Da()-e;b=k.Ea()-g;k=k.jb()-c;e=l.Da()-e;g=l.Ea()-g;c=l.jb()-c;return e*e+g*g+c*c-(d*d+b*b+k*k)}),lo):a.J}function Qo(a,b){X.ym(b,Oo(a));for(const d of a.Ne)d.Uc()&&0<d.ac()&&Qo(d,b)}function Po(a){return!a.F().fl||!a.X2}function Go(a){return!Po(a)&&a.xc().s2}function Ro(a){if(!Go(a))return!1;for(const b of a.Ne)if(!Ro(b))return!1;return!0}
function So(a,b,d=!0){d?a.Ne.push(b):a.Ne.unshift(b)}function To(a){return a.Uc()&&0<a.ac()&&Uo(a)}function Vo(){var a=Wo[0];for(const b of a.Ne)if(To(b))return!0;return!1}function*Xo(a){for(const b of a.Ne)yield*Xo(b);yield a}function Yo(a,b){for(const d of a.bB())if(d===b)return!0;return!1}
function Zo(a){if(!a.fN){a.J.sort(io);if(uo(a))for(let e=0,g=a.J.length;e<g;++e){var b=a.J[e].C();b.Ti=e|0;var d=a.Pv,c=b.Vz;b=c.aa;const k=c.X,l=c.la;for(c=c.ga;b<=l;++b)for(let n=k;n<=c;++n){const p=d.po(b,n,!1);p&&(p.kz=!1)}}else for(let e=0,g=a.J.length;e<g;++e)a.J[e].C().Ti=e|0;a.fN=!0}}function $o(a){if(!a.qK){a=ap(a.Ag,a.Wr).map(d=>[...Xo(d)]).flat();var b=0;for(const d of a){for(const c of d.J)c.I().Ia().NK&&bp(c.C(),b++);d.qK=!0}}}
function Uo(a){if(0<a.J.length||!a.Nk)return!0;for(const b of a.Ne)if(Uo(b))return!0;return!1}function cp(a){if(a.Zt())return!0;for(const b of a.Ne)if(cp(b))return!0;return!1}function Eo(a){return(a.ge*a.Ag.ge-1)*a.Ej+1}
function dp(a,b){if(a.UK){var d=a.Cz;const p=a.g;var c=a.xc();if(Go(a)){Yn.xa(co,c.DR);Yn.xa(eo,c.I1);Yn.xa(fo,c.J1);c=p.gF;var e=p.hF,g=eo[0]-co[0],k=eo[1]-co[1],l=eo[2]-co[2];co[0]=(co[0]-c)*a.ef+c;co[1]=(co[1]-e)*a.ff+e;co[2]*=Math.max(a.ef,a.ff);eo[0]=co[0]+g;eo[1]=co[1]+k;eo[2]=co[2]+l}else{c=a.g;k=a.xc();g=c.gF;e=c.hF;g=(a.wh()-g)*a.ef+g;l=(a.xh()-e)*a.ff+e;c.Dn&&(g=Math.round(g),l=Math.round(l));e=g+0;g=l+0;k=k.eh?a.Te(null):a.Te(null)/Eo(a);const [r,w]=Ko(a);if(.5!==r||.5!==w){var n=a.Te(null)/
k;l=(r-.5)*c.Zf/n;c=(w-.5)*c.Qe/n;n=a.Ra();0!==n&&(go.set(l,c),go.rotate(n),l=go.ma,c=go.ea);e+=l;g+=c}const [x,z,F]=[e,g,k];Yn.set(co,x,z,F);Yn.set(eo,x,z,F-100);c=a.Ra();0===c?Yn.set(fo,0,1,0):Yn.set(fo,Math.sin(c),Math.cos(c),0)}Df(b,d,co,eo,fo,p.Qe);a.UK=!1}return a.Cz}
function ep(a,b){if(a.CE){var d=a.g.T;const [l,n]=Ko(a);if(a.Ag.eh){var c=a.Aj,e=d.ql(),g=self.devicePixelRatio,k=2*b.Te(e)*g*b.rA/e;d=d.rl()*k/(2*g);e=e*k/(2*g);g=-d;k=-e;b.Ld()?nf.y4(c,g,d,k,e,b.Ep,b.gp):nf.x4(c,g,d,k,e,b.Ep,b.gp)}else.5===l&&.5===n?$n.xa(a.Aj,d.AD):Cf(b,a.Aj,d.rl()/d.ql(),l,n);a.CE=!1}return a.Aj}function fp(a,b){b.Dl(ep(a,b));a=dp(a,b);b.cr(a)}
function gp(a,b){let d=null;if(b.cj()&&hp(a.g)){var c=a.g.T;if(c.ua().Ch()){var e=c.jL.get(a);e||(e={Zs:a,name:a.fa(),vO:ip.m(ip.R.WQ,c.Se),kG:0,QN:0,BV:0},c.jL.set(a,e));a=e.vO}else a=null;a&&(a=d=Lh(a),b.Ch()&&(c=ei(b),c.wa=18,c.Xf=a,b.ic=0))}return d}function jp(a,b){b.Ld()&&hp(a.g)&&(a=2*(a.Ha()+1),Oi(b,a,a+1))}
function kp(a,b,d){const c=Io(a),e=a.Ze,g=a.xc().eh,k=lp(a.xc());let l=null;for(let n=0,p=d.length;n<p;++n){const r=d[n];if(r===l)continue;l=r;const w=r.C();w.Uc()&&mp(w,c,k,g)&&np(a,r,w,b,e)}}
function np(a,b,d,c,e){if(d.hx()){const F=d.Jf.Kg();var g=F.Yq,k=d.pl(),l=a.g.Pw();var n=b.g;var p=n.cv.get(b);n=p?p.U():Rk(n);p=a.g.Qw()*Eo(a);var r=a.Ra(),w=Ul(d);if(F.my&&!F.Us)var x=null;else a:{var z=Ul(d);x=op(d);d=d.Zc;const D=x+d,G=z.aa,J=z.X,M=z.la;z=z.ga;if(Go(a)){if(pp(a,G,J,x)||pp(a,M,J,x)||pp(a,M,z,x)||pp(a,G,z,x)||0<d&&(pp(a,G,J,D)||pp(a,M,J,D)||pp(a,M,z,D)||pp(a,G,z,D))){x=null;break a}}else if(D>=a.Te()/Eo(a)){x=null;break a}let [P,Ja]=qp(a,G,J,x),[Sa,Za]=qp(a,M,z,x);if(0!==a.Ra()||
0<d||Go(a)){const [Cd,tc]=qp(a,M,J,x),[Mb,jd]=qp(a,G,z,x);if(0<d){const [qf,rf]=qp(a,G,J,D),[Fh,Gh]=qp(a,M,J,D),[Hh,sf]=qp(a,M,z,D),[Ih,Jh]=qp(a,G,z,D);x=Math.min(P,Sa,Cd,Mb,qf,Fh,Hh,Ih);Sa=Math.max(P,Sa,Cd,Mb,qf,Fh,Hh,Ih);P=x;x=Math.min(Ja,Za,tc,jd,rf,Gh,sf,Jh);Za=Math.max(Ja,Za,tc,jd,rf,Gh,sf,Jh);Ja=x}else x=Math.min(P,Sa,Cd,Mb),Sa=Math.max(P,Sa,Cd,Mb),P=x,x=Math.min(Ja,Za,tc,jd),Za=Math.max(Ja,Za,tc,jd),Ja=x}Un.set(P,Ja,Sa,Za);x=Un}g.call(F,c,e,{qN:b,Am:k,devicePixelRatio:l,time:n,YA:p,XA:r,$s:w,
oG:x,I3:null,y3:null,z3:null,V4:null});b=a.jb();c.Jh=b;F.zB()&&fp(a,c)}else rp(b,d,c)}function sp(a){if(a.mz){var b=a.g.ua();const d=ep(a,b),c=dp(a,b);b=a.EU;ef(0,1,0,c,d,df,We);ef(1,1,0,c,d,df,Xe);ef(0,0,0,c,d,df,Ye);ef(1,0,0,c,d,df,Ze);ef(0,1,1,c,d,df,$e);ef(1,1,1,c,d,df,af);ef(0,0,1,c,d,df,bf);ef(1,0,1,c,d,df,cf);ff(Ye,We,$e,b.aT);ff(We,Xe,af,b.uU);ff(Xe,Ze,cf,b.VT);ff(Ze,Ye,bf,b.AR);ff(bf,$e,af,b.bS);ff(Ze,Xe,We,b.FL);a.mz=!1}return a.EU}
function rp(a,b,d){b=b.Ls;if(d.wg!==b){const c=b.O;c.Cl(b.Cc);c.Ce(b.Ug);c.hk(b.rb);Kf(c,b.pd);c.wg=b}a.Zj(d)}
function Ho(a,b,d,c=0){var e=a.Wi();const g=a.g,k=g.ua(),l=Eo(a);Zn.set(bo,0,0,g.Zf/l,g.Qe/l);b/=e;d=bo[3]-d/e;e=ep(a,k);a=dp(a,k);a:if(ef(b,d,0,a,e,bo,Re)&&ef(b,d,1,a,e,bo,Se)){Oe.lo(Se,Se,Re);Oe.set(Te,0,0,1);c=-c;a=Oe.ho(Te,Se);b=0;if(0===a){if(0!==Oe.ho(Te,Re)+c){c=!1;break a}}else if(b=-(Oe.ho(Re,Te)+c)/a,0>b){c=!1;break a}Oe.nO(ao,Re,Se,b);c=!0}else c=!1;return c?[ao[0],ao[1]]:[NaN,NaN]}
function so(a,b,d,c,e){var g=a.g;const k=g.ua(),l=Eo(a);Zn.set(bo,0,0,g.Zf/l,g.Qe/l);g=ep(a,k);a=dp(a,k);return X.R.nC(b,d,c,a,g,bo,ao)?[ao[0]*e,(bo[3]-ao[1])*e]:[NaN,NaN]}function qp(a,b,d,c=0){return so(a,b,d,c,a.Gt()*a.Hm())}function pp(a,b,d,c){a=sp(a).FL;return!(a.x*b+a.y*d+a.z*c>=a.w)}
X.AH=class extends X.ra{constructor(a,b,d){super();d=Object.assign({},mo,d);this.Ag=a;this.g=a.F();this.zj=b;this.Ka=d.name;this.na=-1;this.js=!!d.tG;this.Wr=-1;this.fb=d.gt;this.hz=!!d.KN;this.kv=!!d.isVisible;this.gv=!!d.uG;this.gn=X.m(X.gb);fc(this.gn,d.backgroundColor);this.Nk=!!d.wG;this.ef=d.eO[0];this.ff=d.eO[1];this.rb=X.m(X.gb,1,1,1,d.opacity);this.kF=X.m(X.gb);this.xE=!!d.sG;this.X2=!!d.OV;this.wU=!!d.gW;this.n3=!!d.hW;this.Ej=d.AG;this.Ug=d.Am;this.Ze=null;this.ge=1;this.pd=d.ll;this.Gj=
this.Fj=this.Df=0;this.wn=!1;this.MA=X.m(X.Rect);this.FU=X.m(X.Rect);this.ZM=X.m(X.Rect);this.nz=!0;this.Aj=$n.create();this.CE=!0;this.Cz=$n.create();this.UK=!0;this.EU=X.m(X.R.v0);this.mz=!0;this.kU=[];this.DS=d.rV;this.Xl=[];this.sD=[];this.yK=new Map;this.J=[];this.an=this.qK=this.fN=!1;const c=this.g.T;this.Ma=X.m(X.Cq,this,d.gV);this.Gf=X.m(X.R.hg,c.Hy,{nG:(e,g)=>{g=g.Vo;const k=g.bj();e.hk(g.jH());e.zt(k);e.Lq(k);c.Vq(k)},rG:e=>this.Ma.NC(e)});this.OA=this.Hn=!0;this.Pv=null;this.cL=[];this.DE=
!1;this.F2=X.m(X.Rect,0,0,-1,-1);this.P1=X.m(X.Rect,0,0,-1,-1);this.wS=new self.mY(this);to(this);uo(this)&&(this.Pv=X.m(X.t_,this.g.Ji,this.g.Ii));this.Ne=d.XV.map(e=>vo(this.Ag,this,e))}j(){for(const a of this.Ne)a.j();X.G(this.Ne);for(const a of this.J)tp(this.g,a);X.G(this.J);this.Ma.j();this.Ma=null;this.Gf.j();this.g=this.Ag=this.zj=this.wS=this.Gf=null}ti(a,b){if(!a.Ia().Sd)throw Error("instance is not of world type");const d=a.C();if(d.Y()!==this)throw Error("instance added to wrong layer");
this.J.push(a);0!==d.jb()&&(this.an=!0);b&&uo(this)&&Sl(a.C());zo(this,a)}jr(a,b){const d=this.J.indexOf(a);0>d||(b&&uo(this)&&up(a.C()),this.J.splice(d,1),zo(this,a),0===this.J.length&&(this.an=!1))}tx(a,b,d,c,e){const g=this.g.Ca(),k=this.g.jd,l=a.Oa,n=[];for(const w of this.Xl){var p=w[0];if(b.oh(p[0],p[1])){p=k[w[1]];if(p!==a)if(l){if(!a.KD.has(p))continue}else continue;p=this;var r=vp(this.g);this.xc()!==r&&((p=wp(r,this.fa()))||(p=xp(r,this.Ha())));r=yp(this.g,w,p,!1,void 0,void 0,!1,e);no(p,
r);p=r.C();zp(p,d,c);Sl(p);dl(g,!0);el(r);dl(g,!1);n.push(r)}}return n}xc(){return this.Ag}fa(){return this.Ka}UI(a){this.na=a}Ha(){return this.na}F(){return this.g}Hm(){return this.g.Hm()}Kg(){this.Ox();return this.Gf}Ox(){const a=this.Kt();if(this.Hn||a!==this.OA||this.Gf.Ez){var b=this.Ma.Gh;sk(this.Gf,b.map(d=>d.ye()),{ow:b.map(d=>d.Ha()),zN:!a,yO:!0});this.Hn=!1;this.OA=a}}Fh(){this.Ma.Fh();this.Hn=!0}Uc(){for(const a of Bo(this))if(!a.kv)return!1;return!0}Bh(a){a=!!a;this.kv!==a&&(this.kv=a,
this.g.Z())}kk(a){var b=this.xc();const d=b.sp?-Infinity:Ap(b);b=b.sp?Infinity:b.M()-Ap(b);a>b&&(a=b);a<d&&(a=d);this.Fj!==a&&(this.Fj=a,this.wn&&(ro(this),this.g.Z()))}lk(a){var b=this.xc();const d=b.sp?-Infinity:Bp(b);b=b.sp?Infinity:b.K()-Bp(b);a>b&&(a=b);a<d&&(a=d);this.Gj!==a&&(this.Gj=a,this.wn&&(ro(this),this.g.Z()))}wh(){return this.wn?this.Fj:this.xc().wh()}xh(){return this.wn?this.Gj:this.xc().xh()}Te(a){return this.g.Te(a)}ac(){return this.rb.Wa}De(a){a=X.V(a,0,1);this.rb.Wa!==a&&(Zb(this.rb,
a),to(this),this.g.Z())}jH(){return this.kF}Kt(){return ac(this.rb,1,1,1,1)}Rg(a){this.pd!==a&&(this.pd=a,this.g.Z())}jb(){return this.pd}Be(a){a=X.Wd(a);this.Df!==a&&(this.Df=a,ro(this),this.g.Z())}Ra(){return X.Wd(this.Ag.Ra()+this.Df)}Ce(a){this.Ug!==a&&(this.Ug=a,this.g.Z())}pl(){return this.Ug}*bB(){let a=this.zj;for(;a;)yield a,a=a.zj}Zt(){return this.xE||!this.Kt()||0!==this.pl()||this.Ma.hx()}bj(){return this.Ze}Zj(a,b,d){var c=this.g.T,e=this.Zt(),g=null;const k=gp(this,a);jp(this,a);e?(g=
{jc:this.g.Rb,Tj:!0,nq:a.Ld()?this.g.Vs:!1},"low"===c.Ci&&(g.width=c.rl(),g.height=c.ql()),this.Ze=g=this.g.Mw(g),a.$d(g),this.Nk&&a.ei(0,0,0,0)):(this.Ze=b,a.$d(b));this.Nk||a.he(this.gn);Cp(a,this.Ze,this.Ne,e&&this.Nk);jp(this,a);fp(this,a);c=this.jb();a.Jh=c;a.We(!Po(this));if(Eo(this)>Number.EPSILON)if(Zo(this),c=uo(this)&&0===this.jb()&&!this.an,Go(this)){c=this.Ze;var l=sp(this),n=Oo(this);for(let G=0,J=n.length;G<J;){var p=n[G],r=p.C();if(r.Uc()&&Dp(r,l)){(!p.St()||0<r.Zc)&&ko.push(p);var w=
op(p.C());jo.push(p);for(var x=G+1;x<J;++x){var z=n[x],F=z.C();if(F.Uc()&&Dp(F,l)){if(op(F)!==w)break;z.St()?(0<F.Zc&&ko.push(z),jo.push(z)):ko.push(z)}}if(1!==jo.length||0!==(jo[0].D&32)){p=a;r=this.Ze;p.YG();for(let M=0,P=jo.length;M<P;++M)w=jo[M],z=w.C(),z.Eb(1048576,!0),rp(w,z,p);p.uB();for(let M=0,P=jo.length;M<P;++M)w=jo[M],z=w.C(),np(this,w,z,p,r),z.Eb(1048576,!1);p.tB();for(let M=0,P=ko.length;M<P;++M)p=ko[M],r=p.C(),r.Eb(2097152,!0),np(this,p,r,a,c),r.Eb(2097152,!1)}else{np(this,p,r,a,c);
for(let M=0,P=ko.length;M<P;++M)r=ko[M],r!==p&&(w=r.C(),np(w.Y(),r,w,a,c))}G=x;X.G(jo);X.G(ko)}else++G}}else if(c){n=this.Pv;c=this.P1;l=this.F2;x=Io(this);c.set(n.pk(x.aa),n.qk(x.X),n.pk(x.la),n.qk(x.ga));if(this.DE&&c.zd(l))n=this.cL;else{Zo(this);X.G(Wn);this.Pv.oC(Io(this),Wn);if(Wn.length)if(1===Wn.length)n=Wn[0];else{for(n=Wn;1<n.length;){r=[];w=n.length;for(z=0;z<w-1;z+=2){x=r;p=x.push;F=n[z];var D=n[z+1];const G=[];let J=0,M=0,P=F.length,Ja=D.length;for(;J<P&&M<Ja;){const Sa=F[J],Za=D[M];
Sa.C().Ti<Za.C().Ti?(G.push(Sa),++J):(G.push(Za),++M)}for(;J<P;++J)G.push(F[J]);for(;M<Ja;++M)G.push(D[M]);F=G;p.call(x,F)}1===w%2&&r.push(n[w-1]);n=r}n=n[0]}else n=[];this.DE=!0;l.xa(c)}kp(this,a,n);n!==this.cL&&X.Bd(this.cL,n)}else kp(this,a,Oo(this));a.Jh=0;Kf(a,0);e&&(a.We(!1),e=g,g=this.g,0===this.Ma.Gh.length?(a.$d(b),Gf(a),d&&0===this.Ug&&this.Kt()?a.vB(e):(a.Ce(this.Ug),a.hk(this.kF),a.zt(e)),a.Lq(e),g.Vq(e)):this.Kg().Yq(a,b,{qN:this,Am:this.pl(),devicePixelRatio:g.Pw(),YA:g.Qw()*Eo(this),
XA:this.Ra(),$s:Io(this),oG:null,IN:!0}));k&&ji(a,k);this.Ze=null}Gt(){return Eo(this)*this.g.Gt()}Wi(){return Eo(this)*this.g.Wi()}oa(){return{d:this.hz,s:this.ge,a:this.Df,v:this.kv,i:this.gv,html:this.js,bc:this.gn.toJSON(),t:this.Nk,sx:this.Fj,sy:this.Gj,hosp:this.wn,px:this.ef,py:this.ff,c:this.rb.toJSON(),sr:this.Ej,fx:this.Ma.rd(),cg:this.sD}}pa(a){this.hz=!!a.d;this.ge=a.s;this.Df=a.a;this.kv=!!a.v;this.gv=a.hasOwnProperty("i")?a.i:!0;this.js=!!a.html;fc(this.gn,a.bc);this.Nk=!!a.t;a.hasOwnProperty("sx")&&
(this.Fj=a.sx);a.hasOwnProperty("sy")&&(this.Gj=a.sy);a.hasOwnProperty("hosp")&&(this.wn=!!a.hosp);this.ef=a.px;this.ff=a.py;fc(this.rb,a.c);to(this);this.Ej=a.sr;X.Bd(this.sD,a.cg);X.Bd(this.Xl,this.kU);const b=new Set(this.sD);let d=0;for(let c=0,e=this.Xl.length;c<e;++c)b.has(this.Xl[c][2])||(this.Xl[d]=this.Xl[c],++d);X.eg(this.Xl,d);this.Ma.zc(a.fx);this.Hn=!0}Et(){return this.wS}};"use strict";const Ep=self.A,Fp=self.di;Ep.m(Ep.Rect);Ep.m(Ep.Rect);
const Gp=Ep.m(Ep.Rect),Hp=Ep.m(Ep.gb),Ip=self.Vi.HG,Wo=[],Jp=[],Kp=[],Lp=[];let Mp=null;function Np(a,b){if(Mp!==a){fp(a,b);var d=a.jb();b.Jh=d;Mp=a}}function jl(a){a.eh&&(a.eh=!1,Op(a),Pp(a),a.g.Z())}function kl(a){a.eh||(a.eh=!0,Op(a),Pp(a),a.g.Z())}function yo(a,b){if(b.yc())for(const d of b.Kh.cm)a.$r.add(d);else a.$r.add(b)}function wp(a,b){return a.hL.get(b.toLowerCase())||null}function xp(a,b){b=Ep.V(Math.floor(b),0,a.Hc.length-1);return a.Hc[b]}
async function po(a){Qp(a);Rp(a);a.UL=a.Tw()}function Lo(a){return a.eh?.5:a.ZF}function Mo(a){return a.eh?.5:a.$F}function ap(a,b){const d=[];for(const c of a.Rf)if(a=c.Wr,a===b)d.push(c);else if(a>b)break;return d}
function Cp(a,b,d,c){d=d.filter(e=>To(e));for(let e=0,g=d.length;e<g;){const k=d[e];if(Ro(k)&&!cp(k)){Wo.push(k);for(let l=e+1;l<g;++l){const n=d[l];if(Ro(n)&&!cp(n))Wo.push(d[l]);else break}if(2<=Wo.length||1===Wo.length&&Vo()){Sp(a,b);e+=Wo.length;Ep.G(Wo);continue}Ep.G(Wo)}k.Zj(a,b,c&&0===e);++e}}function lp(a){const b=Lo(a);a=Mo(a);return 0>b||1<b||0>a||1<a}function qo(a){a.kk(a.wh());a.lk(a.xh());for(const b of a.Hc)b.wn&&(b.kk(b.wh()),b.lk(b.xh()))}
function Qp(a){a.Hc=[...a.jw()];a.hL.clear();a.iL.clear();for(let b=0,d=a.Hc.length;b<d;++b){const c=a.Hc[b];c.UI(b);a.hL.set(c.fa().toLowerCase(),c);a.iL.set(c.fb,c)}}function Tp(a){let b=Eo(a.Hc[0]);for(let d=1,c=a.Hc.length;d<c;++d){const e=a.Hc[d];if(0!==e.ef||0!==e.ff)b=Math.min(b,Eo(e))}return b}function Ap(a){return.5*a.g.Zf/Tp(a)}function Bp(a){return.5*a.g.Qe/Tp(a)}function Pp(a){for(const b of a.Hc)ro(b)}function Op(a){for(const b of a.Hc)b.CE=!0,b.mz=!0,b.nz=!0}
function Up(a,b){return a.iL.get(b)||null}
function Vp(a,b,d,c){if(2<=c)if(d){if(d===b||Yo(d,b))throw Error(`cannot move layer '${b.fa()}' to sub-layer of itself`);So(d,b,2===c);b.zj=d}else 2===c?a.Rf.push(b):a.Rf.unshift(b),b.zj=null;else{var e=d.zj;if(e){if(Yo(d,b))throw Error(`cannot move layer '${b.fa()}' to sub-layer of itself`);a=e.Ne.indexOf(d);if(-1===a)throw Error("cannot find layer to insert by");0===c&&++a;e.Ne.splice(a,0,b);b.zj=e}else{e=a.Rf.indexOf(d);if(-1===e)throw Error("cannot find layer to insert by");0===c&&++e;a.Rf.splice(e,
0,b);b.zj=null}}}function Wp(a,b){var d=b.zj;if(d){a=d.Ne.indexOf(b);if(-1===a)throw Error("cannot find layer to remove");d.Ne.splice(a,1);return!0}if(1<a.Rf.length){d=a.Rf.indexOf(b);if(-1===d)throw Error("cannot find layer to remove");a.Rf.splice(d,1);return!0}return!1}function Rp(a){let b=0;for(const d of a.Rf){for(const c of Xo(d))c.Wr=b;d.js&&b++}}
function Xp(a){for(a=a.Rf.filter(b=>To(b))[0];a;){if(!a.Nk)return Yb(Hp,a.gn),Zb(Hp,1),Hp;if(a.Zt())return Vb(Hp,0,0,0,0),Hp;a=a.Ne.filter(b=>To(b))[0]}Vb(Hp,0,0,0,0);return Hp}function Yp(a,b,d){if(b===a||!d)return Promise.resolve();b&&(Ep.gX(a.Pi,b.Pi),b.Pi.clear());b=[];for(const c of a.$r)a.Pi.has(c)||(b.push(c.Qt(d)),a.Pi.add(c));return Promise.all(b)}function Zp(a,b){a.tA.add(b);b.then(()=>a.tA.delete(b)).catch(()=>a.tA.delete(b))}
async function $p(a,b){if(b.Oa)throw Error("cannot load textures for family");var d=a.g.ua();!d||d.ek()||a.Pi.has(b)||(a.Pi.add(b),d=b.Qt(d),Zp(a,d),await d,b.kC(),a.g.Z())}function aq(a,b){if(b.Oa||0<b.J.length)throw Error("cannot unload textures");a.g.ua()&&a.Pi.has(b)&&(a.Pi.delete(b),b.Wq())}
function bq(a,b){for(const c of a.g.jd)if(!c.Oa&&c.Sd)for(const e of c.qa()){const g=e.C();var d=g.Y();d=Ep.V(d.Ha(),0,a.Hc.length-1);d=a.Hc[d];cq(g,d,!0);d.J.includes(e)||(d.J.push(e),0!==e.C().jb()&&(d.an=!0),zo(d,e))}if(!b)for(const c of a.Hc)Ao(c,!1)}
function dq(a){for(const e of a.Hc){var b=e,d=a.ty;const g=b.Ag.hs;let k=0;const l=b.Xl;for(let n=0,p=l.length;n<p;++n){var c=l[n];const r=xo(b.g,c[1]);let w=!0;if(!eq(r)||g)c=yp(b.g,c,b,!0),d.push(c),r.wf()&&(w=!1,b.sD.push(c.Ob));w&&(l[k]=l[n],++k)}X.eg(l,k);gl(b.g);zo(b)}}
function fq(a){let b=!1;for(const [c,e]of Object.entries(a.Jp)){const g=gq(a.g,parseInt(c,10));if(g&&!g.Oa&&eq(g))for(const k of e){var d=null;if(g.Sd&&(d=k.hasOwnProperty("instJson")?Up(a,k.instJson.w.l):Up(a,k.w.l),!d))continue;d=yp(a.g,g,d,!1,0,0,!0);k.hasOwnProperty("instJson")?d.zc(k.instJson):d.zc(k);b=!0;a.uy.push(d);k.hasOwnProperty("instJson")&&(a.CJ.set(d,k),a.BJ.set(k.index,d))}}for(const c of a.Hc)Ao(c,!0),zo(c);b&&(gl(a.g),hq(a.g))}
function iq(a,b){for(const c of b){if(!c.yc())continue;const e=c.C(),g=jq(c);for(const k of c.I().Kh.cm)if(k!==c.I()){var d=k.qa();d.length>g?c.od.push(d[g]):(d=e?yp(a.g,k,e.Y(),!0,e.Da(),e.Ea(),!0):yp(a.g,k,null,!0,0,0,!0),gl(a.g),kq(k),c.od.push(d),b.push(d))}}}function lq(a){for(const b of a.xK)xo(a.g,b[1]).yc()||yp(a.g,b,null,!0)}function mq(a,b){b.layout=a.Km();return a.g.nl(b)}
async function nq(a,b){const d=a.g,c=a.hb,e=d.Ca();a.XR&&(a.md=e.CF.get(a.XR.toLowerCase())||null,oq(a.md));c.yv=a;a.P=a.S2;a.S=a.R2;a.Fj=d.Ji/2;a.Gj=d.Ii/2;qo(a);Op(a);Pp(a);Rp(a);await pq(a.g.T,a.Tw(),!0);bq(a,b);dq(a);a.hs||fq(a);iq(a,a.ty);iq(a,a.uy);lq(a);c.Ki=null;gl(d);var g=a.g.m1;await Promise.all(g);Ep.G(g);if(!d.pj){for(const k of a.ty)qq(k);for(const k of a.uy)rq(k,a.CJ,a.BJ);for(const [k,l]of Object.entries(a.Jp))(g=gq(a.g,parseInt(k,10)))&&!g.Oa&&eq(g)&&Ep.G(l);for(const k of a.ty)sq(k);
for(const k of a.uy)sq(k)}Ep.G(a.ty);Ep.G(a.uy);a.CJ.clear();a.BJ.clear();await Promise.all([...a.$r].map(k=>k.KH(a.g.ua())));b&&(d.Ua().dispatchEvent(new Ep.Event("beforefirstlayoutstart")),await d.nl(new Ep.Event("beforeprojectstart")));await mq(a,new Ep.Event("beforeanylayoutstart"));d.Ua().dispatchEvent(new Ep.Event("beforelayoutstart"));await a.nl(new Ep.Event("beforelayoutstart"));d.pj||await d.Wc(Ep.B.yb.H.WP,null,null);d.Ua().dispatchEvent(new Ep.Event("afterlayoutstart"));await a.nl(new Ep.Event("afterlayoutstart"));
await mq(a,new Ep.Event("afteranylayoutstart"));b&&(d.Ua().dispatchEvent(new Ep.Event("afterfirstlayoutstart")),await d.nl(new Ep.Event("afterprojectstart")));tq(e,c);await Promise.all([...a.tA]);a.hs=!1}function uq(a){const b=[],d=a.xK;let c=0;for(let e=0,g=d.length;e<g;++e){const k=d[e],l=xo(a.g,k[1]);l.wf()?l.yc()&&vq(l.Kh)||b.push(yp(a.g,k,null,!0)):(d[c]=k,++c)}Ep.eg(d,c);gl(a.g);iq(a,b)}
async function wq(a){const b=a.hb;a.g.pj||(await mq(a,new Ep.Event("beforeanylayoutend")),await a.nl(new Ep.Event("beforelayoutend")),await a.g.Wc(Ep.B.yb.H.JZ,null,null),await a.nl(new Ep.Event("afterlayoutend")),await mq(a,new Ep.Event("afteranylayoutend")));xq(b,!0);yq(a.g.Ca());if(!a.hs){a.Oz.clear();var d=0;for(var c of a.Hc){Zo(c);for(var e of c.J){var g=e.I();if(!g.wf()&&eq(g)){g=a;var k=e,l=d,n=k.I().fb.toString();g.Jp.hasOwnProperty(n)||(g.Jp[n]=[]);n=g.Jp[n];l={index:l,instJson:k.rd(),sceneGraphJson:{children:[]}};
n.push(l);g.Oz.set(k,l);d++}}}for(const p of a.Hc)for(const r of p.J)if(d=r.I(),!d.wf()&&eq(d)){d=a;c=d.Oz.get(r);for(const w of r.Zd())(e=d.Oz.get(w))&&c.sceneGraphJson.children.push({index:e.index,flags:zq(w.C())})}a.Oz.clear()}for(const p of a.Hc){for(const r of p.J)r.I().wf()||tp(p.g,r);gl(p.g);X.G(p.J);p.an=!1;zo(p)}for(const p of a.g.jd)if(!(p.wf()||p.Sd||p.Ia().qj||p.Oa)){for(const r of p.qa())tp(a.g,r);gl(a.g)}xq(b,!1);b.Pb()===a&&(b.yv=null)}
function Aq(a,b){const d=a.g.T;a.Zt()?(b.$d(null),b.ei(0,0,0,0),b={jc:a.g.Rb,Tj:b.Ld()||a.g.Vs||a.Ma.hx(),nq:b.Ld()?a.g.Vs:!1},"low"===d.Ci&&(b.width=d.rl(),b.height=d.ql()),a.Ze=a.g.Mw(b)):a.Ze=null}
function Sp(a,b){var d=Wo;d[0].Nk||(Yb(Hp,d[0].gn),Zb(Hp,1),a.he(Hp));a.We(!0);for(var c of d)Zo(c),Qo(c,Jp);c=d[0];d=gp(c,a);jp(c,a);for(let r=0,w=Jp.length;r<w;){var e=Jp[r],g=e.C(),k=g.Y();if(g.Uc()&&Dp(g,sp(k))){(!e.St()||0<g.Zc)&&Lp.push(e);var l=op(e.C());Kp.push(e);for(c=r+1;c<w;++c){var n=Jp[c],p=n.C();if(p.Uc()&&Dp(p,sp(p.Y()))){if(op(p)!==l)break;n.St()?(0<p.Zc&&Lp.push(n),Kp.push(n)):Lp.push(n)}}if(1!==Kp.length||0!==(Kp[0].D&32)){e=a;g=b;k=Kp;e.YG();for(let x=0,z=k.length;x<z;++x)l=k[x],
n=l.C(),p=n.Y(),n.Eb(1048576,!0),Np(p,e),rp(l,n,e);e.uB();for(let x=0,z=k.length;x<z;++x)l=k[x],n=l.C(),p=n.Y(),Np(p,e),np(p,l,n,e,g),n.Eb(1048576,!1);e.tB();for(let x=0,z=Lp.length;x<z;++x)e=Lp[x],g=e.C(),k=g.Y(),g.Eb(2097152,!0),Np(k,a),np(k,e,g,a,b),g.Eb(2097152,!1)}else{Np(k,a);np(k,e,g,a,b);for(let x=0,z=Lp.length;x<z;++x)g=Lp[x],g!==e&&(k=g.C(),l=k.Y(),Np(l,a),np(l,g,k,a,b))}r=c;Ep.G(Kp);Ep.G(Lp)}else++r}d&&ji(a,d);Ep.G(Jp);Mp=null}
Ep.ZY=class extends Ep.ra{constructor(a,b,d){super();this.hb=a;this.g=a.F();this.Ka=d[0];this.S2=d[1];this.R2=d[2];this.P=d[1];this.S=d[2];this.sp=!!d[3];this.eh=!!d[4];this.ZF=d[5];this.$F=d[6];this.XR=d[7];this.md=null;this.fb=d[8];this.na=b;this.Gj=this.Fj=0;this.ge=1;this.Df=0;this.$r=new Set;this.Pi=new Set;this.tA=new Set;this.ty=[];this.uy=[];this.CJ=new Map;this.BJ=new Map;this.xK=[];this.s2=!1;this.DR=Ip.create();this.I1=Ip.create();this.J1=Ip.create();this.Rf=[];this.Hc=[];this.hL=new Map;
this.iL=new Map;this.UL=-1;const c=this.g.T;this.Ma=Ep.m(Ep.Cq,this,d[11]);this.Gf=Ep.m(Ep.R.hg,c.Hy,{nG:(e,g)=>{g=g.Vo.bj();fi(e);e.zt(g);e.Lq(g);c.Vq(g)},rG:e=>this.Ma.NC(e)});this.Hn=!0;this.IU=!1;this.Ze=null;this.Jp={};this.Oz=new Map;this.hs=!0;this.l2=new self.nY(this);this.lf=Ep.m(Ep.Event.Ua);for(const e of d[9])this.Rf.push(vo(this,null,e));Qp(this);for(const e of this.jw())wo(e);for(const e of d[10]){a=xo(this.g,e[1]);if(!a)throw Error("missing nonworld object class");a.Hr||(a.Hr=e);this.xK.push(e);
yo(this,a)}}j(){for(const a of this.Hc)a.j();Ep.G(this.Hc);this.tA.clear();this.g=this.hb=this.md=null}F(){return this.g}fa(){return this.Ka}Ha(){return this.na}Kg(){this.Ox();return this.Gf}Ox(){const a="low"===this.g.T.Ci;if(this.Hn||this.IU!==a||this.Gf.Ez){var b=this.Ma.Gh;sk(this.Gf,b.map(d=>d.ye()),{ow:b.map(d=>d.Ha()),lV:a,yO:!0});this.Hn=!1;this.IU=a}}Fh(){this.Ma.Fh();this.Hn=!0}kk(a){const b=this.sp?-Infinity:Ap(this),d=this.sp?Infinity:this.M()-Ap(this);a>d&&(a=d);a<b&&(a=b);this.Fj!==
a&&(this.Fj=a,Pp(this),this.g.Z())}wh(){return this.Fj}lk(a){const b=this.sp?-Infinity:Bp(this),d=this.sp?Infinity:this.K()-Bp(this);a>d&&(a=d);a<b&&(a=b);this.Gj!==a&&(this.Gj=a,Pp(this),this.g.Z())}xh(){return this.Gj}kI(a){this.ge!==a&&(this.ge=a,Pp(this),qo(this),this.g.Z())}Be(a){a=Ep.Wd(a);this.Df!==a&&(this.Df=a,Pp(this),this.g.Z())}Ra(){return this.Df}M(){return this.P}qg(a){!isFinite(a)||1>a||(this.P=a)}K(){return this.S}zh(a){!isFinite(a)||1>a||(this.S=a)}*jw(){for(const a of this.Rf)yield*Xo(a)}Y(a){return"number"===
typeof a?xp(this,a):wp(this,a.toString())}CO(a,b,d){if(wp(this,a))throw Error(`layer name '${a}' already in use`);if(!b&&2>d)throw Error("invalid insert position");a=Ep.m(Ep.AH,this,2<=d?b:b.zj,{name:a,gt:Math.floor(1E15*Math.random()),KN:!0});Vp(this,a,b,d);this.F().Z();po(this)}LP(a,b,d){if(!b&&2>d)throw Error("invalid insert position");a===b&&2>d||(Wp(this,a),Vp(this,a,b,d),this.F().Z(),po(this))}qQ(a){if(Wp(this,a)){const b=this.g.Ca();dl(b,!0);a.j();dl(b,!1);this.F().Z();po(this)}}PH(){const a=
new Set;for(var b of this.jw()){var d;if(d=b.hz){a:{for(const c of b.bB())if(c.hz){d=!0;break a}d=!1}d=!d}d&&a.add(b)}if(0!==a.size){b=this.g.Ca();dl(b,!0);for(const c of a)Wp(this,c),c.j();dl(b,!1);this.F().Z();po(this)}}Tw(){return this.Rf.at(-1).Wr+1}du(){this.Pi.clear()}tx(a,b,d,c,e,g){if(d)return d.tx(a,b,c,e,g);d=[];for(const k of this.Hc)d.push(k.tx(a,b,c,e,g));return d.flat()}bj(){return this.Ze}Zt(){const a=this.g,b=a.ua().cj();return"low"===a.T.Ci||b&&a.Vs||this.Ma.hx()||b&&a.fl}oa(){const a=
{sx:this.wh(),sy:this.xh(),s:this.ge,a:this.Ra(),w:this.M(),h:this.K(),ortho:this.eh,vpX:Lo(this),vpY:Mo(this),fv:this.hs,persist:this.Jp,fx:this.Ma.rd(),layers:{},dynamicLayers:[]};for(const l of this.Hc)if(l.hz){var b=l.zj,d=a.dynamicLayers,c=d.push,e=l.fb,g=l.fa();b=b?b.fb:null;var k=(k=l.zj)?k.Ne.indexOf(l):l.xc().Rf.indexOf(l);c.call(d,{sid:e,name:g,parentSid:b,siblingIndex:k,data:l.oa()})}else a.layers[l.fb.toString()]=l.oa();return a}pa(a){this.Fj=a.sx;this.Gj=a.sy;this.ge=a.s;this.Df=a.a;
this.P=a.w;this.S=a.h;this.eh=!!a.ortho;a.hasOwnProperty("vpX")&&(this.ZF=a.vpX);a.hasOwnProperty("vpY")&&(this.$F=a.vpY);this.hs=!!a.fv;this.Jp=a.persist;this.Ma.zc(a.fx);this.Hn=!0;for(const [k,l]of Object.entries(a.layers)){var b=Up(this,parseInt(k,10));b&&b.pa(l)}if(a.hasOwnProperty("dynamicLayers")){this.PH();gl(this.g);b=new Map;a=a.dynamicLayers;for(let k=a.length-1;0<=k;--k){var d=a[k],c=d.sid,e=d.name,g=d.parentSid;const l=d.siblingIndex;d=d.data;Qp(this);if(wp(this,e)||Up(this,c))continue;
let n;if(null===g)n=null,g=this.Rf;else{n=Up(this,g);if(!n)continue;g=n.Ne}c=Ep.m(Ep.AH,this,n,{name:e,gt:c,KN:!0});g.push(c);e=b.get(g);e||(e=[],b.set(g,e));e.push({Zs:c,rO:l});c.pa(d)}for(const [k,l]of b){l.sort((n,p)=>n.rO-p.rO);for(const n of l)b=n.Zs,a=n.rO,k.splice(k.indexOf(b),1),k.splice(a,0,b)}}po(this);Op(this);Pp(this)}Km(){return this.l2}Jg(a){a.layout=this.Km();var b=this.g;(b=b.Hb&&!fl(b.Ca()))&&Fp.pI();this.lf.dispatchEvent(a);b&&Fp.KG()}nl(a){a.layout=this.Km();return dd(this.lf,a)}};
"use strict";const Bq=self.A;function xq(a,b){if(b)a.dv++;else{if(0>=a.dv)throw Error("already unset");a.dv--}}function Cq(a){if(a.LD)return a.LD;if(a.gj.length)return a.gj[0];throw Error("no first layout");}function Dq(a,b){return a.lL.get(b.toLowerCase())||null}function*Eq(a){a.yv&&(yield a.yv);a.hM.length&&(yield*a.hM)}function Fq(a){(a=a.Pb())&&Op(a)}function Gq(a){(a=a.Pb())&&Pp(a)}
Bq.$Y=class extends Bq.ra{constructor(a){super();this.g=a;this.gj=[];this.lL=new Map;this.uz=new Map;this.yv=null;this.hM=[];this.LD=null;this.dv=0;this.Ki=null}j(){this.Ki=this.LD=this.yv=this.g=null;Bq.G(this.gj);this.lL.clear();this.uz.clear();Bq.G(this.hM)}ya(a){a=Bq.m(Bq.ZY,this,this.gj.length,a);this.gj.push(a);this.lL.set(a.fa().toLowerCase(),a);this.uz.set(a.fb,a)}F(){return this.g}xc(a){"number"===typeof a?(a=Bq.V(Math.floor(a),0,this.gj.length-1),a=this.gj[a]):a=Dq(this,a.toString());return a}Pb(){return this.yv}};
"use strict";const Hq=self.A;function*Iq(a){for(const b of a.fe)yield b}function Jq(a,b,d){a.Jn.has(b)||a.Jn.set(b,new Set);a.Jn.get(b).add(d)}function Kq(a,b){for(const d of a.Sf)if(d.fa()===b)return d;for(const d of a.fe)if(d.fa()===b)return d;return null}function Lq(a,b){a.Sf.includes(b)||a.Sf.push(b);a.Hk||(a.Hk=!0)}function Mq(a){a.wj.length||a.fe.length||a.Sf.length||a.lz||(a.Hk=!1)}
function Nq(a,b){a.fe.includes(b)?(b.Rh=!0,b.zg=!1,b.ms=!1):(b.Rh=!1,b.zg=!0,b.ms=!1,a.Sf.includes(b)||a.Sf.push(b));a.Hk||(a.Hk=!0)}function Oq(a,b){b.Rh=!1;b.zg=!1;Pq(b);Hq.zm(a.Sf,b);Mq(a)}function Qq(a,b){b.Rh=!1;b.zg=!1;a.fe.includes(b)&&(b.ms=!0,a.wj.push(b),Hq.zm(a.fe,b))}function Rq(a,b){b.Rh=!1;b.zg=!1;b.ms=!1;b.Qg(1);Hq.zm(a.fe,b)}function Sq(a){a.hc||Tq(a)&&a.Yg&&a.mp&&a.YO()}function Uq(a){return a.mm.map(b=>b.oa())}function Vq(a){return a.map(b=>b.fa())}
function Wq(a,b,d){var c=new Set;for(const e of d)Xq(e,b)||c.add(e);Hq.ai(d,c);if(b){c=e=>g=>g.fa()===e;for(const e of b)(b=a.aq.get(e.toLowerCase())||null)&&(d.find(c(e))||d.push(b))}}function Xq(a,b){if(!b)return!1;for(const d of b)if(d===a.fa())return!0;return!1}
Hq.g0=class extends Hq.ra{constructor(a){super();this.g=a;this.wA=Hq.m(Hq.e0);this.Kn=null;this.mm=[];this.aq=new Map;this.Jn=new Map;this.nm=new Map;this.Sf=[];this.fe=[];this.wj=[];this.lz=this.xu=this.Hk=!1;this.Vn=()=>{if(!this.F().pj&&this.Hk&&!this.xu){for(this.lz=!0;this.Sf.length;){var b=this.Sf.pop();b.Fc();0!==b.nc&&(this.nc=1);this.fe.push(b)}b=this.g.Fy;var d=this.g.Lr,c=this.g.Ud;for(let e=this.fe.length-1;0<=e;e--){const g=this.fe[e];g&&g.Xe(b,c,d)}this.lz=!1;0!==this.nc&&this.F().Z()}};
this.Un=()=>{if(!this.F().pj&&this.Hk&&!this.xu){var b;for(let d=0,c=this.wj.length;d<c;d++){const e=this.wj[d];b||(b=new Set);Yq(e);Sq(e);b.add(e)}if(b){Hq.ai(this.wj,b);this.nc=0;for(let d=0,c=this.fe.length;d<c;d++)if(0!==this.fe[d].nc){this.nc=1;break}}Mq(this)}};this.jJ=()=>this.Px();this.kL=()=>{this.xu=!1};this.bv=b=>this.QC(b.instance);this.yR=()=>this.cu();this.pr=()=>this.tg();this.oR=()=>{const b=this.g.hb.Pb();if(b)for(const d of this.mm){const c=d.kH();c&&b.fa()===c&&Nq(this,d)}};this.Ey=
[];this.nc=0}j(){this.QH();this.pr=this.bv=this.kL=this.jJ=this.Un=this.Vn=null;for(const a of this.mm)a.hd(),a.j();Hq.G(this.mm);this.mm=null;this.wA.j();this.wA=null;Hq.G(this.Sf);this.Sf=null;Hq.G(this.fe);this.fe=null;Hq.G(this.wj);this.wj=null;this.aq.clear();this.aq=null;this.Jn.clear();this.Jn=null;this.nm.clear();this.nm=null;Hq.G(this.Ey);this.g=this.Ey=null}JG(){const a=this.g.Ua();a.addEventListener("pretick",this.Vn);a.addEventListener("tick2",this.Un);a.addEventListener("beforelayoutchange",
this.jJ);a.addEventListener("layoutchange",this.kL);a.addEventListener("instancedestroy",this.bv);a.addEventListener("beforeload",this.yR);a.addEventListener("afterload",this.pr);a.addEventListener("afterlayoutstart",this.oR)}QH(){const a=this.g.Ua();a.removeEventListener("pretick",this.Vn);a.removeEventListener("tick2",this.Un);a.removeEventListener("beforelayoutchange",this.jJ);a.removeEventListener("layoutchange",this.kL);a.removeEventListener("instancedestroy",this.bv);a.removeEventListener("beforeload",
this.yR);a.removeEventListener("afterload",this.pr);a.removeEventListener("afterlayoutstart",this.oR)}ya(a){this.wA.Bb(a);const b=this.wA.U(a[0]);a=Zq.m(Zq.Io,a[0],b,this);a.jv=!0;this.Bb(a);for(const d of a.fP())Jq(this,d,a);this.nm.set(a.fa(),0)}$G(a){var b=this.wA;a=a.Jt();b=b.U(a);b=Hq.Io.$G(`${a}:${this.nm.get(a)}`,b,this);this.nm.set(a,this.nm.get(a)+1);this.Bb(b);return b}Bb(a){this.mm.push(a);this.aq.set(a.fa().toLowerCase(),a)}zf(a){Yq(a);if(!a.jv){Hq.zm(this.mm,a);Hq.zm(this.Sf,a);Hq.zm(this.fe,
a);Hq.zm(this.wj,a);this.aq.delete(a.fa().toLowerCase());for(const [b,d]of this.Jn.entries())d.has(a)&&(d.delete(a),0===d.size&&this.Jn.delete(b));a.hc||a.j()}}da(a){this.g.da(a,this.Kn,null)}F(){return this.g}SB(){return this.Kn}Px(){for(this.xu=!0;this.Sf.length;)Oq(this,this.Sf.pop());const a=new Set;for(const b of this.fe)b.Px()&&(Yq(b),a.add(b));Hq.ai(this.fe,a);a.clear();for(const b of this.wj)b.Px()&&(Yq(b),a.add(b));Hq.ai(this.wj,a);Mq(this);for(const b of this.mm)b.ml()}QC(a){var b=a.I();
b=this.Jn.has(b)?this.Jn.get(b):void 0;if(b)if(this.g.pj)this.Ey.push(a);else for(const d of b)d.jv||(d.hc?this.zf(d):Tq(d)||(Sq(d),this.zf(d)))}cu(){for(const a of this.Sf.map(b=>b))Sq(a),this.zf(a);for(const a of this.fe.map(b=>b))Sq(a),this.zf(a)}tg(){for(const a of this.Ey)this.QC(a);Hq.G(this.Ey);for(const a of this.mm)a.tg()}oa(){return{timelinesJson:Uq(this),scheduledTimelinesJson:Vq(this.Sf),playingTimelinesJson:Vq(this.fe),markedForRemovalTimelinesJson:Vq(this.wj),hasRuntimeListeners:this.Hk,
changingLayout:this.xu,isTickingTimelines:this.lz}}pa(a){if(a){for(var b of this.nm.keys())this.nm.set(b,0);b=a.timelinesJson;for(const d of b){b=this.aq.get(d.name.toLowerCase())||null;if(!b){b=(b=d.name.split(":"))&&2===b.length?b[0]:null;if(!b)continue;b=this.aq.get(b.toLowerCase())||null;b=this.$G(b)}b.pa(d);b.Pa.length||this.zf(b)}Wq(this,a.scheduledTimelinesJson,this.Sf);Wq(this,a.playingTimelinesJson,this.fe);Wq(this,a.markedForRemovalTimelinesJson,this.wj);this.Hk=!a.hasRuntimeListeners;this.xu=
!!a.changingLayout;this.lz=!!a.isTickingTimelines;for(const d of this.mm)d.jv||(a=d.Jt(),this.nm.set(a,this.nm.get(a)+1));this.Hk||(this.Hk=!0);Mq(this)}}};"use strict";const $q=self.A,ar=[0,0],br=[0,0,0,0,0];
$q.hea=class{constructor(a,b){this.cs=!1;this.Oe=a;this.Up=[];var d;if(b)a:{a=this.Oe;for(d of a.Pa)if(Zq.pf(d.Xi(),b)){b=d;break a}b=null}else b=$q.first(this.Oe.Pa);if(d=b)if(b=d.Ed("offsetX"),d=d.Ed("offsetY"),b&&d){b=b.UB();d=d.UB();for(let c=1,e=Math.min(b.length,d.length);c<e;++c){a=b[c];const g=a.Op,k=d[c],l=k.Op;g&&"cubic-bezier"===g.TL&&l&&"cubic-bezier"===l.TL?this.Up.push($q.m($q.d0,g,l,a,k,this.Up.length)):this.Up.push($q.m($q.f0,a,k,this.Up.length))}this.cs=!0}}j(){for(const a of this.Up)a.j();
$q.G(this.Up);this.Oe=this.Up=null}nC(a,b,d){d&&d.gB&&($q.Jb(d.gB[0])||(d.gB[0]=0),$q.Jb(d.gB[1])||(d.gB[1]=1));const c=[];for(const e of this.Up)if("cubic-bezier"===e.qc()){const g=e.nC(a,b,d?d.gB:null);g[4]=e.Ha();c.push(JSON.parse(JSON.stringify(g)))}c.sort((e,g)=>e[3]-g[3]);return c[0]}};function cr(a,b){return a.cs?self.Fm.Mm("cubicbezier")(b,a.j1+a.Kz,a.u1+a.Kz,a.G1+a.Kz,a.S1+a.Kz):NaN}function dr(a,b){return a.cs?self.Fm.Mm("cubicbezier")(b,a.l1+a.Lz,a.v1+a.Lz,a.H1+a.Lz,a.T1+a.Lz):NaN}
function er(a,b,d,c=null){var e=Number.MAX_SAFE_INTEGER;let g=0;d.forEach((k,l)=>{k.t=l/(d.length-1);k.ci=$q.uN(a,b,k.x,k.y);c&&$q.ck(c)&&$q.Jb(c[0])&&$q.Jb(c[1])?k.t>=c[0]&&k.t<=c[1]&&k.ci<e&&(e=k.ci,g=l):k.ci<e&&(e=k.ci,g=l)});return g}
$q.d0=class{constructor(a,b,d,c,e){this.na=e;e=fr(a,"cubic-bezier");var g=fr(d,"cubic-bezier");const k=fr(b,"cubic-bezier"),l=fr(c,"cubic-bezier");this.j1=gr(a);this.l1=gr(b);this.u1=gr(a)+e.mA;this.v1=gr(b)+k.mA;this.G1=gr(d)+g.Iy;this.H1=gr(c)+l.Iy;this.S1=gr(d);this.T1=gr(c);this.cs=!1;this.sv=100;this.cn=Array(this.sv+1);this.cn[0]=0;this.xv=[];this.cs=!0;a=cr(this,0);b=dr(this,0);d=0;for(c=1;c<=this.sv;c++)e=cr(this,.01*c),g=dr(this,.01*c),d+=Math.hypot(a-e,b-g),this.cn[c]=d,a=e,b=g}j(){$q.G(this.cn);
this.cn=null;$q.G(this.xv);this.xv=null}qc(){return"cubic-bezier"}Ha(){return this.na}Map(a){if(!this.cs)return NaN;if(this.cs){a*=this.cn[this.sv];for(var b=0,d=this.sv,c=0;b<d;)c=b+((d-b)/2|0),this.cn[c]<a?b=c+1:d=c;this.cn[c]>a&&c--;b=this.cn[c];a=b===a?c/this.sv:(c+(a-b)/(this.cn[c+1]-b))/this.sv}else a=void 0;ar[0]=cr(this,a);ar[1]=dr(this,a);return ar}nC(a,b,d){var c=100;if(this.xv.length!==c){this.xv=[];c++;for(var e=0;e<c;e++){var g=e/(c-1),k=cr(this,g),l=dr(this,g);this.xv.push({x:k,y:l,
t:g,ci:0})}}c=this.xv;e=er(a,b,c,d);d=c;c=e;e=d[c];g=1;k=Number.MAX_SAFE_INTEGER;do{var n=0===c?0:c-1;l=c===d.length-1?d.length-1:c+1;let p=d[n].t,r=[],w=(d[l].t-p)/4;if(.001>w)break;r.push(d[n]);for(n=1;3>=n;n++){const x=p+n*w,z=cr(this,x),F=dr(this,x),D=Math.abs($q.uN(z,F,a,b)-0);D<k&&(k=D,e={x:z,y:F,t:x,ci:D},c=n);r.push({x:z,y:F,t:x,ci:D})}r.push(d[l]);d=r}while(25>g++);a=e;br[0]=a.x;br[1]=a.y;br[2]=a.t;br[3]=a.ci;return br}};
$q.f0=class{constructor(a,b,d){this.na=d;this.f3=gr(a);this.g3=gr(b);this.Lz=this.Kz=0}j(){}qc(){return"line"}Ha(){return this.na}Da(){return this.f3+this.Kz}Ea(){return this.g3+this.Lz}};"use strict";const Zq=self.A;function tm(a){a.hc||hr(a)&&a.Play(!0)}function um(a){if(a.ys)return a.ys;a.ys=new Promise(b=>{a.jF=b});return a.ys}function Yq(a){if(!a.hc)for(const b of a.Pa)b.Vm()}function Pq(a){a.ys&&(a.jF(),a.ys=null,a.jF=null)}function Tq(a){return a.Pa.some(b=>ir(b)?jr(b):!0)}
function kr(a,b,d,c,e){if(a.ZD){var g;for(let l=0;l<a.Pa.length;l++){var k=a.Pa[l];b===k.ia()&&(k=k.Ed(c))&&d.constructor===k.Db().constructor&&k.Ec()===e.Ec()&&(g||(g=[]),g.push(k))}return g}}function lr(a){return a.IsPlaying()?0<a.Qc:!0}function mr(a){if(Zq.ck(a))return a.slice(0);if(Zq.ni(a))return a.split(" ");throw Error("invalid tags");}function nr(a){a.qA&&(a.LF=a.kf.join(" "));a.qA=!1;return a.LF}function or(a,b){return a.kf&&a.kf.length?(b=mr(b))&&b.length?b.every(Zq.Io.d1,a):!1:!1}
function pr(a,b){a.Yg=b;b=a.za();if(0>=b||b>=a.pc())a.Yg=!0}function qr(a,b){Zq.Jb(b)||(b=a.pc());a.Lb=0>b?0:b>=a.pc()?a.pc():b}function rr(a){a.ZD=0;for(const b of a.Pa)b.qp&&(a.ZD=1)}function sr(a,b,d=!1,c=NaN,e=!1,g=!1){for(var k of a.Pa)k.xq();for(const l of a.Pa){k=b;if("number"===typeof c&&!isNaN(c)){const n=a.za()-l.Ng(),p=c-l.Ng();0>n&&0<p&&(k=l.Ng(),qr(a,k))}l.Ja(k,!1,d,!0,a.xg,g)}for(const l of a.Pa)l.vq();a.xg&&e&&(a.xg=!1)}
function tr(a){a.nc=0;for(const b of a.Pa)b.RC(),0===a.nc&&1===b.nc&&(a.nc=1),a.mu||1!==b.Vh||(a.mu||(a.mu=[]),a.xR=a.mu.push(b))}function ur(a){Zq.B.Gc&&a.constructor===Zq.Io&&(Zq.B.Gc.H.LH(a),a.Mb.da(Zq.B.Gc.H.m$),a.Mb.da(Zq.B.Gc.H.n$),a.Mb.da(Zq.B.Gc.H.o$),Zq.B.Gc.H.JH())}function hr(a){if(!a.Gq())if(a.to()&&1===a.zb)if(lr(a)){if(a.za()>=a.pc())return!1}else{if(0>=a.za())return!1}else if(!a.Gq()&&!a.to())if(lr(a)){if(a.za()>=a.pc())return!1}else if(0>=a.za())return!1;return!0}
function vr(a){return a.Pa.some(b=>ir(b)?jr(b)?(b=b.I())?b.wf():!1:!1:!1)}function wr(a){for(const b of a.Pa)b.Oc=null,b.Yl=NaN,b.Ta=null,b.am=NaN}function xr(a,b){for(const d of a.Pa)if(b===d.ia())return d;return null}function yr(a){return a.Pa.map(b=>b.oa())}function zr(a,b){wr(a);b.forEach((d,c)=>{a.Pa[c].pa(d)});a.Pa.filter(d=>jr(d))}
Zq.Io=class extends Zq.ra{constructor(a,b,d){super();this.g=d.F();this.Mb=d;this.oc=b;this.Ka=a;this.Pa=[];this.JM=0;this.mu=null;this.xR=0;this.OO();this.jF=this.ys=null;this.Fp=this.Lb=0;this.Qc=1;this.zb=0;this.Fe=1;this.mp=this.zg=this.Rh=!1;this.Yg=!0;this.ms=this.hc=!1;this.Uo=-1;this.xg=this.un=this.jv=this.Zu=!1;this.nv=NaN;this.kf=[""];this.LF="";this.qA=!1;this.ZD=this.nc=0;this.sK=null}static $G(a,b,d){return Zq.m(Zq.Io,a,b,d)}j(){if(!this.hc){var a=this.g.Ua();Oq(this.Mb,this);Qq(this.Mb,
this);Pq(this);for(const b of this.Pa)b.j();Zq.G(this.Pa);this.oc=this.Mb=this.g=this.Pa=null;this.hc=!0;this.jF=this.ys=null;this.ZO(a)}}ZO(a){const b=Zq.m(Zq.Event,"timelinestatereleased");b.wia=this;a.dispatchEvent(b)}qc(){return 0}OO(){for(const a of Ar(this.oc.Iq()))this.JM=this.Pa.push(Zq.GC.ya(this,a))}F(){return this.g}BC(a){this.Ka=a}fa(){return this.Ka}Jt(){return this.oc.fa()}pc(){return this.oc.pc()}Xt(a){this.oc.Xt(a)}Yw(){return this.oc.Yw()}nI(a){this.oc.nI(a)}Yi(){return this.oc.Yi()}ik(a){this.oc.ik(a)}Ec(){return this.oc.Ec()}El(){}og(a){for(const b of this.Pa)b.og(a)}Gq(){return this.oc.Gq()}AC(a){return this.oc.AC(a)}to(){return this.oc.to()}iI(a){return this.oc.iI(a)}ji(){return this.oc.ji()}jI(a){return this.oc.jI(a)}Qg(a){return this.Qc=
a}kH(){return this.oc.kH()}YB(){return this.oc.YB()}lH(){return this.oc.lH()}Dx(a){this.kf=mr(a);this.qA=!0}cQ(){Zq.B.Gc&&this.constructor===Zq.Io&&(Zq.B.Gc.H.LH(this),this.Mb.da(Zq.B.Gc.H.s$),this.Mb.da(Zq.B.Gc.H.t$),this.Mb.da(Zq.B.Gc.H.u$),this.Mb.da(Zq.B.Gc.H.a$),Zq.B.Gc.H.JH())}YO(){this.un||(this.un=!0,Zq.B.Gc&&this.constructor===Zq.Io&&(Zq.B.Gc.H.LH(this),this.Mb.da(Zq.B.Gc.H.p$),this.Mb.da(Zq.B.Gc.H.q$),this.Mb.da(Zq.B.Gc.H.r$),this.Mb.da(Zq.B.Gc.H.Z9),Zq.B.Gc.H.JH()))}IsPlaying(a=!1){return this.Uo===
this.g.Qi||this.zg&&!a?!0:this.Rh}Nt(){return this.hc||this.zg||this.IsPlaying(!0)||this.Yg?!1:!0}za(){return this.Lb}Ah(a){const b=this.za();qr(this,a);pr(this,!1);this.Yg||(this.Zu=!0);if(this.IsPlaying(!0)||this.zg||!this.mp)this.IsPlaying(!0)||this.zg||this.mp?this.IsPlaying(!0)?this.hd():this.zg&&(Oq(this.Mb,this),this.Fc(!0)):this.Fc(!0);rr(this);sr(this,this.za(),!0,b);tr(this);this.nc&&this.F().Z();ur(this)}Ym(a){Zq.Jb(a)||(a=this.pc());this.Lb=0>a?0:a>=this.pc()?this.pc():a;for(const b of this.Pa)b.jk()}Play(a=
!1){this.hc||this.zg?a=!1:this.IsPlaying(!0)&&this.Uo===this.g.Qi?(this.Zu=!1,a=this.Mb,Hq.zm(a.fe,this),Mq(a),Nq(this.Mb,this),um(this),a=!0):this.IsPlaying(!0)||!this.Yg&&!a&&!this.Zu?a=!1:(this.Zu=!1,Nq(this.Mb,this),um(this),a=!0);return a}hd(a=!1){this.hc||(pr(this,a),Qq(this.Mb,this),this.Yg&&Pq(this))}Tb(a=!0,b=!1){if(!this.hc)if(!this.IsPlaying(!0)&&this.zg)Oq(this.Mb,this);else if(!this.Yg){this.hd(!0);lr(this)?qr(this,0):qr(this,this.pc());var d=this.za();rr(this);b?sr(this,d,!1,NaN,!1,
!0):sr(this,d,!1);a&&ur(this);tr(this);this.nc&&a&&this.F().Z()}}Px(){if(this.hc)return!0;if(!this.F().pj&&vr(this))return!1;Rq(this.Mb,this);this.F().pj||this.Tb(!1,!0);return!0}Fc(a){if(!this.ms){if(a){this.un=!1;this.xg=this.mp=!0;rr(this);for(const b of this.Pa)b.Fc()}else if(this.Rh=!0,this.zg=!1,this.cQ(),this.Yg){this.Uo=-1;0!==this.zb&&(this.Qc=Math.abs(this.Qc));this.zb=0;this.Fe=1;this.un=this.Yg=!1;this.xg=this.mp=!0;lr(this)?qr(this,0):qr(this,this.pc());rr(this);for(const b of this.Pa)b.Fc()}else{this.xg=
!0;this.un=!1;rr(this);for(const b of this.Pa)b.pg()}tr(this)}}Xe(a,b,d){if(this.lH()){if(0===a&&0===this.nv)return;this.nv=a;a=d}else{if(0===d&&0===this.nv)return;a=this.nv=d;b=1}d=this.Lb+this.Fp;b=d+a*b*this.Qc;a=this.oc.Ps;0>b?(this.Lb=0,this.Fp=-b):b>=a?(this.Lb=a,this.Fp=this.Lb-b):(this.Lb=b,this.Fp=0);var c=!1;b=!1;var e=this.Gq(),g=this.to();e||g?e&&!g?0<this.Qc?this.Lb>=a&&(this.Ym(0),b=!0):0>=this.Lb&&(this.Ym(a),b=!0):!e&&g?0<this.Qc?this.Lb>=a&&(qr(this,a),this.Qg(-1*this.Qc),b=!0,1===
this.zb?this.Fe<this.ji()?(this.Fe++,this.zb=0):c=!0:0===this.zb&&(this.zb=1)):0>=this.Lb&&(qr(this,0),this.Qg(-1*this.Qc),b=!0,1===this.zb?this.Fe<this.ji()?(this.Fe++,this.zb=0):c=!0:0===this.zb&&(this.zb=1)):e&&g&&(0<this.Qc?this.Lb>=a&&(qr(this,a),this.Qg(-1*this.Qc),b=!0,this.zb++,Zq.wrap(this.zb,0,2)):0>=this.Lb&&(qr(this,0),this.Qg(-1*this.Qc),b=!0,this.zb++,Zq.wrap(this.zb,0,2))):0<this.Qc?this.Lb>=a&&(this.Fe<this.ji()?(this.Fe++,this.Ym(0),b=!0):(qr(this,a),c=!0)):0>=this.Lb&&(this.Fe<this.ji()?
(this.Fe++,this.Ym(a),b=!0):(qr(this,0),c=!0));e=this.JM;if(c){for(c=0;c<e;c++)this.Pa[c].zx();this.hd(!0);this.Uo=this.g.Qi}else{g=this.xR;for(c=0;c<g;c++)this.mu[c].xq();if(1===this.ZD)for(c=0;c<e;c++){const k=this.Pa[c],l=k.Ng(),n=d-l;0>this.Lb-l&&0<n?(this.Lb=0>l?0:l>=a?a:l,k.Ja(l,!0,!1,b,this.xg,!1)):k.Ja(this.Lb,!0,!1,b,this.xg,!1)}else for(c=0;c<e;c++)this.Pa[c].Ja(this.Lb,!0,!1,b,this.xg,!1);for(c=0;c<g;c++)this.mu[c].vq();this.xg&&(this.xg=!1)}}EO(){var a=Br(this.oc.Iq());a=Zq.GC.ya(this,
a);this.JM=this.Pa.push(a);return a}ml(){for(const a of this.Pa)a.ml()}Ed(a){for(const b of this.Pa)for(const d of b.Xa)if(d.ba.vc===a)return d}fP(){const a=[];for(const b of this.Pa)a.push(b.I());return a.filter(b=>b)}tg(){for(const a of this.Pa)a.tg()}oa(){return{tracksJson:yr(this),name:this.Ka,playheadTime:this.za(),playbackRate:this.Qc,pingPongState:this.zb,currentRepeatCount:this.Fe,isPlaying:this.Rh,isScheduled:this.zg,initialStateSet:this.mp,finishedTriggers:this.un,complete:this.Yg,released:this.hc,
markedForRemoval:this.ms,completedTick:this.Uo,implicitPause:this.Zu,isTemplate:this.jv,tags:this.kf.join(" "),stringTags:this.LF,tagsChanged:this.qA,firstTick:this.xg}}pa(a){a&&(zr(this,a.tracksJson),this.Ka=a.name,this.Lb=a.playheadTime,this.Qc=a.playbackRate,this.zb=a.pingPongState,this.Fe=a.currentRepeatCount,this.Rh=!!a.isPlaying,this.zg=!!a.isScheduled,this.mp=!!a.initialStateSet,this.un=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Yg=!!a.complete,this.hc=!!a.released,this.ms=
!!a.markedForRemoval,this.Uo=a.completedTick,this.Zu=!!a.implicitPause,this.jv=!!a.isTemplate,this.kf=a.tags.split(" "),this.LF=a.stringTags,this.qA=!!a.tagsChanged,this.xg=!!a.firstTick)}static d1(a){const b=this.kf;return""===a?1===b.length&&""===b[0]:b.map(d=>d.toLowerCase()).includes(a.toLowerCase())}gH(){this.sK||(this.sK=Zq.m(self.wY,this));return this.sK}};"use strict";const Cr=self.A;
function Dr(a,b){if(a.Oc!==b){a.ml();a.Oc=b;a.am=b.I().Ha();a.Yl=b.Ob;a.Ta=b.C();for(const l of Er(a)){var d=l.K4;switch(l.D4.Ue()){case "instance-variable":var c=b.I(),e=Fr(c,l.name),g=Gr(c,e);c=Hr(c,e);g===l.name&&c===l.type&&d.N.ba.Vf[0]!==e&&(d.HA=e);break;case "behavior":var k=l.gG;g=a.I();c=b.I();e=d.jg(c);k&&e&&(k=k.fa(),Ir(g,k),Ir(c,k),e=e.fb,d.N.ba.Vf[0]!==e&&(d.fb=e))}}}}function ir(a){return 0===a.qc()}function jr(a){return ir(a)?(a=Jr(a.F(),a.Uw()))?!Um(a):!1:!1}
function Kr(a){if(a.Pc)return a.Pc;a.Pc=a.mb.ii().Pc;return a.Pc}function Lr(a){a.Oc||a.ia()}function*Er(a){for(const c of a.Xa){var b=c.Db(),d=a.I();const e={D4:c,K4:b};switch(c.Ue()){case "world-instance":e.Hg=c.ba.vc;break;case "instance-variable":b=b.Dt();e.name=Gr(d,b);e.type=Hr(d,b);break;case "effect":d=Mr(d.Ma,b.N.ba.Vf[0]);e.Qfa=d;break;case "behavior":d=b.jg(d);e.gG=d;break;case "plugin":e.yG=d.Ia()}yield e}}
function Nr(a,b){a:{var d=a.mb.ii().Pc;const c=d.length;for(let e=0;e<c;e++){const g=d[e];if(g.za()===b){d=g;break a}}d=void 0}return d?d:Or(b,a.mb)}function Pr(a){return a.Xa.map(b=>b.oa())}function Qr(a,b){b.forEach((d,c)=>{a.Xa[c].pa(d)})}function Rr(a,b){b=a.mb.ii().Pc[b];a.Ok=b}
Cr.GC=class extends Cr.ra{constructor(a,b){super();this.Oe=a;this.mb=b;this.Ri=b.Iq();this.am=this.Yl=NaN;this.Ta=this.Oc=null;this.qp=0<b.Ng();this.ep=this.bs=!1;this.lE=NaN;this.Ok=null;this.Pc=this.mb.ii().Pc;this.Xa=[];this.MO();this.Vh=this.nc=this.Eg=0}static ya(a,b){return Cr.m(Cr.GC,a,b)}j(){this.Pc=null;for(const a of this.Xa)a.j();Cr.G(this.Xa);this.Ok=this.mb=this.Ta=this.Oc=this.Oe=this.Xa=null}MO(){for(const a of Sr(this.mb.Id()))this.Xa.push(Cr.nb.ya(this,a))}Vm(){for(const a of this.Xa)a.Vm()}ml(){for(const a of this.Xa)a.ml();
this.Ta=this.Oc=null}bb(){return this.Oe}F(){return this.Oe.F()}Ed(a){for(let b=0;b<this.Xa.length;b++){const d=this.Xa[b];if(d.ba.vc===a)return d}}cc(){return this.Oc?!Um(this.Oc):!1}I(){if(ir(this)){var a=this.iH();if(-1!==a)return xo(this.F(),a)}}ia(){return this.Oc&&this.cc()?this.Oc:this.Oc=Jr(this.F(),this.Uw())}C(){if(this.Ta&&this.cc())return this.Ta;const a=this.ia();a&&(this.Ta=a.C());return this.Ta}Uw(){return isNaN(this.Yl)?this.mb.Uw():this.Yl}Eo(a){this.mb.Eo(a)}Yi(){return this.mb.Yi()}ik(a){this.mb.ik(a)}Ec(){return this.mb.Ec()}Xi(){return this.mb.Xi()}Ng(){return this.mb.Ng()}Lm(){return this.mb.Lm()}zC(a){this.mb.zC(a)}El(a){this.mb.El(a)}og(a){for(const b of Kr(this))b.og(a);
for(const b of this.Xa)b.og(a)}Jm(){return this.mb.Jm()}Pg(a){this.mb.Pg(a)}iH(){return isNaN(this.am)?this.mb.iH():this.am}fI(a){this.mb.fI(a)}hI(a){this.mb.hI(a)}Mg(){const a=this.ia();return a&&W(a).mi()?W(a).Mg():this.mb.Mg()}gI(a){this.mb.gI(a)}Lg(){const a=this.ia();return a&&W(a).mi()?W(a).Lg():this.mb.Lg()}qc(){return this.mb.qc()}fa(){return this.mb.fa()}jk(){for(const a of this.Xa)a.jk()}Fc(){Lr(this);if(this.cc()||!ir(this)){var a=lr(this.bb())?0:this.Lm();for(const b of this.Xa)b.Fc(a),
0===this.Eg&&1===b.Eg&&(this.Eg=1),0===this.nc&&1===b.nc&&(this.nc=1);this.Vh=0;this.Xa.some(b=>b.Vh)&&(this.Vh=1);this.Ok=Nr(this,a);this.ep=this.bs=!1;this.Ja(a);this.lC(Nr(this,a))}}pg(){Lr(this);if(this.cc()||!ir(this)){lr(this.Oe);var a=this.Oe.za()-this.Ng();this.Ok=Nr(this,a);for(const b of this.Xa)b.pg(a)}}zx(){if(!(this.bb().Yg||(Lr(this),!this.cc()&&ir(this)||this.qp))){const a=this.Oe.za();a>=this.Ng()+this.Lm()?this.Ja(this.Lm(),!0,!1,!0,!1,!1,!0):0>=a&&this.Ja(0,!0,!1,!0,!1,!1,!0)}}RC(){for(let a=
0,b=this.Xa.length;a<b;a++){const d=this.Xa[a];d.RC();0===this.Eg&&1===d.Eg&&(this.Eg=1);0===this.nc&&1===d.nc&&(this.nc=1)}}xq(){const a=this.Xa.length;for(let b=0;b<a;b++)this.Xa[b].xq()}Ja(a,b=!1,d=!1,c=!1,e=!1,g=!1,k=!1){this.Oc||this.ia();var l=0===this.mb.wa;if(!((!this.Oc||Um(this.Oc))&&l||g&&l&&this.I().wf()||(a-=this.Ng(),0>a))){a:if(g=a,b&&this.qp&&!this.bs){if(lr(this.bb())){if(0>g)break a}else if(g>this.Lm())break a;for(var n of this.Xa)n.Fc();this.bs=!0}n=a;if(!e&&b&&Cr.B.Gc){e=this.bb();
g=this.Ok.Of;l=this.Ok.za();var p=g?g.za():e.pc();if(n<=l||n>=p)this.Ok=Or(n,this.mb),lr(e)?g&&this.lC(this.Ok):(e=this.Ok.Of)&&this.lC(e)}for(let r=0,w=this.Xa.length;r<w;r++)this.Xa[r].Ja(a,d,c,k);if(b&&this.qp&&!this.ep)if(lr(this.bb())){if(a>=this.Lm()){for(const r of this.Xa)r.Ja(this.Lm(),!1,!0);this.ep=!0}}else if(0>=a){for(const r of this.Xa)r.Ja(0,!1,!0);this.ep=!0}0!==this.Eg&&(this.Ta||(this.Ta=this.Oc.C()),this.Ta&&Sl(this.Ta))}}vq(){const a=this.Xa.length;for(let b=0;b<a;b++)this.Xa[b].vq()}lC(a){if(Cr.B.Gc){var b=
this.bb(),d=b.Mb;Cr.B.Gc.H.LH(b);Cr.B.Gc.H.qaa(a);d.da(Cr.B.Gc.H.X9);d.da(Cr.B.Gc.H.lC);Cr.B.Gc.H.JH(b);Cr.B.Gc.H.faa(a)}}DO(){var a=Tr(this.mb.Id());a=Cr.nb.ya(this,a);this.Xa.push(a);return a}yB(a){for(const b of this.Xa)b.yB(a)}$q(){for(const a of this.Xa)a.$q()}Xj(){Lr(this);if(this.cc()||!ir(this))for(const a of this.Xa)a.Xj()}Yj(){Lr(this);if(this.cc()||!ir(this)){var a=!1;for(const b of this.Xa){const d=b.Yj();!a&&d&&(a=!0)}a&&(a=Ur(this.mb.ii()),a.Ah(this.bb().za()),a.og("noease"),a.Pg(!0),
a.Dx(""))}}tg(){if(!isNaN(this.lE)){var a=this.lE;if(Cr.Jb(a)&&(a=Jr(this.F(),a))){var b=this.bb(),d=this.mb.Xi(),c=this.Oe.Pa.indexOf(this);if(a)if("number"===typeof c&&0<=c){var e=b.Pa[c];e&&(Dr(e,a),Jq(b.Mb,a.I(),b))}else for(e of b.Pa)if(ir(e)){if(d){if(e.Xi()!==d)continue}else if(e.Oc)continue;Dr(e,a);Jq(b.Mb,a.I(),b);break}}}this.lE=NaN}oa(){var a=this.ia();a=a?a.Ob:this.Uw();var b=Pr(this);var d=this.mb.ii().Pc.indexOf(this.Ok);return{propertyTracksJson:b,lastKeyframeDataItemJson:d,initialStateOfNestedSet:this.bs,
endStateOfNestedSet:this.ep,instanceUid:a}}pa(a){if(a){Qr(this,a.propertyTracksJson);Rr(this,a.lastKeyframeDataItemJson);this.lE=a.instanceUid;this.bs=!1;a.hasOwnProperty.initialStateOfNestedSet&&(this.bs=a.initialStateOfNestedSet);this.ep=!1;a.hasOwnProperty.endStateOfNestedSet&&(this.ep=a.endStateOfNestedSet);for(const b of this.Xa)0===this.Eg&&1===b.Eg&&(this.Eg=1),0===this.nc&&1===b.nc&&(this.nc=1);this.Vh=0;this.Xa.some(b=>b.Vh)&&(this.Vh=1)}}};"use strict";const Vr=self.A;
function Wr(a){return Xr(a.Id(),a.ba).qc()}function Yr(a){if(a.mc)return a.mc;a.mc=Zr(a.ba).mc;return a.mc}function $r(a,b){const d=a.bb(),c=a.Bc.TB(b,a.ba);return c?c:lr(d)?a.Bc.vh(b,a.ba):as(b,a.ba)}
Vr.nb=class extends Vr.ra{constructor(a,b){super();this.tb=a;this.ba=b;this.Bc=b.Id();this.Vh=this.nc=this.Eg=0;this.Uf=this.Db();this.mc=Zr(this.ba).mc;this.mr=this.yd=null}static ya(a,b){return Vr.m(Vr.nb,a,b)}j(){this.tb=null;this.Uf&&(this.Uf.j(),this.Uf=null);this.Bc=this.ba=this.mc=null}Id(){return this.Bc}bb(){return this.tb.bb()}F(){return this.tb.F()}ia(){return this.tb.ia()}Db(){if(this.Uf)return this.Uf;let a;switch(this.ba.Ue()){case "behavior":a=new Vr.nb.RW(this);break;case "effect":a=
new Vr.nb.pX(this);this.nc=1;break;case "instance-variable":a=new Vr.nb.CY(this);break;case "plugin":a=new Vr.nb.k_(this);this.nc=1;break;case "world-instance":a=new Vr.nb.Tq(this);this.Eg=this.nc=1;break;case "value":a=new Vr.nb.t0(this);break;case "audio":a=new Vr.nb.GW(this)}return this.Uf=a}Ue(){return this.ba.Ue()}mI(a){this.ba.mI(a)}JQ(a){this.ba.Fx(a)}cI(a){this.ba.cI(a)}bI(a){this.ba.bI(a)}Jm(){return this.ba.Jm()}Pg(a){this.ba.Pg(a)}Yi(){return this.ba.Yi()}ik(a){this.ba.ik(a)}Ec(){return this.ba.Ec()}El(a){this.ba.El(a)}og(a){for(const b of Yr(this))b.og(a)}UG(){return this.ba.UG()}UB(){return Zr(this.ba).UB()}TB(a){return this.Bc.TB(a,
this.ba)}vh(a){return this.Bc.vh(a,this.ba)}Vm(){this.Db().Vm()}ml(){this.Db().ml()}uf(){return this.Db().uf()}jk(){this.Db().jk()}Fc(a){this.Db().Fc();this.yd=$r(this,a);this.RC()}pg(a){this.Db().pg();this.yd=$r(this,a)}RC(){var a=this.tb;this.Vh=0;if(ir(a)){var b=this.bb();a=a.ia();const d=this.Db(),c=this.ba.vc;d.ul()?(b=kr(b,a,d,c,this))&&b.length&&(this.Vh=1):this.Vh=0}}xq(){this.Uf.xq()}Ja(a,b=!1,d=!1,c=!1){let e,g=!1;if(b)var k=this.Bc.vh(a,this.ba);else{if(this.yd){var l=this.bb();const n=
this.yd.Of;k=this.yd.za();l=n?n.za():l.pc();if(a<=k||a>=l)this.yd=this.Bc.vh(a,this.ba),g=!0}else this.yd=this.Bc.vh(a,this.ba),g=!0;k=this.yd}k&&(e=k.Of);this.Uf.Ja(a,k,e,b,d,c,g)}lg(a){if(this.yd){var b=this.bb();const c=this.yd.Of;var d=this.yd.za();b=c?c.za():b.pc();if(a<=d||a>=b)this.yd=this.Bc.vh(a,this.ba)}else this.yd=this.Bc.vh(a,this.ba);d=this.yd;return this.Uf.lg(a,d,d.Of)}vq(){this.Uf.vq()}lB(){const a=bs(Zr(this.ba));this.yd=null;return a}yB(a){this.yd=null;cs(Zr(this.ba),a)}$q(){this.Db().$q()}Xj(){if(this.Db().Xj()){const a=
Xr(0,this.ba),b=this.Db().uf();Fs(a,b)}}Yj(){const a=this.Db().Yj();if(a){const b=this.bb().za(),d=this.Db(),c=this.Bc.vh(b,this.ba),e=this.lB();e.Fx(c.qc());e.Ah(b);e.og(c.qo());e.Pg(!0);e.ae(Gs(d));Fs(e,d.uf())}this.Db().rB();return a}oa(){return{sourceAdapterJson:this.Db().oa()}}pa(a){a&&this.Db().pa(a.sourceAdapterJson)}};"use strict";const Hs=self.A.nb;
function Gs(a){a=a.N;const b=a.tb.bb().za(),d=a.Bc.vh(b,a.ba),c=d.Of;switch(Wr(a)){case "numeric":return Hs.mx.Ja(b,d,c,a);case "angle":return Hs.mB.Ja(b,d,c,a);case "boolean":return Hs.oB.Ja(b,d,c,a);case "color":return Hs.sB.Ja(b,d,c,a);case "text":return Hs.FC.Ja(b,d,c,a)}}function Is(a){if(a.hh)return a.hh;a.hh=Js(a);return a.hh}
function Js(a){const b=a.N;switch(b.UG()?Wr(b):""){case "combo":case "boolean":case "text":case "string":return new Hs.Og.OP(a);case "numeric":case "number":case "angle":return"combo"===a.N.ba.qc()?new Hs.Og.OP(a):new Hs.Og.PP(a);case "color":case "offsetColor":return new Hs.Og.$W(a);default:return new Hs.Og.PP(a)}}
Hs.Tq=class{constructor(a){this.N=a;this.hh=null;Is(this)}j(){this.hh&&(this.hh.j(),this.hh=null);this.N=null}ul(){return this.hh.ul()}Ed(){return this.N}Vm(){this.hh&&this.hh.Vm()}ml(){this.hh&&this.hh.ml()}Dt(){}Ha(){return this.Dt()}$w(){}jk(){Is(this).jk()}Fc(){Is(this).Fc()}pg(){Is(this).pg()}xq(){this.hh.qt()}Ja(a,b,d,c,e,g,k){let l;switch(Wr(this.N)){case "numeric":l=Hs.mx.Ja(a,b,d,this.N);break;case "angle":l=Hs.mB.Ja(a,b,d,this.N);break;case "boolean":l=Hs.oB.Ja(a,b,d,this.N);break;case "color":l=
Hs.sB.Ja(a,b,d,this.N);break;case "text":l=Hs.FC.Ja(a,b,d,this.N)}this.hh.yq(a,l,b,d,c,e,g,k)}lg(a,b,d){switch(Wr(this.N)){case "numeric":return Hs.mx.Ja(a,b,d,this.N);case "angle":return Hs.mB.Ja(a,b,d,this.N);case "boolean":return Hs.oB.Ja(a,b,d,this.N);case "color":return Hs.sB.Ja(a,b,d,this.N);case "text":return Hs.FC.Ja(a,b,d,this.N)}}vq(){this.hh.pt()}$q(){var a=Is(this);a.Dj=a.uf()}rB(){Is(this).rB()}uf(){return Is(this).uf()}Xj(){return Is(this).Xj()}Yj(){return Is(this).Yj()}oa(){return{propertyAdapterJson:Is(this).oa()}}pa(a){a&&
Is(this).pa(a.propertyAdapterJson)}};"use strict";const Ks=self.A;class Ls extends Ks.nb.Tq{constructor(a){super(a);this.HA=NaN}Dt(){return this.N.ba.Vf[0]}Ha(){return this.HA?this.HA:super.Ha()}$w(){return this.N.tb.ia()}Ja(a,b,d,c,e,g,k){Is(this).TG(b.ed())&&super.Ja(a,b,d,c,e,g,k)}lg(a,b,d){if(Is(this).TG(b.ed()))return super.lg(a,b,d)}oa(){return Object.assign(super.oa(),{index:this.HA})}pa(a){a&&(super.pa(a),this.HA=a.index)}}Ks.nb.CY=Ls;"use strict";const Ms=self.A;
class Ns extends Ms.nb.Tq{constructor(a){super(a);this.fb=NaN}Dt(){return this.N.ba.Vf[1]}$w(){var a=this.N.ba,b=this.fb?this.fb:a.Vf[0];a=this.N.tb.ia();b=Os(a,b);return W(a.td[b])}jg(a){return a.nu.get(this.N.ba.Vf[2].toLowerCase())||null}Ja(a,b,d,c,e,g,k){const l=this.N.tb.ia();this.jg(l.I())&&super.Ja(a,b,d,c,e,g,k)}lg(a,b,d){const c=this.N.tb.ia();if(this.jg(c.I()))return super.lg(a,b,d)}oa(){return Object.assign(super.oa(),{sid:this.fb})}pa(a){a&&(super.pa(a),this.fb=a.sid)}}Ms.nb.RW=Ns;"use strict";
const Ps=self.A;function Qs(a){const b=a.N.tb.C().Jf;if(a=Mr(b.Ma,a.N.ba.Vf[0]))return b.wo(a.Ha())}class Rs extends Ps.nb.Tq{constructor(a){super(a)}Dt(){return this.N.ba.Vf[1]}$w(){const a=this.N.tb.C().Jf,b=Mr(a.Ma,this.N.ba.Vf[0]).Ha();return a.wo(b)?a.cP(b):null}Ja(a,b,d,c,e,g,k){Qs(this)&&super.Ja(a,b,d,c,e,g,k)}lg(a,b,d){if(Qs(this))return super.lg(a,b,d)}}Ps.nb.pX=Rs;"use strict";const Ss=self.A;
function Ts(a){const b=a.N.tb.I().Ia();if(Ss.B.dc&&b instanceof Ss.B.dc&&("initial-frame"===a.N.ba.vc||"initial-animation"===a.N.ba.vc))switch(a.N.Ec()){case "relative":return null;case "absolute":return null}}
class Us extends Ss.nb.Tq{constructor(a){super(a)}Dt(){return this.N.ba.Vf[0]}$w(){return W(this.N.tb.ia())}Ja(a,b,d,c,e,g,k){var l=this.N.tb;const n=l.I().Ia();l=l.ia().I().Ia();n===l&&super.Ja(a,b,d,c,e,g,k)}lg(a,b,d){var c=this.N.tb;const e=c.I().Ia();c=c.ia().I().Ia();if(e===c)return super.lg(a,b,d)}}Ss.nb.k_=Us;"use strict";const Vs=self.A;
class Ws extends Vs.nb.Tq{constructor(a){super(a);this.Dc=0;this.gE=!1}ul(){return!1}Fc(){this.N.Id();let a=this.N.ba;a=Xr(0,a);this.Dc=gr(a)}pg(){}ed(){this.gE||this.N.Ja(0);return this.Dc}Ja(a,b,d){this.Dc=Vs.nb.mx.Ja(a,b,d,this.N);this.gE=!0}$q(){}rB(){}uf(){return this.Dc}Xj(){return!1}Yj(){return!1}oa(){return{value:this.Dc,init:this.gE}}pa(a){a&&(this.Dc=a.value,this.gE=a.hasOwnProperty("init")?a.init:!0)}}Vs.nb.t0=Ws;"use strict";const Xs=self.A;
function Ys(a){if(self.A.B.Audio){var b;if(b=Zs.get(self.A.B.Audio)||null){if(!b.qj)throw Error("must be single-global plugin");b=b.qM}else b=null;b&&(a.Tf=W(b.sl()));a.sc=self.A.B.Audio.Sa;a.Ku=self.A.B.Audio.rf}}function $s(a){if(!a.Tg){var b=a.N.tb.Ed("audioSource");b&&(a.Tg=b.Db())}}
class at extends Xs.nb.Tq{constructor(a){super(a);this.Il=!1;this.Ku=this.sc=this.Tf=null;this.Oe=this.N.bb();this.tb=this.N.tb;this.iA=this.N.ba.Vf;this.VJ=this.iA[0];this.AM=this.iA[1];this.hj=this.iA[3]?this.iA[3]:Math.random().toString(36).slice(2);this.gl=this.ws=this.Ip=NaN;this.Tg=null;Ys(this)}j(){super.j();this.Tg=this.VJ=this.iA=this.tb=this.Oe=this.Ku=this.sc=this.Tf=null}Vm(){super.Vm();this.Il=!1;this.Tf&&(this.Ku&&(this.Ip=this.Ku.kQ.call(this.Tf,this.hj),this.ws=this.Ku.VQ.call(this.Tf,
this.hj)),this.sc&&this.sc.hd.call(this.Tf,this.hj))}Sm(a){this.gl=a}Fc(){super.Fc();this.Ip=NaN;this.Il=!1}pg(){super.pg();const a=this.N.bb().za();this.Ip=a-this.AM;switch(this.N.ba.vc){case "volume":this.ws=this.N.lg(a)}this.Il=!1}Ja(a,b,d,c,e,g,k){if(this.Tf)switch(this.N.ba.vc){case "audioSource":if(!lr(this.Oe))break;if(c){this.sc&&this.sc.hd.call(this.Tf,this.hj);break}if(a<this.AM){this.Il=!1;break}b=this.Ku.IH.call(this.Tf,this.hj);d=this.Oe.Qc;d!==b&&this.sc.Qg.call(this.Tf,this.hj,d);if(this.Il)break;
if(!this.N.bb().IsPlaying())break;this.Il=!0;isNaN(this.Ip)?(b=self.performance.now(),a-=this.AM,"suspended"===bt(this.Tf)?this.Il=!1:(a+=(self.performance.now()-b)/1E3,this.sc&&(b=this.gl,isNaN(b)?(this.Sm(0),b=0):this.Sm(b),this.sc.jQ.call(this.Tf,this.VJ,b,this.hj,a)))):(a=this.Ip,this.Ip=NaN,b=(b=this.N.tb.Ed("volume"))?b.Db().ws:this.ws,this.ws=NaN,"suspended"===bt(this.Tf)?this.Il=!1:this.sc&&(this.Sm(b),this.sc.jQ.call(this.Tf,this.VJ,b,this.hj,a)));break;case "volume":$s(this),super.Ja(a,
b,d,c,e,g,k)}}lg(a,b,d){if(this.Tf)switch(this.N.ba.vc){case "volume":return $s(this),super.lg(a,b,d)}}iP(){return this.Tg?this.Tg.gl:0}O_(a,b){this.Tg&&this.Tg.Sm(this.iP()+b);this.sc&&this.Tg&&this.sc.Sm.call(this.Tf,this.Tg.hj,this.Tg.gl)}tW(a,b){this.Tg&&this.Tg.Sm(b);this.sc&&this.Tg&&this.sc.Sm.call(this.Tf,this.Tg.hj,this.Tg.gl)}oa(){return{audioPlaybackStarted:this.Il,audioTag:this.hj,pauseTime:this.Ip,pauseVolume:this.ws,volume:this.gl}}pa(a){a&&(this.Il=a.audioPlaybackStarted,this.hj=a.audioTag,
this.Ip=a.pauseTime,this.ws=a.pauseVolume,this.gl=a.volume,Ys(this))}}Xs.nb.GW=at;"use strict";function ct(a,b,d){return lr(a.N.bb())?b():d()}function dt(a,b,d){return"relative"===a.N.Ec()?b():d()}function et(a){if(a.Yv)return a.Yv;a.Yv=a.Uf.$w();return a.Yv}function ft(a,b=!1){const d=[];for(const c of a){a=c.tb.Ng();for(const e of Yr(c))b&&0===e.za()?d.push({time:a+e.za(),value:e.ej}):b||d.push({time:a+e.za(),value:e.ej})}return d.sort((c,e)=>c.time-e.time)}
function gt(a,b){for(let d=b.length-1;0<=d;d--)if(b[d].time<=a)return b[d];return null}
self.A.nb.Og=class{constructor(a){this.Uf=a;this.N=a.Ed();this.Ta=this.N.tb.C();this.vc=this.N.ba.vc;this.Mu=!1;this.Yv=this.Dj=null}j(){this.Yv=this.Dj=this.Ta=this.N=this.Uf=null}ul(){return!1}Vm(){}ml(){this.Yv=this.Dj=this.Ta=null}Db(){return this.Uf}Ed(){return this.N}C(){return this.Ta?this.Ta:this.Ta=this.N.tb.C()}jk(){}Fc(){}pg(){}rB(){this.Dj=null}uf(){}Xj(){}Yj(){}TG(a){return typeof this.Xm()===typeof a}qt(){}yq(){}pt(){}ir(){return ct(this,()=>{const a=this.N.ba;return Xr(this.N.Id(),
a)},()=>{const a=this.N.ba;return this.N.Id().Zi(a)}).ej}LC(){const a=this.N.bb().za()-this.N.tb.Ng();return ct(this,()=>{const b=this.N.ba;return this.N.Id().vh(a,b)},()=>{const b=this.N.ba,d=this.N.Id(),c=as(a,b);return c?c:d.Zi(b)}).ej}MC(){}sg(){return this.Uf.Ha()}oa(){return{firstAbsoluteUpdate:this.Mu,saveState:this.Dj}}pa(a){a&&(this.Mu=a.firstAbsoluteUpdate,this.Dj=a.saveState)}};"use strict";const ht=self.A,it=new Map,jt=[0,0,0];
function kt(a){return ht.Mq(a,ht.gb)?a.toArray().slice(0,3):a.slice(0,3)}function lt(a,b){a=mt(a);b=mt(b);return $b(a,b)}function mt(a){return ht.Mq(a,ht.gb)?a:new ht.gb(a[0],a[1],a[2],1)}function nt(a,b,d){a=it.get(a).get(b).get(d);a.iW=!0;return a.color}
class ot extends ht.nb.Og{constructor(a){super(a)}jk(){}Fc(){}pg(){}uf(){const a=this.N.Ue(),b=et(this),d=this.sg();switch(a){case "behavior":return kt(b.dd(d));case "effect":return kt(b[d]);case "plugin":return kt(b.dd(d));case "world-instance":return kt(this.Xm())}}Xj(){const a=this.ir();return!lt(a,this.Xm())}Yj(){return ht.xf(this.Dj)?!1:!lt(this.Dj,this.Xm())}ir(){const a=super.ir();return mt(a)}LC(){const a=super.LC();return mt(a)}MC(){}TG(){return!0}ul(){return!0}qt(){var a=this.N.bb(),b=this.N.ia();
const d=this.N.Db();(a=kr(a,b,d,this.vc,this.N))&&1<a.length&&(it.has(b)||it.set(b,new Map),b=it.get(b),a=this.N.Ue(),b.has(a)||b.set(a,new Map),b=b.get(a),b.has(this.vc)||b.set(this.vc,{iW:!1,color:new ht.gb(0,0,0,1)}))}yq(a,b){var d=this.N.bb(),c=this.N.tb;a=this.N.ia();var e=this.N.Db();const g=this.N.Ue();if((e=kr(d,a,e,this.vc,this.N))&&1<e.length){if(e=ft(e,!0),d=d.za(),d=gt(d,e))e=d.time-c.Ng(),0===e?Xb(nt(a,g,this.vc),b[0],b[1],b[2]):0>e||(d=b[0],c=b[1],b=b[2],e=this.N.Ja(e,!1,!0),d=gc(d,
e[0]),c=gc(c,e[1]),b=gc(b,e[2]),Xb(nt(a,g,this.vc),d,c,b))}else this.Gl(b[0],b[1],b[2])}pt(){const a=this.N.ia();if(it.has(a)){var b=it.get(a),d=this.N.Ue();if(b.has(d)){var c=b.get(d);if(c.has(this.vc)){var e=c.get(this.vc),g=e.color;e.iW&&this.Gl(g.$a,g.eb,g.Za);0===c.size&&b.delete(d);0===b.size&&it.delete(a)}}}}Xm(){const a=this.N.Ue(),b=et(this),d=this.sg();switch(a){case "behavior":return mt(b.dd(d));case "effect":return b[d].clone();case "plugin":return mt(b.dd(d));case "world-instance":return this.C().rb.clone()}}Gl(a,
b,d){var c=this.N.Ue();const e=et(this),g=this.sg();switch(c){case "behavior":jt[0]=a;jt[1]=b;jt[2]=d;e.si(g,jt);break;case "effect":Wb(e[g],a,b,d);break;case "plugin":jt[0]=a;jt[1]=b;jt[2]=d;e.si(g,jt);break;case "world-instance":c=this.C(),Wb(pt,a,b,d),qt(c,pt)}}oa(){}pa(){}}ht.nb.Og.$W=ot;"use strict";const rt=self.A,st=rt.nb;
class tt extends rt.nb.Og{constructor(a){super(a)}jk(){}Fc(){}pg(){}uf(){return this.Xm()}Xj(){return this.ir()!==this.uf()}Yj(){return rt.xf(this.Dj)?!1:this.Dj!==this.uf()}ul(){return!1}yq(a,b){const d=this.N,c=d.tb,e=d.Ue();var g=d.bb();const k=c.ia(),l=d.Db();(g=kr(g,k,l,this.vc,d))&&1<g.length&&(g=ft(g),a=gt(a+c.Ng(),g))&&(b=a.value);switch(Wr(d)){case "numeric":if(!st.mx.Wm(this.sg(),et(this),b,e))return;break;case "angle":if(!st.mB.Wm(this.sg(),et(this),b,e))return;break;case "boolean":if(!st.oB.Wm(this.sg(),
et(this),b,e))return;break;case "color":if(!st.sB.Wm(this.sg(),et(this),b,e))return;break;case "text":if(!st.FC.Wm(this.sg(),et(this),b,e))return}this.Gl(b)}Xm(){const a=this.N.Ue(),b=et(this),d=this.sg();switch(a){case "behavior":return b.dd(d);case "effect":return b[d];case "instance-variable":return ut(b,d);case "plugin":return b.dd(d)}}Gl(a){const b=this.N.Ue(),d=et(this),c=this.sg();switch(b){case "behavior":d.si(c,a);break;case "effect":d[c]=a;break;case "instance-variable":d.Fo(c,a);break;
case "plugin":d.si(c,a)}}}rt.nb.Og.OP=tt;"use strict";const vt=self.A,wt=new Map,xt=(a,b,d,c,e,g=!1,k=null,l=null)=>{wt.set(a,{qO:b,o3:d,W3:c,round:e,K3:g,init:k,reset:l})};xt("offsetX",(a,b,d,c)=>{"relative"===c.N.Ec()?yt(a,b,d.bb().YB()):yt(a,b)},(a,b)=>a.mk(b),a=>a.Da(),!0);xt("offsetY",(a,b,d,c)=>{"relative"===c.N.Ec()?zt(a,b,d.bb().YB()):zt(a,b)},(a,b)=>a.nk(b),a=>a.Ea(),!0);
xt("offsetWidth",(a,b,d,c,e)=>{if(0!==b){var g=1===c.dl.qc();if(("relative"===c.N.Ec()||g)&&a.vf()&&At(a)){if(isNaN(c.fj)){const l=[];for(var k=a.Fa();k;)l.push(k),k=k.Fa();l.reverse();k=(p,r)=>{if(r=xr(r.bb(),p.ia()))return r.Mg();r=W(p.ia());return r.mi()?r.Mg():Bt(p.Ga)};const n=(p,r,w,x=0)=>{p=xr(r.bb(),p.ia());if(!p)return x;w=p.Ed(w);if(!w)return x;w=Zr(w.ba);return w?(w=w.Zi())?w.ed():x:x};if(g)g=l[l.length-1].M();else{let p=l[0];g=Bt(p.Ga)*p.Ga.Tv;g+=n(p,d,"offsetWidth");g+=k(p,d)*n(p,d,"offsetScaleX");
for(let r=1;r<l.length;r++)p=l[r],g*=p.Ga.Tv,g+=n(p,d,"offsetWidth"),g+=k(p,d)*n(p,d,"offsetScaleX")}c.fj=0===g?Number.EPSILON:g}e||a.gk(b/c.fj,!0)}else a.gk(b)}},(a,b)=>a.qg(b),a=>a.M(),!0);
xt("offsetHeight",(a,b,d,c,e)=>{if(0!==b){var g=1===c.dl.qc();if(("relative"===c.N.Ec()||g)&&a.vf()&&Ct(a)){if(isNaN(c.fj)){const l=[];for(var k=a.Fa();k;)l.push(k),k=k.Fa();l.reverse();k=(p,r)=>{if(r=xr(r.bb(),p.ia()))return r.Lg();r=W(p.ia());return r.mi()?r.Lg():Dt(p.Ga)};const n=(p,r,w,x=0)=>{p=xr(r.bb(),p.ia());if(!p)return x;w=p.Ed(w);if(!w)return x;w=Zr(w.ba);return w?(w=w.Zi())?w.ed():x:x};if(g)g=l[l.length-1].K();else{let p=l[0];g=Dt(p.Ga)*p.Ga.Uv;g+=n(p,d,"offsetHeight");g+=k(p,d)*n(p,d,
"offsetScaleY");for(let r=1;r<l.length;r++)p=l[r],g*=p.Ga.Uv,g+=n(p,d),g+=k(p,d)*n(p,d,"offsetScaleY")}c.fj=0===g?Number.EPSILON:g}e||Et(a,b/c.fj,!0)}else Et(a,b)}},(a,b)=>a.zh(b),a=>a.K(),!0);xt("offsetAngle",(a,b)=>{b=+b;0!==b&&a.Qm()&&(a.Wa=Ft.Wd(a.Wa+b),Gt(a))},(a,b)=>a.Be(b),a=>a.Ra(),!1,!0);
xt("offsetOpacity",(a,b,d,c)=>{b/=c.Jz?c.Jz:1;d=a.ac()+b;0===c.kd?(1<d?c.kd+=d-1:0>d&&(c.kd+=d),Ht(a)?a.De(a.Ga.dm+b):a.De(a.ac()+b)):(a=a.ac()+b,0<b&&0<c.kd?1<a&&(c.kd+=a-1):0<b&&0>c.kd?(c.kd+=b,0<c.kd&&(c.kd=0)):0>b&&0<c.kd?(c.kd+=b,0>c.kd&&(c.kd=0)):0>b&&0>c.kd&&0>a&&(c.kd+=a))},(a,b)=>{a.De(b)},a=>a.ac(),!1,!0,(a,b,d)=>{a.kd=0;switch(a.N.Ec()){case "relative":a.N.Id();var c=Zr(a.N.ba).mc,e=a.C().ac(),g=e;for(var k of c)g=k.za(),g=a.N.lg(g),g=e+g,g=vt.V(g,0,1);a.bw=e-g;a.bw=Math.round(100*(a.bw+
Number.EPSILON))/100;g=e;for(e=c.length-1;0<=e;e--)k=c[e].za(),k=a.N.lg(k),g-=k,g=vt.V(g,0,1);a.aw=g;a.aw=Math.round(100*(a.aw+Number.EPSILON))/100}c=1===a.dl.qc();if(("relative"===a.N.Ec()||c)&&b.vf()&&Ht(b)){c=[];for(b=b.Fa();b;)c.push(b),b=b.Fa();c.reverse();b=(l,n,p)=>{l=xr(n.bb(),l.ia());if(!l)return 0;p=l.Ed(p);if(!p)return 0;p=Zr(p.ba);return p?(p=p.Zi())?p.ed():0:0};g=c[0].Ga.IF;g+=b(c[0],d,"offsetOpacity");for(e=1;e<c.length;e++)g+=b(c[e],d,"offsetOpacity");a.Jz=0===g?1:g}},a=>{switch(a.N.Ec()){case "relative":a.kd=
0;const b=a.C();let d=b.ac();d=Math.round(100*(d+Number.EPSILON))/100;lr(a.N.bb())?(b.De(d+a.bw),a.Yb=0):(b.De(d-a.aw),a.Yb=Gs(a.Db()))}});xt("offsetOriginX",(a,b)=>{a.Qk+=+b},(a,b)=>{a.Qk=+b},a=>a.$i(),!1);xt("offsetOriginY",(a,b)=>{a.Rk+=+b},(a,b)=>{a.Rk=+b},a=>a.aj(),!1);xt("offsetZElevation",(a,b)=>{a.Rg(a.jb()+b)},(a,b)=>a.Rg(b),a=>a.jb(),!0);
xt("offsetScaleX",(a,b,d,c)=>{if(0!==b){var e=0>a.M()?-1:1;"relative"===c.N.Ec()&&a.vf()&&At(a)?(b*=d.Mg()*e,isNaN(c.fj)&&wt.get("offsetWidth").qO(a,1,d,c,!0),a.gk(b/c.fj,!0)):a.gk(d.Mg()*e*b)}},(a,b,d)=>{a.qg(d.Mg()*b)},(a,b)=>{const d=0>a.M()?-1:1;if(At(a)){var c=a.Fa(),e=xr(b.bb(),c.ia());e?c=c.M()/e.Mg():(e=W(c.ia()),c=e.mi()?c.M()/e.Mg():1);return a.M()*d/(b.Mg()*c)}return a.M()*d/b.Mg()},!1);
xt("offsetScaleY",(a,b,d,c)=>{if(0!==b){var e=0>a.K()?-1:1;"relative"===c.N.Ec()&&a.vf()&&Ct(a)?(b*=d.Lg()*e,isNaN(c.fj)&&wt.get("offsetHeight").qO(a,1,d,c,!0),Et(a,b/c.fj,!0)):Et(a,d.Lg()*e*b)}},(a,b,d)=>{a.zh(d.Lg()*b)},(a,b)=>{const d=0>a.K()?-1:1;if(Ct(a)){var c=a.Fa(),e=xr(b.bb(),c.ia());e?c=c.K()/e.Lg():(e=W(c.ia()),c=e.mi()?c.K()/e.Lg():1);return a.K()*d/(b.Lg()*c)}return a.K()*d/b.Lg()},!1);
function It(a,b,d,c){var e=a.N.Yi();e="default"===e?"continuous":e;if("discrete"!==e||d){if("discrete"===e&&c&&(d=a.N.bb().za(),!a.N.TB(d)))return;d=et(a);c=a.sg();e=a.C();var g=a.N.tb;switch(a.N.Ue()){case "behavior":d.si(c,b);break;case "effect":d[c]=b;break;case "instance-variable":d.Fo(c,b);break;case "plugin":d.si(c,b,Ts(a.Db()));break;case "world-instance":a.CK(e,b,g);break;case "audio":a.sM.call(a.Db(),e,b,g)}}}
function Jt(a,b,d,c){switch(a.N.ba.qc()){case "angle":b=vt.Vj(b)}var e=(b.toString().split(".")[1]||"").length;b=a.Xm();if(0===e)if(a.xF)e=Math.round(b);else if(a.SJ)switch(a.N.ba.qc()){case "angle":e=vt.ib(Math.round(vt.Vj(b)));break;default:e=Number(vt.toFixed(b,2))}else e=b;else e=a.xF?Number(vt.toFixed(b,e)):b;a.Gl(e-b,d,c);switch(a.N.ba.vc){case "offsetWidth":case "offsetScaleX":a=a.C();d=a.M();a.gk(Number(vt.toFixed(d,2))-d);break;case "offsetHeight":case "offsetScaleY":a=a.C(),d=a.K(),Et(a,
Number(vt.toFixed(d,2))-d)}}
class Kt extends vt.nb.Og{constructor(a){super(a);this.aw=this.bw=this.kd=this.Yb=0;this.fj=this.Jz=NaN;this.tR=this.uR=void 0;this.sM=this.uM=this.tM=this.hE=this.vF=this.CK=this.EK=this.DK=null;this.SJ=this.xF=!1;this.dl=vt.Mq(this.N.bb(),vt.Dh)?new vt.nb.Og.kZ(this):new vt.nb.Og.jZ(this);const b=this.N.ba.vc;switch(this.N.Ue()){case "world-instance":a=wt.get(b);this.DK=a.W3;this.EK=a.qO;this.CK=a.o3;this.xF=a.round;this.SJ=a.K3;this.hE=a.init;this.vF=a.reset;break;case "audio":this.tM=a.iP,this.uM=
a.O_,this.sM=a.tW,this.xF=!0,this.SJ=!1}}j(){this.sM=this.uM=this.tM=this.hE=this.vF=this.CK=this.EK=this.DK=this.dl=null;super.j()}ul(){return this.dl.ul()}jk(){this.vF&&this.vF(this)}Fc(){var a=this.dl.Fc();"number"===typeof a&&(this.Yb=a);this.hE&&(a=this.C(),this.hE(this,a,this.N.tb))}pg(){const a=this.dl.pg();"number"===typeof a&&(this.Yb=a)}uf(){return this.Xm()}Xj(){return this.ir()!==this.uf()}Yj(){return vt.xf(this.Dj)?!1:this.Dj!==this.uf()}qt(){this.dl.qt()}yq(a,b,d,c,e,g,k,l){return this.dl.yq(a,
b,d,c,e,g,k,l)}pt(){this.dl.pt()}Xm(){const a=et(this),b=this.sg(),d=this.C(),c=this.N.tb;switch(this.N.Ue()){case "behavior":return a.dd(b);case "effect":return a[b];case "instance-variable":return ut(a,b);case "plugin":return a.dd(b);case "world-instance":return this.DK(d,c);case "audio":return this.tM.call(this.Db(),d,c)}}Gl(a){var b=et(this),d=this.sg(),c=this.C();const e=this.N.tb;switch(this.N.Ue()){case "behavior":b.GH(d,a);break;case "effect":b[d]+=a;break;case "instance-variable":if(0!==
a){d|=0;b=b.bh;if(0>d||d>=b.length)throw new RangeError("invalid instance variable");c=b[d];if("number"===typeof c)b[d]="number"===typeof a?b[d]+a:b[d]+parseFloat(a);else{if("boolean"===typeof c)throw Error("can not set offset of boolean variable");if("string"===typeof c)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}break;case "plugin":b.GH(d,a,Ts(this.Db()));break;case "world-instance":this.EK(c,a,e,this);break;case "audio":this.uM.call(this.Db(),
c,a,e,this)}}bu(a,b,d,c,e,g,k,l){this.dl.bu(a,b,d,c,e,g,k,l)}oa(){return Object.assign(super.oa(),{v:this.Yb,a:this.kd,fod:this.bw,bod:this.aw,of:this.Jz,sf:this.fj,armorf:this.uR,armandf:this.tR})}pa(a){a&&(super.pa(a),this.Yb=a.v,this.kd=a.a,this.bw=vt.Jb(a.fod)?a.fod:0,this.aw=vt.Jb(a.bod)?a.bod:0,this.Jz=vt.Jb(a.of)?a.of:NaN,this.fj=vt.Jb(a.sf)?a.sf:NaN,this.uR=vt.Jb(a.armorf)?a.armorf:void 0,this.tR=vt.Jb(a.armandf)?a.armandf:void 0)}}vt.nb.Og.PP=Kt;"use strict";
class Mt{constructor(a){this.XF=!1;this.Dc=0;this.PJ=this.oF=!1;this.Xa=a;for(let b=0,d=this.Xa.length;b<d;b++)this.Xa[b].mr=this}ae(a){this.Dc=a}ed(){return this.Dc}zx(a){this.PJ=a}Tb(){this.XF=!1;this.Dc=0;this.PJ=this.oF=!1}}
class Nt{constructor(a){this.df=a}j(){this.df=null}qc(){return 0}Fc(){const a=this.df;this.df.Ed();return dt(a,()=>ct(a,()=>0,()=>Gs(a.Db())),()=>{})}pg(){}ul(){switch(this.df.Ed().Ec()){case "relative":return!1;case "absolute":return!0}}qt(){var a=this.df.Ed();const b=a.ba.vc;switch(a.Ec()){case "absolute":if(a.mr)a.mr.Tb();else{const d=a.bb(),c=a.ia(),e=a.Db();(a=kr(d,c,e,b,a))&&1<a.length&&new Mt(a)}}}yq(a,b,d,c,e,g,k,l){var n=this.df,p=this.df.Ed();switch(p.Ec()){case "relative":k=n.Yb;n.Gl(b-
k,d,c);g&&this.bu(a,d,c,e,k,b);n.Yb=b;break;case "absolute":if(d=p.bb(),a=p.tb,p.ia(),p.Db(),p.mr){if(n=p.mr,c=ft(n.Xa,!0),d=d.za(),d=gt(d,c))a=d.time-a.Ng(),0===a?(n.zx(k),n.oF=l,n.XF=!0,n.ae(n.ed()+b)):0>a||(p=p.lg(a),n.zx(k),n.oF=l,n.XF=!0,n.ae(n.ed()+(b-p)))}else It(n,b,l,k)}}pt(){const a=this.df;var b=this.df.Ed();switch(b.Ec()){case "absolute":b.mr&&(b=b.mr,b.XF&&It(a,b.ed(),b.oF,b.PJ))}}bu(a,b,d,c,e,g){const k=this.df;c||(b&&a===b.za()?Jt(k,gr(b),b,d):d&&a===d.za()?Jt(k,gr(d),b,d):0===g-e&&
Jt(k,gr(b),b,d))}}self.A.nb.Og.jZ=Nt;"use strict";
class Ot{constructor(a){this.df=a}j(){this.df=null}qc(){return 1}Fc(){const a=this.df;a.Mu=!0;return this.MC(a.ir())}pg(){const a=this.df;if(a.ir()!==a.LC())return a.Mu=!0,this.MC(a.LC())}ul(){return!1}qt(){}yq(a,b,d,c,e,g,k){const l=this.df,n=l.Yb;switch(l.Ed().Ec()){case "relative":l.Gl(b-n,d,c);g&&this.bu(a,d,c,e,n,b,!1,k);break;case "absolute":if(l.Mu)l.Mu=!1,l.Gl(n,d,c);else if(0===a&&0===l.Ed().bb().pc())It(l,b,!0,!1);else if(l.Gl(b-n,d,c),g){g=this.bu;var p=this.df;const w=p.C().ia();var r=
p.Ed().F().Mb;p=0;for(const x of Iq(r))if(0===x.qc()){a:{for(const z of x.Pa)if(ir(z)&&w===z.ia()){r=!0;break a}r=!1}r&&p++}else 1===x.qc()&&x.ia()===w&&p++;g.call(this,a,d,c,e,n,b,1>=p,k)}}l.Yb=b}pt(){}MC(a){return a-this.df.uf()}bu(a,b,d,c,e,g){const k=this.df;c?b&&a===b.za()?Jt(k,gr(b),b,d):d&&a===d.za()?Jt(k,gr(d),b,d):d||Jt(k,gr(b),b,d):b&&a===b.za()?Jt(k,gr(b),b,d):d&&a===d.za()?Jt(k,gr(d),b,d):0===g-e&&Jt(k,gr(b),b,d)}}self.A.nb.Og.kZ=Ot;"use strict";const Pt=self.A,Qt=self.Fm;
Pt.nb.mx=class{constructor(){}static Wm(a,b,d,c){let e;switch(c){case "behavior":e=b.dd(a);break;case "effect":e=b[a];break;case "instance-variable":e=ut(b,a);break;case "plugin":e=b.dd(a)}return e===d?!1:!0}static Ja(a,b,d,c){if(!d){var e=c.ba;e=c.Id().Zi(e);return gr(e)}let g=c.Yi();"default"===g&&(g="continuous");"combo"===c.ba.qc()&&(g="discrete");if("discrete"===g)return gr(b);if("continuous"===g||"step"===g){const l=c.bb().Yw();"step"===g&&0!==l&&(e=1/l,a=Math.floor(a*e)/e);e=gr(b);const n=
gr(d),p=fr(b,"cubic-bezier"),r=fr(d,"cubic-bezier");var k=p&&p.nA&&r&&r.Jy;if(!k&&e===n)return e;const w=b.za();d=d.za();"step"===g&&0!==l&&(a=Pt.V(a,w,d));a=Pt.normalize(a,w,d);b=b.qo();k?(k=d-w,b=Qt.Mm(b)(k*a,0,1,k),b=Qt.Mm("cubicbezier")(b,e,e+p.mA,n+r.Iy,n)):b=Qt.Mm(b)((d-w)*a,e,n-e,d-w);return"integer"===c.ba.qc()?Math.floor(b):b}}};"use strict";const Rt=self.A;
Rt.nb.mB=class{constructor(){}static Wm(a,b,d,c){let e;switch(c){case "behavior":e=b.dd(a);break;case "effect":e=b[a];break;case "instance-variable":e=ut(b,a);break;case "plugin":e=b.dd(a)}return e===d?!1:!0}static Ja(a,b,d,c){if(!d)return b=c.ba,b=c.Id().Zi(b),gr(b);var e=c.Yi();"default"===e&&(e="continuous");"combo"===c.ba.qc()&&(e="discrete");if("discrete"===e)return gr(b);if("continuous"===e||"step"===e){var g=c.bb().Yw();"step"===e&&0!==g&&(c=1/g,a=Math.floor(a*c)/c);const k=b.za(),l=d.za();
c=gr(b);d=gr(d);"step"===e&&0!==g&&(a=Rt.V(a,k,l));if(e=fr(b,"angle")){g=e.gM;if(c===d&&0===g)return c;a=Rt.normalize(a,k,l);b=self.Fm.Mm(b.qo())(a,0,1,1);switch(e.KJ){case "closest":return Rt.iN(c,d,b,g);case "clockwise":return Rt.r3(c,d,b,g);case "anti-clockwise":return Rt.q3(c,d,b,g)}}else{if(c===d)return c;a=Rt.normalize(a,k,l);b=self.Fm.Mm(b.qo());return Rt.iN(c,d,b(a,0,1,1))}}}};"use strict";
self.A.nb.oB=class{constructor(){}static Wm(a,b,d,c){let e;switch(c){case "behavior":e=b.dd(a);break;case "effect":e=b[a];break;case "instance-variable":e=ut(b,a);break;case "plugin":e=b.dd(a)}return!!e===!!d?!1:!0}static Ja(a,b,d,c){return d?gr(b)?1:0:(a=c.ba,a=c.Id().Zi(a),gr(a)?1:0)}};"use strict";const St=self.A,Tt=[0,0,0],Ut=[0,0,0],ec=[0,0,0];
St.nb.sB=class{constructor(){}static Wm(a,b,d,c){let e;switch(c){case "behavior":e=b.dd(a);break;case "effect":e=b[a];break;case "instance-variable":e=ut(b,a);break;case "plugin":e=b.dd(a)}Array.isArray(d)?(Tt[0]=d[0],Tt[1]=d[1],Tt[2]=d[2]):(dc(d),Tt[0]=Math.floor(255*ec.$a),Tt[1]=Math.floor(255*ec.eb),Tt[2]=Math.floor(255*ec.Za));Array.isArray(e)?(Ut[0]=e[0],Ut[1]=e[1],Ut[2]=e[2]):(dc(e),Ut[0]=Math.floor(255*ec.$a),Ut[1]=Math.floor(255*ec.eb),Ut[2]=Math.floor(255*ec.Za));return Tt[0]!==Ut[0]||Tt[1]!==
Ut[1]||Tt[2]!==Ut[2]?!0:!1}static Ja(a,b,d,c){if(!d)return b=c.ba,b=c.Id().Zi(b),b=gr(b),Tt[0]=b[0],Tt[1]=b[1],Tt[2]=b[2],Tt;var e=c.Yi();"default"===e&&(e="continuous");if("discrete"===e)return b=gr(b),Tt[0]=b[0],Tt[1]=b[1],Tt[2]=b[2],Tt;if("continuous"===e||"step"===e){var g=c.bb().Yw();"step"===e&&0!==g&&(c=1/g,a=Math.floor(a*c)/c);c=b.za();var k=d.za(),l=gr(b);d=gr(d);"step"===e&&0!==g&&(a=St.V(a,c,k));g=St.normalize(a,c,k);a=l[0];e=l[1];l=l[2];const n=d[0],p=d[1];d=d[2];b=self.Fm.Mm(b.qo());
c=k-c;k=c*g;Tt[0]=a===n?a:b(k,a,n-a,c);Tt[1]=e===p?e:b(k,e,p-e,c);Tt[2]=l===d?l:b(k,l,d-l,c);return Tt}}};"use strict";self.A.nb.FC=class{constructor(){}static Wm(a,b,d,c){let e;switch(c){case "behavior":e=b.dd(a);break;case "effect":e=b[a];break;case "instance-variable":e=ut(b,a);break;case "plugin":e=b.dd(a)}return e===d?!1:!0}static Ja(a,b,d,c){return d?gr(b):(a=c.ba,a=c.Id().Zi(a),gr(a))}};"use strict";const Vt=self.A;
function Wt(a,b,d,c,e){let g;if("function"===typeof c)switch(a){case "load":g=new c(null,e);break;case "create":g=new c(b,e);break;case "create-including-disabled":g=new c(b,e)}else if("object"===typeof c)switch(c=c.map.get(b[c.LV]),a){case "load":g=new c(null,e);break;case "create":g=new c(b,e);break;case "create-including-disabled":g=new c(b,e)}switch(a){case "load":g.pa(b);d.push(g);break;case "create":if("function"===typeof g.Jm&&!g.Jm()){g.j();break}d.push(g);break;case "create-including-disabled":d.push(g)}}
function Xt(a,b,d,c){if(b)for(const e of b)Wt("create",e,a,d,c)}function Yt(a,b,d,c){a.length?b.forEach((e,g)=>{a[g].pa(e)}):b.forEach(e=>{Wt("load",e,a,d,c)})}Vt.e0=class{constructor(){this.vA=new Map}j(){for(const a of this.vA.values())a.j();this.vA.clear();this.vA=null}Bb(a){a=new Vt.QQ(a);this.vA.set(a.fa(),a)}U(a){return this.vA.get(a)}};"use strict";const Zt=self.A;
Zt.QQ=class{constructor(a){this.Ka="";this.Ps=NaN;this.oA=0;this.Qf=this.Kf="default";this.Pz=this.zz=!1;this.Fs=1;this.Ri=null;this.HF="";this.QF=!1;this.WF=!0;a&&(this.Ka=a[0],this.Ps=a[1],this.oA=a[2],this.Kf=a[3],this.Qf=a[4],this.zz=!!a[6],this.Pz=!!a[7],this.Fs=a[8],this.HF=a[9],this.QF=!!a[10],this.WF=!!a[11],this.Ri=new Zt.RQ(a[5],this))}j(){this.Ri.j();this.Ri=null}Iq(){this.Ri||(this.Ri=new Zt.RQ(null,this));return this.Ri}fa(){return this.Ka}BC(a){this.Ka=a}pc(){return this.Ps}Xt(a){this.Ps=
a}Yw(){return this.oA}nI(a){this.oA=a}Yi(){return this.Kf}ik(a){this.Kf=a}Ec(){return this.Qf}El(a){this.Qf=a}Gq(){return this.zz}AC(a){this.zz=a}to(){return this.Pz}iI(a){this.Pz=a}ji(){return this.Fs}jI(a){this.Fs=a}kH(){return this.HF}YB(){return this.QF}lH(){return this.WF}oa(){return{trackDataJson:this.Ri.oa(),name:this.Ka,totalTime:this.Ps,step:this.oA,interpolationMode:this.Kf,resultMode:this.Qf,loop:this.zz,pingPong:this.Pz,repeatCount:this.Fs,startOnLayout:this.HF,transformWithSceneGraph:!!this.QF,
useSystemTimescale:this.WF}}pa(a){a&&(this.Iq().pa(a.trackDataJson),this.Ka=a.name,this.Ps=a.totalTime,this.oA=a.step,this.Kf=a.interpolationMode,this.Qf=a.resultMode,this.zz=a.loop,this.Pz=a.pingPong,this.Fs=a.repeatCount,this.HF=a.startOnLayout,this.QF=!!a.transformWithSceneGraph,this.WF=!!a.useSystemTimescale)}};"use strict";const $t=self.A;
class au{constructor(a,b){this.Ri=b;this.Hh=this.kE=null;this.am=this.Yl=NaN;this.Qf=this.Kf="default";this.Pd=!1;this.Bc=this.rj=null;this.Rd="";this.Ev=null;this.zM=0;this.yz=this.Ri.oc.pc();this.wa=0;this.Ka="";a&&(a[0]&&(this.kE=a[0],this.Yl=a[0][2],this.am=a[0][1]),this.Kf=a[1],this.Qf=a[2],this.Pd=!!a[3],a[6]&&(this.Rd=a[6]),a[7]&&(this.Ev=a[7],this.zM=a[7][0],this.yz=a[7][1]),a[8]&&(this.Hh=a[8]),a[8]&&(this.Hh=a[8]),a[9]&&(this.wa=a[9]),a[10]&&(this.Ka=a[10]),this.rj=new $t.HP(a[4],this),
this.Bc=new $t.mQ(a[5],this))}j(){this.Ri=this.kE=null;this.rj&&(this.rj.j(),this.rj=null);this.Bc&&(this.Bc.j(),this.Bc=null);this.Ev=null}Iq(){return this.Ri}ii(){this.rj||(this.rj=new $t.HP(null,this));return this.rj}Id(){this.Bc||(this.Bc=new $t.mQ(null,this));return this.Bc}iH(){return this.am}fI(a){this.am=a}Uw(){return this.Yl}Eo(a){this.Yl=a}Yi(){return this.Kf}ik(a){this.Kf=a}Ec(){return this.Qf}El(a){this.Qf=a}Jm(){return this.Pd}Pg(a){this.Pd=!!a}Xi(){return this.Rd}Ng(){return this.zM}Lm(){return this.yz}zC(a){this.yz=
a}Mg(){return this.Hh[0]}hI(a){this.Hh||(this.Hh=[]);this.Hh[0]=a}Lg(){this.Hh||(this.Hh=[]);return this.Hh[1]}gI(a){this.Hh||(this.Hh=[]);this.Hh[1]=a}qc(){return this.wa}fa(){return this.Ka}oa(){return{keyframeDataJson:this.rj.oa(),propertyTrackDataJson:this.Bc.oa(),instanceData:this.kE,additionalInstanceData:this.Hh,instanceUid:this.Yl,objectClassIndex:this.am,interpolationMode:this.Kf,resultMode:this.Qf,enabled:this.Pd,id:this.Rd,nestedData:this.Ev,type:this.wa,name:this.Ka}}pa(a){a&&(this.kE=
a.instanceData,this.Yl=a.instanceUid,this.am=a.objectClassIndex,this.Kf=a.interpolationMode,this.Qf=a.resultMode,this.Pd=a.enabled,this.Rd=a.id,this.wa=a.type?a.type:0,this.Ka=a.name?a.name:"",this.yz=this.Ri.oc.pc(),a.nestedData&&(this.Ev=a.nestedData,this.zM=this.Ev[0],this.yz=this.Ev[1]),a.additionalInstanceData&&(this.Hh=a.additionalInstanceData),this.ii().pa(a.keyframeDataJson),this.Id().pa(a.propertyTrackDataJson))}}function*Ar(a){for(const b of a.eq)yield b}
function Br(a){const b=new au(null,a);a.eq.push(b);return b}function Or(a,b){b=b.ii().Pc;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.za()<=a)return c}}$t.RQ=class{constructor(a,b){this.oc=b;this.eq=[];Xt(this.eq,a,au,this)}j(){this.oc=null;for(const a of this.eq)a.j();$t.G(this.eq);this.eq=null}oa(){return{trackDataItemsJson:this.eq.map(a=>a.oa())}}pa(a){a&&Yt(this.eq,a.trackDataItemsJson,au,this)}};"use strict";const bu=self.A;function Zr(a){a.Uk||(a.Uk=new bu.lQ(null,a));return a.Uk}
class cu{constructor(a,b){this.Bc=b;this.jA="";this.wa=this.vc=this.Vf=null;this.VE=this.WE=NaN;this.Qf=this.Kf="default";this.Pd=!1;this.Uk=null;this.gD=!0;a&&(this.jA=a[0][0],this.Vf=a[0].slice(1),this.vc=a[1],this.wa=a[2],this.WE=a[3],this.VE=a[4],this.Kf=a[5],this.Qf=a[6],this.Pd=!!a[7],this.Uk=new bu.lQ(a[8],this),this.gD=a[9])}j(){this.Uk.j();this.Vf=this.Bc=this.Uk=null}Id(){return this.Bc}Ue(){return this.jA}mI(a){this.jA=a}qc(){return this.wa}Fx(a){this.wa=a}cI(a){this.WE=a}bI(a){this.VE=
a}Yi(){return this.Kf}ik(a){this.Kf=a}Ec(){return this.Qf}El(a){this.Qf=a}Jm(){return this.Pd}Pg(a){this.Pd=!!a}UG(){return!!this.gD}oa(){return{propertyKeyframeDataJson:this.Uk.oa(),sourceAdapterId:this.jA,sourceAdapterArguments:this.Vf,property:this.vc,type:this.wa,min:this.WE,max:this.VE,interpolationMode:this.Kf,resultMode:this.Qf,enabled:this.Pd,canHavePropertyKeyframes:this.gD}}pa(a){a&&(this.jA=a.sourceAdapterId,this.Vf=a.sourceAdapterArguments,this.vc=a.property,this.wa=a.type,this.WE=a.min,
this.VE=a.max,this.Kf=a.interpolationMode,this.Qf=a.resultMode,this.Pd=a.enabled,this.gD=a.canHavePropertyKeyframes,Zr(this).pa(a.propertyKeyframeDataJson))}}function*Sr(a){for(const b of a.Qp)yield b}function Tr(a){const b=new cu(null,a);a.Qp.push(b);return b}function Xr(a,b){return Zr(b).mc[0]}function as(a,b){b=Zr(b).mc;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.za()>=a)return e}}
bu.mQ=class{constructor(a,b){this.mb=b;this.Qp=[];Xt(this.Qp,a,cu,this)}j(){this.mb=null;for(const a of this.Qp)a.j();bu.G(this.Qp);this.Qp=null}Zi(a){return Zr(a).mc.at(-1)}TB(a,b){b=Zr(b).mc;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.za()===a)return e}}vh(a,b){b=Zr(b).mc;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.za()<=a)return c}}oa(){return{propertyTrackDataItemsJson:this.Qp.map(a=>a.oa())}}pa(a){a&&Yt(this.Qp,a.propertyTrackDataItemsJson,cu,this)}};"use strict";const du=self.A;
class eu{constructor(a,b){this.rj=b;this.Gd=-1;this.yk="noease";this.zk=!1;this.Az=this.kf=null;a&&(this.Gd=a[0],this.yk=a[1],this.zk=!!a[2],this.kf=(a=a[3])?a.split(" "):[],this.Az=new Set(this.kf.map(d=>d.toLowerCase())),this.Of=null)}j(){this.rj=null;du.G(this.kf);this.kf=null;this.Az.clear();this.Of=this.Az=null}ii(){return this.rj}Wt(a){this.Of=a}za(){return this.Gd}Ah(a){this.Gd=a;fu(this.rj)}qo(){return this.yk}og(a){this.yk=a}Jm(){return this.zk}Pg(a){this.zk=!!a}Dx(a){this.kf=a?a.split(" "):
[];this.Az=new Set(this.kf.map(b=>b.toLowerCase()))}oa(){return{time:this.Gd,ease:this.yk,enable:this.zk,tags:this.kf}}pa(a){a&&(this.Gd=a.time,this.yk=a.ease,this.zk=a.enable,this.kf=a.tags,this.Az=new Set(this.kf.map(b=>b.toLowerCase())))}}function Ur(a){const b=new eu(null,a);a.Pc.push(b);fu(a);return b}function gu(a,b){for(const d of a.Pc){if(!b(d))continue;const c=a.Pc.indexOf(d);-1!==c&&(d.j(),a.Pc.splice(c,1))}hu(a);fu(a)}
function fu(a){a.Pc.sort((b,d)=>b.za()-d.za());for(let b=0;b<a.Pc.length;b++)a.Pc[b].Wt(a.Pc[b+1])}function hu(a){a.Pc.sort((b,d)=>b.za()-d.za())}du.HP=class{constructor(a,b){this.mb=b;this.Pc=[];Xt(this.Pc,a,eu,this);fu(this)}j(){this.mb=null;for(const a of this.Pc)a.j();du.G(this.Pc);this.Pc=null}oa(){return{keyframeDataItemsJson:this.Pc.map(a=>a.oa())}}pa(a){a&&(Yt(this.Pc,a.keyframeDataItemsJson,eu,this),fu(this))}};"use strict";const iu=self.A;
function fr(a,b){if(a.sk){if(a.$m||null===a.$m)return a.$m;var d=a.sk.nr;if(!d)return a.$m=null,a.$m;var c=d.length;for(let e=0;e<c;e++){const g=d[e];if(g.Xi()===b)return a.$m=g,a.$m}a.$m=null;return a.$m}}function gr(a){const b=a.Uk.ba.Ec();if("relative"===b)return a.ed();if("absolute"===b)return a.ej}function Fs(a,b){"color"===a.wa&&iu.Jb(b)?(a.ej[0]=iu.VB(b),a.ej[1]=iu.RB(b),a.ej[2]=iu.GB(b)):a.ej=b}
class ju{constructor(a,b){this.Uk=b;this.ej=this.Dc=null;this.wa="";this.Gd=NaN;this.yk="noease";this.zk=!1;this.sk=null;this.$m=void 0;this.TL="line";a&&(this.Dc=a[0][0],this.ej=a[0][1],this.wa=a[0][2],this.Gd=a[1],this.yk=a[2],this.zk=!!a[3],this.TL=a[5],this.sk=null,a[4]&&(this.sk=new iu.zW(a[4])),this.Op=this.Of=null)}j(){this.Uk=null;this.sk&&(this.sk.j(),this.sk=null);this.Op=this.Of=null}Wt(a){this.Of=a}CC(a){this.Op=a}ed(){return this.Dc}ae(a){"color"===this.wa&&iu.Jb(a)?(this.Dc[0]=iu.VB(a),
this.Dc[1]=iu.RB(a),this.Dc[2]=iu.GB(a)):this.Dc=a}qc(){return this.wa}Fx(a){this.wa=a}za(){return this.Gd}Ah(a){this.Gd=a;ku(this.Uk)}qo(){return this.yk}og(a){this.yk=a}Jm(){return this.zk}Pg(a){this.zk=!!a}oa(){const a=this.sk;return{addonDataJson:a?a.oa():a,value:this.Dc,aValue:this.ej,type:this.wa,time:this.Gd,ease:this.yk,enable:this.zk}}pa(a){a&&(a.addonDataJson&&this.sk.gfa(a.addonDataJson),this.Dc=a.value,this.ej=a.aValue,this.wa=a.type,this.Gd=a.time,this.yk=a.ease,this.zk=a.enable)}}
function bs(a){const b=new ju(null,a);a.mc.push(b);ku(a);return b}function cs(a,b){for(const d of a.mc){if(!b(d))continue;const c=a.mc.indexOf(d);-1!==c&&(d.j(),a.mc.splice(c,1))}lu(a);ku(a)}function ku(a){let b=a.mc;b.sort((c,e)=>c.za()-e.za());for(var d=0;d<b.length;d++){const c=b[d];d+1<b.length&&c.Wt(b[d+1]);0<=d-1&&c.CC(b[d-1])}b=a.Pp;b.sort((c,e)=>c.za()-e.za());for(a=0;a<b.length;a++)d=b[a],a+1<b.length&&d.Wt(b[a+1]),0<=a-1&&d.CC(b[a-1])}function lu(a){a.mc.sort((b,d)=>b.za()-d.za())}
iu.lQ=class{constructor(a,b){this.ba=b;this.mc=[];this.Pp=[];Xt(this.mc,a,ju,this);b=this.Pp;var d=ju;if(a)for(const c of a)Wt("create-including-disabled",c,b,d,this);ku(this)}j(){this.ba=null;for(const a of this.mc)a.j();iu.G(this.mc);this.mc=null;for(const a of this.Pp)a.j();iu.G(this.Pp);this.Pp=null}Zi(){return this.mc[this.mc.length-1]}UB(){return this.Pp}oa(){const a=this.Pp;return{propertyKeyframeDataItemsJson:this.mc.map(b=>b.oa()),propertyKeyframeDataItemsIncludingDisabledJson:a.map(b=>b.oa())}}pa(a){a&&
(Yt(this.mc,a.propertyKeyframeDataItemsJson,ju,this),Yt(this.Pp,a.propertyKeyframeDataItemsIncludingDisabledJson,ju,this),ku(this))}};"use strict";const mu=self.A;class nu{constructor(a,b){this.sk=b;this.Rd=a[0];this.sn=a[1]}j(){this.sn=this.sk=null}Xi(){return this.Rd}oa(){return{id:this.Rd,data:this.sn}}pa(a){a&&(this.Rd=a.id,this.sn=a.data)}}
class ou extends nu{constructor(a,b){super(a,b);this.mA=this.sn[0];this.nA=!!this.sn[1];this.Iy=this.sn[2];this.Jy=!!this.sn[3]}j(){super.j()}oa(){return Object.assign(super.oa(),{startAnchor:this.mA,startEnable:!!this.nA,endAnchor:this.Iy,endEnable:!!this.Jy})}pa(a){a&&(super.pa(a),this.mA=a.startAnchor,this.nA=!!a.startEnable,this.Iy=a.endAnchor,this.Jy=!!a.endEnable)}}
class pu extends nu{constructor(a,b){super(a,b);this.KJ=this.sn[0];this.gM=this.sn[1]}j(){super.j()}oa(){return Object.assign(super.oa(),{direction:this.KJ,revolutions:this.gM})}pa(a){a&&(super.pa(a),this.KJ=a.direction,this.gM=a.revolutions)}}
mu.zW=class{constructor(a){this.nr=[];Xt(this.nr,a,{LV:0,map:new Map([["cubic-bezier",ou],["angle",pu]])},this)}j(){for(const a of this.nr)a.j();mu.G(this.nr);this.nr=null}oa(){return{addonDataItemsJson:this.nr.map(a=>a.oa())}}pa(a){a&&Yt(this.nr,a.addonDataItemsJson,{LV:"id",map:new Map([["cubic-bezier",ou],["angle",pu]])},this)}};"use strict";const qu=self.A;let ru=0;function su(a,b){a.Iz||(a.Iz=[]);a.Iz.push(b)}
function tu(a,b,d){for(const c of a.Pa)for(const e of c.Xa)e.ba.vc===d&&(a=Xr(e.Id(),e.ba),a.ae(b),Fs(a,b))}function uu(a,b){for(const d of a.Pa)for(const c of d.Xa)if(c.ba.vc===b)return c}function vu(a,b){for(const e of b)b=uu(a,e),tu(a,b.uf(),e);if(lr(a)){var d=a.pc()-a.za();a.Xt(d);for(var c of a.Pa)c.zC(d);qr(a,0)}else{c=a.za();a.Xt(c);for(d of a.Pa)d.zC(c);qr(a,c)}a.Fc(!0)}function wu(a,b,d){d=uu(a,d);d=d.Id().Zi(d.ba);d.Ah(a.pc());d.ae(b);Fs(d,b)}
function xu(a){for(const b of a.Pa){const d=c=>{c=c.za();const e=a.pc();return 0!==c&&c!==e};gu(b.mb.ii(),d);b.yB(d)}}function yu(a,b){const d=a.ia();var c;if(c=qu.ta.Va){b:{if(c)for(const e of d.td)if(e.ig()instanceof c){c=e;break b}c=null}c=c?W(c):null}else c=null;c.AA.push(a);a.g.da(b,d,c.jg());c.AA.pop()}
function zu(a){var b=a.Ad.Mb,d=new qu.QQ;if(a.json){d.pa(a.json.tweenDataItemJson);var c=new qu.Dh(d,b);c.pa(a.json);return c}b=new qu.Dh(d,b);qu.ck(a.Bw)||(a.Bw=[a.Bw]);b.Rd=a.id;b.Dx(a.ht);b.iE=a.pw;b.Eu=a.Cw;b.AC(a.loop);b.iI(a.Aw);b.Xt(a.time);b.nI(0);b.ik("default");b.El(a.Bw[0].Dm);b.jI(a.et);d=b.EO();d.Eo(a.instance.Ob);d.ik("default");d.El(a.Bw[0].Dm);d.Pg(!0);d.fI(a.instance.I().Ha());var e=W(a.instance),g=e.mi()?e.Mg():a.instance.C().M();e=e.mi()?e.Lg():a.instance.C().K();d.hI(g);d.gI(e);
g=Ur(d.mb.ii());g.Ah(0);g.og("noease");g.Pg(!0);g.Dx("");g=Ur(d.mb.ii());g.Ah(a.time);g.og("noease");g.Pg(!0);g.Dx("");for(c of a.Bw)g=d.DO(),g.mI(c.Dw),g.ba.Vf=c.L4,g.ba.vc=c.Hg,g.JQ(c.type),g.cI(NaN),g.bI(NaN),g.ik("default"),g.El(c.Dm),g.Pg(!0),e=g.lB(),e.Fx(c.valueType),e.Ah(0),e.og(c.Qj),e.Pg(!0),e.ae(c.Uj),Fs(e,c.Uj),e=g.lB(),e.Fx(c.valueType),e.Ah(a.time),e.og(c.Qj),e.Pg(!0),e.ae(c.nf),Fs(e,c.nf),g.Db();return b}
qu.Dh=class extends qu.Io{constructor(a,b){super(`tween-${ru++}`,a,b);this.Rd="";this.Eu=!1;this.iE="start-value";this.tb=this.wT=this.Iz=this.Oc=null}ZO(a){const b=qu.m(qu.Event,"tweenstatereleased");b.Eia=this;a.dispatchEvent(b)}qc(){return 1}OO(){for(const a of Ar(this.oc.Iq()))this.Pa.push(qu.tI.ya(this,a));this.tb=this.Pa[0]}EO(){var a=Br(this.oc.Iq());a=qu.tI.ya(this,a);this.Pa.push(a);this.tb=this.Pa[0];return a}Ed(){return this.tb.Xa[0]}JQ(){}ia(){var a=this.Pa;if(a&&a.length&&(this.tb=a=
a[0])){var b=a.ia();return a.cc()?b:void 0}}Xi(){return this.Rd}cQ(){if(this.wT)for(const a of this.wT)a(this);if(!this.Yg)for(const a of this.Pa)a.Yj()}YO(){if(!this.un&&(this.un=!0,this.Iz))for(const a of this.Iz)a(this)}Ah(a){xu(this);super.Ah(a)}Ym(a){qu.Jb(a)||(a=this.pc());this.Lb=0>a?0:a>=this.pc()?this.pc():a;this.tb.jk()}Fc(a){if(!this.mp&&"current-state"===this.iE)for(const b of this.Pa)b.Xj();super.Fc(a)}hd(a=!1){super.hd(a);if(!this.Yg)for(const b of this.Pa)b.$q()}Tb(a=!0,b=!1){xu(this);
super.Tb(a,b)}Px(){if(this.hc)return!0;const a=this.ia();if(a&&a.I().wf())return!1;Rq(this.Mb,this);this.Tb(!1,!0);return!0}Xe(a,b,d){this.Oc||(this.Oc=this.ia());if(!this.Oc||Um(this.Oc))this.hd(!0),this.Uo=this.g.Qi;else if(b=this.Oc.Ud,-1!==b&&(a=d*b),0!==a||0!==this.nv){this.nv=a;d=this.Lb+this.Fp+a*this.Qc;a=this.oc.Ps;0>d?(this.Lb=0,this.Fp=-d):d>=a?(this.Lb=a,this.Fp=this.Lb-d):(this.Lb=d,this.Fp=0);b=d=!1;var c=this.Gq(),e=this.to();c||e?c&&!e?0<this.Qc?this.Lb>=a&&(this.Ym(0),yu(this,qu.ta.Va.H.Co),
yu(this,qu.ta.Va.H.Do),b=!0):0>=this.Lb&&(this.Ym(a),yu(this,qu.ta.Va.H.Co),yu(this,qu.ta.Va.H.Do),b=!0):!c&&e?0<this.Qc?this.Lb>=a&&(qr(this,a),this.Qg(-1*this.Qc),b=!0,1===this.zb?this.Fe<this.ji()?(this.Fe++,yu(this,qu.ta.Va.H.Co),yu(this,qu.ta.Va.H.Do),yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl),this.zb=0):(yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl),d=!0):0===this.zb&&(yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl),this.zb=1)):0>=this.Lb&&(qr(this,0),this.Qg(-1*this.Qc),b=!0,1===this.zb?this.Fe<
this.ji()?(this.Fe++,yu(this,qu.ta.Va.H.Co),yu(this,qu.ta.Va.H.Do),yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl),this.zb=0):(d=!0,yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl)):0===this.zb&&(yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl),this.zb=1)):c&&e&&(0<this.Qc?this.Lb>=a&&(qr(this,a),this.Qg(-1*this.Qc),b=!0,0===this.zb&&(yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl)),1===this.zb&&(yu(this,qu.ta.Va.H.Co),yu(this,qu.ta.Va.H.Do),yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl)),this.zb++,this.zb=
qu.wrap(this.zb,0,2)):0>=this.Lb&&(qr(this,0),this.Qg(-1*this.Qc),b=!0,0===this.zb&&(yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl)),1===this.zb&&(yu(this,qu.ta.Va.H.Co),yu(this,qu.ta.Va.H.Do),yu(this,qu.ta.Va.H.vl),yu(this,qu.ta.Va.H.wl)),this.zb++,this.zb=qu.wrap(this.zb,0,2))):0<this.Qc?this.Lb>=a&&(this.Fe<this.ji()?(this.Fe++,this.Ym(0),yu(this,qu.ta.Va.H.Co),yu(this,qu.ta.Va.H.Do),b=!0):(qr(this,a),d=!0)):0>=this.Lb&&(this.Fe<this.ji()?(this.Fe++,this.Ym(a),yu(this,qu.ta.Va.H.Co),yu(this,qu.ta.Va.H.Do),
b=!0):(qr(this,0),d=!0));d?(this.tb.zx(),this.hd(!0),this.Uo=this.g.Qi):(this.tb.Ja(this.Lb,!0,!1,b,this.xg,!1),this.xg&&(this.xg=!1))}}oa(){const a=super.oa();return Object.assign(a,{tweenDataItemJson:this.oc.oa(),id:this.Rd,destroyInstanceOnComplete:this.Eu,initialValueMode:this.iE})}pa(a){a&&(this.oc.pa(a.tweenDataItemJson),super.pa(a),this.Rd=a.id,this.Eu=a.destroyInstanceOnComplete,this.iE=a.initialValueMode,this.tb=this.Pa[0])}static IsPlaying(a){return a.IsPlaying()}static Nt(a){return a.Nt()}static CP(a){return a.to()?
0===a.zb:!1}static EP(a){return a.to()?1===a.zb:!1}static Eo(a,b){if(!isNaN(b))for(const d of a.Pa)d.Eo(b)}};"use strict";const Au=self.A;function Bu(a){1===a.Xa.length?a.My=a.Xa[0]:(a.My=a.Xa[0],a.mM=a.Xa[1])}
Au.tI=class extends Au.GC{constructor(a,b){super(a,b);this.mM=this.My=null}static ya(a,b){return Au.m(Au.tI,a,b)}MO(){for(const a of Sr(this.mb.Id()))this.Xa.push(Au.sI.ya(this,a));Bu(this)}DO(){var a=Tr(this.mb.Id());a=Au.sI.ya(this,a);this.Xa.push(a);Bu(this);return a}Fc(){Lr(this);if(this.cc()||!ir(this)){var a=lr(this.bb())?0:this.Lm();for(const b of this.Xa)b.Fc(a),0===this.Eg&&1===b.Eg&&(this.Eg=1),0===this.nc&&1===b.nc&&(this.nc=1);this.Vh=0;this.Xa.some(b=>b.Vh)&&(this.Vh=1);this.Ok=Nr(this,
a);this.ep=this.bs=!1;this.Ja(a)}}xq(){}Ja(a,b,d=!1,c=!1,e,g=!1,k=!1){this.Oc||this.ia();if(this.Oc){if(Um(this.Oc)||g&&this.I().wf())return!1;this.mM?(this.My.Ja(a,d,c,k),this.mM.Ja(a,d,c,k)):this.My.Ja(a,d,c,k);0!==this.My.Eg&&(this.Ta||(this.Ta=this.Oc.C()),this.Ta&&Sl(this.Ta))}}vq(){}pa(a){super.pa(a);Bu(this)}};"use strict";const Cu=self.A;
Cu.sI=class extends Cu.nb{constructor(a,b){super(a,b);this.hy=!1}static ya(a,b){return Cu.m(Cu.sI,a,b)}Ja(a,b=!1,d=!1,c=!1){if(this.hy){var e=this.mc[0];var g=this.mc[1]}else{if(b)e=this.Bc.vh(a,this.ba);else{if(this.yd){g=this.bb();const k=this.yd.Of;e=this.yd.za();g=k?k.za():g.pc();if(a<=e||a>=g)this.yd=this.Bc.vh(a,this.ba)}else this.yd=this.Bc.vh(a,this.ba);e=this.yd}g=e.Of}this.Uf.Ja(a,e,g,b,d,c)}lB(){const a=bs(Zr(this.ba));this.yd=null;this.hy=2>=Yr(this).length;return a}yB(a){this.yd=null;
cs(Zr(this.ba),a);this.hy=2>=Yr(this).length}oa(){return{sourceAdapterJson:this.Db().oa(),basic:this.hy}}pa(a){a&&(this.Db().pa(a.sourceAdapterJson),this.hy=a.basic)}};"use strict";const Du=self.A,Eu=self.Fm;function Fu(a){a.Rz.clear();for(let d=0;d<a.Zh.length-1;d++){var b=a.Zh[d];if(!b.nA)continue;const c=a.Zh[d+1];c.Jy&&a.Rz.set(b,Eu.IX(b.Dg,b.Dg+b.jU,c.Dg+c.WR,c.Dg))}}function Gu(a,b){const d=a.RF.get(b);if(d)return d;for(const c of a.Zh)if(c.Dg===b)return a.RF.set(b,c),c}
Du.rI=class extends Du.ra{constructor(a,b=!0){super();this.Ka=a[0];this.dT=a[2];this.Zh=[];for(var d of a[1])a=Du.SQ.ya(this,d),this.Zh.push(a);for(d=0;d<this.Zh.length;d++){a=this.Zh[d];const c=this.Zh[d-1];a.Wt(this.Zh[d+1]);a.CC(c)}this.Rz=new Map;this.RF=new Map;Fu(this);b&&Eu.wW(this.Ka,(c,e,g,k)=>this.Ja(c,e,g,k),{transition:this})}static ya(a){return Du.m(Du.rI,a)}j(){for(const a of this.Zh)a.j();Du.G(this.Zh);this.Zh=null;this.Rz.clear();this.Rz=null;this.RF.clear();this.RF=null}Ja(a,b,d,
c){var e=a/c;if(this.dT){var g=Gu(this,0);e=Gu(this,1);g=b+(b+d)*g.$n;b=(b+d)*e.$n-g;return 0===c?g+b:Eu.NP(a,g,b,c)}0===c&&(e=1);a:{for(a=this.Zh.length-1;0<=a;a--)if(g=this.Zh[a],c=g.Dg,c<=e){if(c<e){a=g;break a}if(c===e){for(;g;){a=g.Op;if(!a)break;if(a.Dg!==g.Dg)break;g=a}a=g;break a}}a=void 0}c=a.Of;c||(c=a,a=a.Op);g=c.Dg-a.Dg;e=Du.n4(e,a.Dg,c.Dg,g);if("linear"===a.a3||0===g)return a=b+(b+d)*a.$n,b=(b+d)*c.$n-a,0===g?1===e?a+b:a:Eu.NP(e,a,b,g);g=a.Dg;const k=a.$n,l=a.Dg+a.jU,n=a.$n+a.d3,p=c.Dg+
c.WR,r=c.$n+c.Z1,w=c.Dg;c=c.$n;e=Eu.Mm("spline")(e,g,k,l,n,p,r,w,c,this.Rz.get(a));e+=a.$n;return(1-e)*b+e*(b+d)}};"use strict";const Hu=self.A;Hu.SQ=class extends Hu.ra{constructor(a,b){super();this.Dg=b[0];this.$n=b[1];this.jU=b[2];this.d3=b[3];this.WR=b[4];this.Z1=b[5];this.nA=b[6];this.Jy=b[7];this.a3=b[8];this.Op=this.Of=null}j(){}static ya(a,b){return Hu.m(Hu.SQ,a,b)}Wt(a){this.Of=a}CC(a){this.Op=a}};"use strict";const Iu=self.A;
Iu.i0=class extends Iu.ra{constructor(a){super();this.g=a;this.SF=[]}j(){for(const a of this.SF)a.j();Iu.G(this.SF);this.SF=null}ya(a){this.SF.push(Iu.rI.ya(a))}};"use strict";const Ju=self.A;function Ku(a){return a.Ni?0!==a.Ni.size:!1}function Lu(a,b,d){b=b instanceof Ju.iC?b.Ha():b;if(a.Ni.has(b)&&(a=a.Ni.get(b).get(d)))return JSON.parse(JSON.stringify(a))}function Mu(a,b,d){a.zn||(a.zn=new WeakMap);a.zn.has(b)||a.zn.set(b,d)}
Ju.Z_=class extends Ju.ra{constructor(a){super();this.g=a;this.zn=this.Ni=null;this.bv=b=>this.QC(b.instance)}j(){this.QH();if(this.Ni){for(const a of this.Ni.values())a.clear();this.Ni.clear()}this.g=this.Ni=null}ya(a){this.Ni||(this.Ni=new Map);if(a){var b=a[0][16][0],d=a[1];this.Ni.has(d)||this.Ni.set(d,new Map);this.Ni.get(d).set(b,a)}}JG(){const a=this.g.Ua();a&&a.addEventListener("instancedestroy",this.bv)}QH(){const a=this.g.Ua();a&&a.removeEventListener("instancedestroy",this.bv)}QC(a){this.zn&&
this.zn.has(a)&&this.zn.delete(a)}};"use strict";const Nu=self.A;Nu.CX=class{constructor(a){this.g=a;this.Ou=new Nu.BX}j(){this.Ou.j();this.g=this.Ou=null}F(){return this.g}ya(a){this.Ou.Bb(a)}nH(){return this.Ou.nH()}};"use strict";const Ou=self.A;function Pu(a,b){"number"===typeof b?((b=a.Eq(b))||(b=a.vn.PB()),a.FF=b):((b=a.vn.fH(a.yM))||(b=a.vn.PB()),a.FF=b)}function Qu(a){"string"===typeof a.Gs&&a.Gs&&(a.Wz=a.xd.re.get(a.Gs),a.Gs="");return a.Wz?a.Wz:a}
function Ru(a,b){if(Su(a)){for(var [,d]of Su(a).entries())Ru(d,!1);Su(a).clear()}a.Pf=null;a.Jv=null;a.Nl=null;a.As="";a.Ov=null;a.Er="";a.Gs="";a.zs=[];if(b){if(Tu(a.xd,a),d=a.FF.Or,d!==a.Dr){b=a.Dr;var c=a.SB().ia();a.dw++;a.xd.hp.push(a);a.g.da(Ou.B.$j.H.b$,c);a.g.da(Ou.B.$j.H.e$,c);a.g.da(Ou.B.$j.H.c$,c);a.g.da(Ou.B.$j.H.f$,c);a.Dr=d;a.g.da(Ou.B.$j.H.qZ,c);a.g.da(Ou.B.$j.H.c_,c);a.g.da(Ou.B.$j.H.Y9,c);a.g.da(Ou.B.$j.H.l$,c);a.xd.hp.pop();Uu(a);d=a.Eq(a.Dr);if("reference"===d.qc())if(c=d.PT,Vu(a),
a.Pf&&a.Pf.has(d))a.zs.pop(),Vu(a),d=a.Pf.get(d),Tu(a.xd,d,!0,!0,!1),d.Jv=a,d.Kv=b,a=Qu(a),a.Nl=d,a.Nl===a&&(a.Nl=null);else{const g=d.QT;if(c){a.zs.pop();let k=d.RT;if(k)for(var e=a.xd.re.get(k);e;)k=Ou.tP(k),e=a.xd.re.get(k);else for(k=`${c}-ref`,e=a.xd.re.get(k);e;)k=Ou.tP(k),e=a.xd.re.get(k);c=Wu(a.xd,c,g,k,a.Kn,!0);c.Jv=a;c.Kv=b;a.Pf||(a.Pf=new Map);a.Pf.set(d,c);a=Qu(a);c.Wz=a;a.Nl=c;a.Nl===a&&(a.Nl=null)}}}}else a.Dr=a.FF.Or}function Su(a){Vu(a);return a.Pf}
function Uu(a){a.dw--;if(0===a.dw&&a.sL){var b=a.xd;a.sL=!0;0<a.dw||(b.re.delete(a.Wf),a.j(),b.ne===a&&(b.ne=null))}}function Xu(a){"string"===typeof a.As&&a.As&&(a.Jv=a.xd.re.get(a.As),a.As="");return a.Jv}function Yu(a){"string"===typeof a.Er&&a.Er&&(a.Nl=a.xd.re.get(a.Er),a.Er="");return a.Nl}function Vu(a){if(a.Ov){a.Pf&&a.Pf.clear();a.Pf||(a.Pf=new Map);for(const b of a.Ov){const d=a.xd.re.get(b.flowchartStateTag),c=d.Eq(b.flowchartElementId);a.Pf.set(c,d)}a.Ov=null}}
Ou.FX=class{constructor(a,b,d,c,e,g,k){this.g=e.F();this.xd=e;this.WJ=a;this.yM=d;this.vn=c;this.Wf=b;this.Kn=g;this.HT=k?k:g.ia().Ob;Pu(this);this.Dr=this.FF.Or;this.zs=[];this.Jv=null;this.Kv=NaN;this.Wz=this.Nl=this.Pf=null;this.As="";this.Ov=null;this.Gs=this.Er="";this.dw=0;this.hc=this.sL=!1}j(){this.hc||(Ou.G(this.zs),this.Jv=this.Kn=this.vn=this.xd=this.g=this.zs=null,this.Kv=NaN,this.Pf&&this.Pf.clear(),this.Wz=this.Nl=this.Pf=null,this.As="",this.Ov=null,this.Gs=this.Er="",this.hc=!0)}Jo(){return this.hc}F(){return this.g}fa(){return this.WJ}SB(){this.Kn||
(this.Kn=W(Jr(this.g,this.HT)));return this.Kn}Eq(a){return this.vn.Eq(a)}Tb(){Ru(Qu(this),!0)}oa(){if(this.sL)var a=null;else{a=this.WJ;var b=this.Wf,d=this.yM,c=this.Dr,e=this.zs,g=this.Kn.ia().Ob,k=Xu(this)?Xu(this).Wf:"",l=Ou.Jb(this.Kv)?this.Kv:NaN;Vu(this);if(this.Pf){var n=[];for(const [p,r]of Su(this).entries())n.push({flowchartElementId:p.Or,flowchartStateTag:r.Wf});n=n.length?n:null}else n=null;a={flowchartName:a,flowchartTag:b,startNodeTag:d,currentNodeId:c,previousNodeIds:e,pluginUID:g,
reference:{previousFlowchartTag:k,previousStartNodeId:l,referencesJson:n,currentReferenceFlowchartTag:Yu(this)?Yu(this).Wf:"",rootFlowchartTag:Qu(this)?Qu(this).Wf:""}}}return a}pa(a){a&&(this.WJ=a.flowchartName,this.Wf=a.flowchartTag,this.yM=a.startNodeTag,this.Dr=a.currentNodeId,this.zs=a.previousNodeIds,this.HT=a.pluginUID,a.hasOwnProperty("reference")&&(a=a.reference,this.As=a.previousFlowchartTag,this.Kv=a.previousStartNodeId,this.Ov=a.referencesJson,this.Er=a.currentReferenceFlowchartTag,this.Gs=
a.rootFlowchartTag),Pu(this))}};"use strict";const Zu=self.A;function Tu(a,b,d=!1,c=!1,e=!0){e&&(b=(e=Yu(b))?e:b);b!==a.ne&&(a.ne&&!a.ne.Jo()&&(e=a.ne.SB().ia(),a.ne.dw++,a.hp.push(a.ne),a.g.da(Zu.B.$j.H.d$,e),a.hp.pop(),Uu(a.ne)),$u(a,b,d,c))}
function Wu(a,b,d,c,e,g,k){const l=a.g.xd.Ou.U(b);if(l)if(a.re.has(c))console.warn(`[Flowcharts] there already is a flowchart with the tag '${c}'`);else return b=new Zu.FX(b,c,d,l,a,e,k),a.re.set(c,b),g&&Tu(a,b,!0),b;else console.warn(`[Flowcharts] no flowchart found with name '${b}'`)}
function $u(a,b,d=!1,c=!1){a.ne=b;a.ne&&!a.ne.Jo()&&(b=a.ne.SB().ia(),a.ne.dw++,a.hp.push(a.ne),a.g.da(Zu.B.$j.H.h$,b),!0!==c&&"number"!==typeof c||Pu(a.ne,c),d&&(a.g.da(Zu.B.$j.H.qZ,b),a.g.da(Zu.B.$j.H.c_,b)),a.hp.pop(),Uu(a.ne))}
Zu.w7=class{constructor(a){this.g=a;this.re=new Map;this.ne=null;this.hp=[]}j(){Zu.G(this.hp);this.hp=null;this.re.clear();this.g=this.ne=this.re=null}F(){return this.g}oa(){return{flowchartJsonObjects:[...this.re.values()].map(a=>a.oa()),currentFlowchartTag:this.ne?this.ne.Wf:null}}pa(a){if(a){var b=new Map;for(const c of a.flowchartJsonObjects){var d=c.flowchartTag;if(this.re.has(d)){const e=this.re.get(d);e.pa(c);b.set(d,e)}else d=Wu(this,c.flowchartName,c.startNodeTag,c.flowchartTag,null,!1,c.pluginUID),
d.pa(c),b.set(c.flowchartTag,d)}for(const [c,e]of this.re.entries())b.has(c)||e.j();this.re.clear();this.re=b;(a=this.re.get(a.currentFlowchartTag))&&Tu(this,a,!0)}}};"use strict";const av=self.A;av.BX=class{constructor(){this.Nu=new Map}j(){for(const a of this.Nu.values())a.j();this.Nu.clear();this.Nu=null}Bb(a){a=new av.AX(a);this.Nu.set(a.fa(),a)}U(a){return this.Nu.get(a)}nH(){return!!this.Nu.size}};"use strict";const bv=self.A;
bv.AX=class{constructor(a){this.Ka=a[0];this.Pr=new bv.DX(a[1],this)}j(){this.Pr.j();this.Pr=null}Eq(a){return this.Pr.Eq(a)}fH(a){return this.Pr.fH(a)}PB(){return this.Pr.PB()}fa(){return this.Ka}};"use strict";const cv=self.A;class dv{constructor(a,b){this.Pr=b;this.wa=a[7];this.Or=a[0];this.Wf=a[1];this.C2=a[6];this.RT=this.QT=this.PT=null;"reference"===this.wa&&(this.PT=a[8],this.QT=a[9],this.RT=a[10]);this.YJ=new cv.EX(a[5])}j(){this.Pr=null}qc(){return this.wa}}
cv.DX=class{constructor(a,b){this.vn=b;this.Ny=[];this.XJ=new Map;this.eS=new Map;this.fS=null;b=this.Ny;var d=dv;if(a)for(var c of a)a=new d(c,this),b.push(a);for(const e of this.Ny){c=e.Wf;a=e.C2;this.XJ.set(e.Or,e);c&&this.eS.set(c,e);a&&(this.fS=e);c=e.YJ;for(const g of ev(c))this.XJ.set(g.Or,g)}}j(){this.vn=null;for(const a of this.Ny)a.j();cv.G(this.Ny);this.Ny=null}Eq(a){return this.XJ.get(a)}fH(a){return this.eS.get(a)}PB(){return this.fS}};"use strict";const fv=self.A;
class gv{constructor(a,b){this.YJ=b;this.Or=a[0];this.Ka=a[1];this.Dc=a[2]}j(){this.YJ=null}fa(){return this.Ka}ed(){return this.Dc}}function*ev(a){for(const b of a.Pu)yield b}fv.EX=class{constructor(a){this.Pu=[];this.d2=new Map;var b=this.Pu,d=gv;if(a)for(const c of a)a=new d(c,this),b.push(a);for(const c of this.Pu)this.d2.set(c.fa(),c)}j(){for(const a of this.Pu)a.j();fv.G(this.Pu);this.Pu=null}};"use strict";const hv=self.A;function iv(a){return a.xb[a.na-1]}
function jv(a){var b=a.xb,d=++a.na;d===b.length?(d=hv.m(hv.oI,a),b.push(d),a.xk=d):(b=b[d],b.Tb(),a.xk=b)}hv.P_=class extends hv.ra{constructor(a){super();this.L=a;this.xb=[];this.xb.push(hv.m(hv.oI,this));this.na=0;this.xk=this.xb[0]}j(){for(const a of this.xb)a.j();hv.G(this.xb);this.L=this.xk=null}I(){return this.L}ca(){return this.xk}he(){this.ca().he()}Ya(){this.xk=this.xb[--this.na]}Xq(a){const b=this.xb;for(let d=0,c=b.length;d<c;++d)b[d].Xq(a)}};"use strict";const kv=self.A;
function lv(a){kv.G(a.J);kv.G(a.ub)}function mv(a){return a.kb?!!a.L.J.length:!!a.J.length}function nv(a,b){a.kb=!1;kv.G(a.J);a.J.push(b)}function ov(a,b){a.kb=!1;kv.Bd(a.J,b)}function pv(a,b){a.kb=!1;kv.G(a.J);for(const d of b)a.J.push(d)}function qv(a,b){var d=rv;for(const c of b)d.has(c)||a.ub.push(c)}function sv(a,b){b&&(tv(a.qe).$b().Ie?(a.kb&&(kv.G(a.J),kv.Bd(a.ub,b.I().qa()),a.kb=!1),b=a.ub.indexOf(b),-1!==b&&(a.J.push(a.ub[b]),a.ub.splice(b,1))):nv(a,b))}
kv.oI=class extends kv.ra{constructor(a){super();this.xb=a;this.L=this.xb.I();this.qe=this.L.F().Hd();this.kb=!0;this.J=[];this.ub=[]}j(){lv(this);this.qe=this.L=this.xb=null}I(){return this.L}qa(){return this.kb?this.L.qa():this.J}Tb(){this.kb=!0;kv.G(this.ub)}he(){this.kb=!0}ZG(a){a.kb?this.Tb():(this.kb=!1,kv.Bd(this.J,a.J),kv.G(this.ub))}Xq(a){kv.ai(this.J,a);kv.ai(this.ub,a)}};"use strict";const uv=self.A;function tv(a){return a.xb[a.na]}
uv.tX=class extends uv.ra{constructor(a){super();this.La=a;this.g=this.La.F();this.xb=[];this.xb.push(uv.m(uv.WO,this,null));this.na=0;this.ID=[]}j(){for(const a of this.xb)a.j();uv.G(this.xb);uv.G(this.ID);this.g=this.La=null}Ca(){return this.La}F(){return this.g}ab(a){var b=this.xb;const d=++this.na;if(d===b.length)return a=uv.m(uv.WO,this,a),b.push(a),a;b=b[d];b.Tb(a);return b}Ya(){--this.na}};"use strict";const vv=self.A;
function wv(a){const b=a.Ef;return b.FE?!0:a.me<b.Ac.length-1?!!b.Jd().length:!1}function xv(a,b){a.Ff=b}vv.WO=class extends vv.ra{constructor(a,b){super();this.xb=a;this.g=this.xb.F();this.Ef=b;this.Ye=this.me=0;this.cp=this.Uh=!1;this.ZR=null;this.fK=this.lS=0;this.Ff=null}j(){this.Tb(null);this.g=this.xb=null}Tb(a){this.Ef=a;this.Ye=this.me=0;this.cp=this.Uh=!1;this.Ff=null}QI(a,b){this.Ef=a;this.me=0;this.Ye=b}$b(){return this.Ef}yC(a){this.fK=a}};"use strict";const yv=self.A;
yv.bZ=class extends yv.ra{constructor(a){super();this.La=a;this.g=this.La.F();this.xb=[];this.na=-1;this.xk=null;this.jE=[]}j(){yv.G(this.xb);this.g=this.La=null}Ca(){return this.La}F(){return this.g}Bt(){return this.xk}ab(){const a=++this.na,b=this.xb;a===b.length?b.push(this.jE.slice(0)):yv.Bd(b[a],this.jE);this.xk=b[a]}Ya(){this.xk=this.xb[--this.na]}};"use strict";const zv=self.A;
zv.dZ=class extends zv.ra{constructor(a){super();this.La=a;this.g=this.La.F();this.xb=[];this.na=-1}j(){zv.G(this.xb);this.g=this.La=null}Ca(){return this.La}F(){return this.g}Bt(){return this.xb[this.na]}ab(){++this.na;if(this.na===this.xb.length){var a=zv.m(zv.cZ,this);this.xb.push(a);return a}a=this.xb[this.na];a.Tb();return a}Ya(){--this.na}};"use strict";const Av=self.A;
Av.cZ=class extends Av.ra{constructor(a){super();this.gh=a;this.Ka="";this.na=0;this.ad=!1}Tb(){this.Ka="";this.na=0;this.ad=!1}BC(a){this.Ka=a}fa(){return this.Ka}Ha(){return this.na}hd(){this.ad=!0}};"use strict";const Bv=self.A;Bv.BW=class extends Bv.ra{constructor(){super();this.xb=[];this.na=-1}j(){Bv.G(this.xb)}Bt(){return this.xb[this.na]}ab(){++this.na;if(this.na===this.xb.length){const a=[];this.xb.push(a);return a}return this.xb[this.na]}Ya(){--this.na}};"use strict";const Cv=self.A;
function Dv(a,b){return a.Ha()-b.Ha()}function dl(a,b){b?a.eD++:a.eD--}function fl(a){return 0<a.Pn||0<a.Ge}function tq(a,b){for(const [d,c,e]of a.rF)a.Vx(b,d,c,e);Cv.G(a.rF)}function yq(a){for(const b of a.Xh)b.j();Cv.G(a.Xh)}function Ev(a,b){switch(b.gK){case 0:a.Vu.set(b.Vr.toLowerCase(),b);break;case 1:a.yy.set(b.Vr.toLowerCase(),b)}}
function Fv(a,b){2<=b.length&&b.sort(Dv);let d=a.rR.get(b.length);d||(d=[],a.rR.set(b.length,d));for(let c=0,e=d.length;c<e;++c){const g=d[c];a:{for(let k=0,l=b.length;k<l;++k)if(b[k]!==g[k]){a=!1;break a}a=!0}if(a)return g}d.push(b);return b}function Gv(a){const b=[];for(a=a.Hq();a;)Cv.ym(b,a.dR()),a=a.Hq();return b}function Hv(a){const b={};for(const d of Gv(a))b[d.ak()]=Iv(d);return Object.create(Object.prototype,b)}
function Jv(a,b,d){let c=a.yy.get((b.fa()+"."+d).toLowerCase());if(c)return c;if(!b.Oa)for(const e of b.yi)if(c=a.yy.get((e.fa()+"."+d).toLowerCase()))return c;return null}function*Kv(a,b){for(const d of Eq(b))if(b=d.md)a.g.qn.push(d),yield*b.lb(),Lv(a.g)}async function Mv(a,b){for(const d of a.gu)d.Wu=!1;a.Pn++;for(const d of Kv(a,b))await Nv(a.g,d);a.Pn--}function Ov(a,b,d,c){a.rF.push([b,d,c]);return!1}function Pv(a,b,d,c){let e=null;const g=new Promise(k=>e=k);a.qF.push([b,d,c,e]);return g}
function*Qv(a){if(Rv(a.g))throw Error("should not be in breakpoint");const b=a.g.hb;for(;a.qF.length;){const [d,c,e,g]=a.qF.shift(),k=yield*a.Mx(b,d,c,e);g(k)}}async function Sv(a){for(const b of Qv(a))await Nv(a.g,b)}function Tv(a){for(let b=0,d=a.length;b<d;++b)a[b].Zk.he()}function Uv(a){for(let b=0,d=a.length;b<d;++b)jv(a[b].Zk)}function Vv(a){for(let d=0,c=a.length;d<c;++d){var b=a[d].Zk;const e=b.xb,g=++b.na;g===e.length&&e.push(hv.m(hv.oI,b));const k=e[g];k.ZG(e[g-1]);b.xk=k}}
function Wv(a){for(let b=0,d=a.length;b<d;++b)a[b].Zk.Ya()}function Xv(a,b){const d=new Set,c=a.qe.xb;a=a.qe.na;for(let e=0;e<=a;++e){const g=c[e].Ff;if(g)for(const k of g)b&&b.has(k)||d.add(k)}return d}function Yv(a,b){b=new Set([...b]);a=Xv(a,b);if(0<a.size){for(const d of a)jv(d.Zk);return[...a]}return null}function Zv(a){const b=Cv.m(Cv.DQ,a);a.Xh.push(b);return b}function $v(a){a=Cv.t3(a.Xh,b=>b.dA);for(const b of a)b.j()}
async function aw(a){if(a.Xh.length){var b=a.kg(),d=!1;a.Pn++;for(let c=0,e=a.Xh.length;c<e;++c){const g=a.Xh[c];bw(g)&&await cw(g,b);g.dA&&(d=!0)}d&&($v(a),b.Tb(null));a.Pn--}}function dw(a){return a.Xh.filter(b=>"promise"!==b.wa).map(b=>b.oa())}function ew(a){for(;a;)if(a=a.Hq(),a instanceof Cv.Dq)return a;return null}
Cv.sX=class extends Cv.ra{constructor(a){super();this.g=a;this.gu=[];this.CF=new Map;this.cJ=[];this.jK=new Map;this.lJ=new Map;this.vJ=new Map;this.VC=new Map;this.rR=new Map;this.Ky=new Map;this.P2=0;this.bJ=[];this.pR=[];this.fT=[];this.Vu=new Map;this.yy=new Map;this.qe=Cv.m(Cv.tX,this);this.de=Cv.m(Cv.bZ,this);this.gh=Cv.m(Cv.dZ,this);this.MM=[];this.rF=[];this.qF=[];this.eD=this.Ge=this.Pn=0;this.Xh=[];this.dn=[];self.c3_callFunction=(b,d)=>this.PC(b,d)}j(){yq(this);this.qe.j();this.qe=null;
this.de.j();this.de=null;Cv.G(this.rF);Cv.G(this.qF);this.g=null;Cv.G(this.gu);this.CF.clear()}ya(a){a=Cv.m(Cv.rX,this,a);this.gu.push(a);this.CF.set(a.fa().toLowerCase(),a)}ec(){for(var a of this.yy.values())if(a.L&&a.L.Oa)for(var b of a.L.fp)if(fw(b,a.Oo)){a.oK=!0;break}for(const d of this.Vu.values())d.ec();for(const d of this.yy.values())d.ec();for(const d of this.gu)d.ec();for(const d of this.gu)oq(d);for(const d of this.MM)d.ec(!1);Cv.G(this.MM);a=this.de;a.jE=this.fT;b=a.jE.slice(0);a.xb.push(b);
a.na=0;a.xk=b}F(){return this.g}Hd(){return this.qe}kg(){return tv(this.Hd())}$b(){return this.kg().$b()}tf(){const a=this.kg();return gw(a.$b(),a.me)}Nw(){const a=this.kg();return hw(a.$b(),a.Ye)}Vx(a,b,d,c){let e=!1;if(!a.Pb())return Ov(this,b,d,c);this.Ge++;for(const g of Eq(a))if(a=g.md){this.g.qn.push(g);for(const k of a.xD){const l=k.Vx(b,d,c);e=e||l}a=a.Vx(b,d,c);e=e||a;Lv(this.g)}this.Ge--;return e}*Mx(a,b,d,c){let e=!1;if(!a.Pb())return Ov(this,b,d,c);this.Ge++;for(const g of Eq(a))if(a=
g.md){this.g.qn.push(g);for(const k of a.xD){const l=yield*k.Mx(b,d,c);e=e||l}a=yield*a.Mx(b,d,c);e=e||a;Lv(this.g)}this.Ge--;return e}oa(){const a={};for(var b of this.cJ)a[b.fb.toString()]=b.Mt();b={};for(const [e,g]of this.vJ){var d=g.oa();d&&(b[e.toString()]=d)}d={};for(const [e,g]of this.VC){var c=g.oa();c&&(d[e.toString()]=c)}c={};for(const [e,g]of this.Ky)g.Gb||!g.wf()&&!g.tl()||(c[e.toString()]=g.ed());return{groups:a,cnds:b,acts:d,vars:c,waits:dw(this)}}pa(a){var b=a.groups;for(const [e,
g]of Object.entries(b))(b=(b=this.lJ.get(parseInt(e,10)))&&b.Lk?b:null)&&b.Vt(g);b=a.cnds;var d=new Map;for(const [e,g]of Object.entries(b))d.set(parseInt(e,10),g);for(const [e,g]of this.vJ)g.pa(d.get(e)||null);b=a.acts;d=new Map;for(const [e,g]of Object.entries(b))d.set(parseInt(e,10),g);for(const [e,g]of this.VC)g.pa(d.get(e)||null);b=a.vars;for(const [e,g]of Object.entries(b))(b=this.Ky.get(parseInt(e,10))||null)&&b.ae(g);a=a.waits;yq(this);for(const e of a){a:if(a=this.F(),d=this.lJ.get(e.ev)||
null){var c=0;if(e.hasOwnProperty("act")){b=this.VC.get(e.act)||null;if(!b){a=null;break a}c=b.Ha()}b=iw.m(iw.DQ,this);b.Gd=e.t;b.wa=-1===b.Gd?"signal":"timer";b.eA=e.st;b.hv=e.s;b.Ak=d;b.Ye=c;for(const g of e.sm)(d=gq(a,g))&&b.Me.push(d);if(Array.isArray(e.dsm))for(const g of e.dsm)if(d=gq(a,g))b.Ff||(b.Ff=new Set),b.Ff.add(d);for(const [g,k]of Object.entries(e.sols))if(d=gq(a,parseInt(g,10)))c=iw.m(iw.OQ,null),c.pa(this,k),b.Hs.set(d,c);a=b}else a=null;a&&this.Xh.push(a)}}PC(a,b){Array.isArray(b)||
(b=[]);a=this.Vu.get(a.toLowerCase().toLowerCase())||null;if(!a)return null;if(!a.Wb())return jw(a);var d=a.Zg;if(b.length<d.length){b=b.slice(0);do b.push(d[b.length].yn);while(b.length<d.length)}d=a.we();return d.TH(d.Kd(),!1,a.Yk,jw(a),...b)}};"use strict";const kw=self.A;function oq(a){kw.G(a.xD);lw(a,a);a.sR.clear()}
function mw(a,b,d,c){switch(b[0]){case 0:case 3:b=kw.ol.ya(a,d,b);if(b.Ie){c.push(b);c=b.Ac;for(let e=0,g=c.length;e<g;++e)c[e].Pq()&&ow(a,b,e)}else b.Pq()?ow(a,b,0):c.push(b);break;case 1:a=kw.Hw.ya(a,d,b);c.push(a);break;case 2:a=kw.UO.ya(a,d,b);c.push(a);break;case 4:c=pw.m(pw.Dq,a,d,b);qw(c,b[1]);Ev(a.La,c);break;case 5:a=kw.VO.ya(a,d,b);c.push(a);break;case 6:c=pw.m(pw.Dq,a,d,b);rw(c,b[1]);Ev(a.La,c);break;default:throw Error("invalid event type");}}
function ow(a,b,d){b.Ie||a.La.MM.push(b);var c=gw(b,d),e=c.Qa;const g=c.I();if(c.IS){var k=a.cS.get(g);k||(k=new Map,a.cS.set(g,k));a=c.Ba;if(!a.length)throw Error("no parameters");a=sw(a[0].RJ)().toLowerCase();c=k.get(e);c||(c=new Map,k.set(e,c));e=c.get(a);e||(e=[],c.set(a,e));e.push([b,d])}else k=a.VF.get(g),k||(k={TN:new Map,PA:new Map},a.VF.set(g,k)),(c=c.jg())?(a=k.PA.get(c),a||(a=new Map,k.PA.set(c,a))):a=k.TN,k=a.get(e),k||(k=[],a.set(e,k)),k.push([b,d])}
function lw(a,b){const d=b.xD,c=b.sR;for(const e of a.cU)a=e.$y,e.Nb&&b!==a&&!c.has(a)&&(c.add(a),lw(a,b),d.push(a))}function tw(a,b,d,c,e){c=a.VF.get(c);if(!c)return!1;e=e?c.PA.get(e):c.TN;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [g,k]of e)e=uw(a,d,g,k),b=b||e;return b}
function uw(a,b,d,c){const e=a.g;a=a.La;const g=a.$b(),k=a.Hd(),l=a.Ge;let n=!1;g&&Uv(g.Kd());Uv(d.Kd());const p=1<l;p&&a.de.ab();const r=k.ab(d);b&&(nv(d.Ac[c].I().ca(),b),b.yc()&&vw(b));b=!0;if(d.Fa()){const w=d.Rs;for(let x=0,z=w.length;x<z;++x)if(!ww(w[x],r)){b=!1;break}}b&&(d.Ie?(r.Ef=d,r.me=c,d.Ac[c].Aa()&&(d.rk(r,0)&&xw(d),r.Uh=!0)):d.Aa(r),n=r.Uh);k.Ya();p&&a.de.Ya();Wv(d.Kd());g&&Wv(g.Kd());g||1!==l||(Cv.G(a.dn),0<a.eD||gl(e));return n}
function*yw(a,b,d,c,e){c=a.VF.get(c);if(!c)return!1;e=e?c.PA.get(e):c.TN;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [g,k]of e)e=g.gg()?uw(a,d,g,k):yield*zw(a,d,g,k),b=b||e;return b}
function*zw(a,b,d,c){const e=a.g;a=a.La;const g=a.$b(),k=a.Hd(),l=a.Ge;let n=!1;g&&Uv(g.Kd());Uv(d.Kd());const p=1<l;p&&a.de.ab();const r=k.ab(d);b&&(nv(d.Ac[c].I().ca(),b),b.yc()&&vw(b));b=!0;if(d.Fa()){const w=d.Rs;for(let x=0,z=w.length;x<z;++x)if(!(yield*Aw(w[x],r))){b=!1;break}}b&&(d.Ie?yield*Bw(d,r,c):yield*d.lb(r),n=r.Uh);k.Ya();p&&a.de.Ya();Wv(d.Kd());g&&Wv(g.Kd());g||1!==l||(Cv.G(a.dn),0<a.eD||gl(e));return n}
kw.rX=class extends kw.ra{constructor(a,b){super();this.La=a;this.g=a.F();this.Ka=b[0];this.HD=[];this.VF=new Map;this.cS=new Map;this.YR=new Map;this.Wu=!1;this.cU=[];this.xD=[];this.sR=new Set;for(const d of b[1])mw(this,d,null,this.HD);this.Tk=this.g.Hb?{type:"sheet",name:this.Ka,hB:0,children:[]}:null}j(){this.g=this.La=null}ec(){const a=this.HD;for(let b=0,d=a.length;b<d;++b)a[b].ec(b<d-1&&a[b+1]instanceof kw.ol&&a[b+1].fC())}Ca(){return this.La}F(){return this.g}fa(){return this.Ka}Aa(){if(!this.Wu){var a=
this.g,b=Cw(a),d=b?performance.now():0;this.Wu=!0;var c=this.Ca(),e=c.kg();for(const g of this.HD)g.Aa(e),Tv(g.Jd()),Cv.G(c.dn),gl(a);e.Tb(null);b&&(this.Tk.hB+=performance.now()-d)}}*lb(){if(!this.Wu){this.Wu=!0;var a=this.g,b=this.Ca(),d=b.kg();for(const c of this.HD)yield*c.lb(d),Tv(c.Jd()),Cv.G(b.dn),gl(a);d.Tb(null)}}Vx(a,b,d){if(b){const c=b.I();tw(this,a,b,c,d);for(const e of c.yi)tw(this,a,b,e,d)}else return tw(this,a,b,null,null)}*Mx(a,b,d){if(b){const c=b.I();yield*yw(this,a,b,c,d);for(const e of c.yi)yield*yw(this,
a,b,e,d)}else return yield*yw(this,a,b,null,null)}};"use strict";const Dw=self.A,Ew=[];function Fw(){return!0}function*Gw(){return!0}function gw(a,b){b=Math.floor(b);if(0>b||b>=a.Ac.length)throw new RangeError("invalid condition index");return a.Ac[b]}function hw(a,b){b=Math.floor(b);if(0>b||b>=a.sc.length)throw new RangeError("invalid action index");return a.sc[b]}
function ww(a,b){b.Ef=a;const d=a.Ac;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){const k=d[e];b.me=e;if(k.pp)throw Error("trigger cannot be used as sub-event to a loop");if(k.Aa())c=!0;else if(!a.Ie)return!1}return a.Ie?c:!0}function*Aw(a,b){b.Ef=a;const d=a.Ac;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){const k=d[e];b.me=e;if(k.pp)throw Error("trigger cannot be used as sub-event to a loop");if(k.gg()?k.Aa():yield*k.lb())c=!0;else if(!a.Ie)return!1}return a.Ie?c:!0}
function*Bw(a,b,d){b.Ef=a;b.me=d;d=a.Ac[d];if(d.gg()?d.Aa():yield*d.lb())(Hw(a)?a.rk(b,0):yield*a.gr(b,0))&&(Iw(a)?xw(a):yield*Jw(a)),b.Uh=!0}function Kw(a,b){if(a)if(b.includes(a)||b.push(a),a.Oa)for(const c of a.fp){if(c.yc()){a=c;var d=b;for(const e of a.Kh.cm)d.includes(e)||d.push(e)}}else if(a.yc())for(d of a.Kh.cm)b.includes(d)||b.push(d)}function Lw(a){const b=a.tc;b.WU=a.Ac.every(d=>d.gg());b.mN=a.sc.every(d=>d.gg());b.nN=a.Hj.every(d=>d.gg());b.XU=b.WU&&b.mN&&b.nN}
function Mw(a){return a.hf&&a.hf instanceof Dw.Dq||a.Ac.some(b=>b.Pq())}function Nw(a){a.FE=!0;a.uc&&Nw(a.uc)}function Ow(a){return a.tc&&a.tc.vV&&a.tc.UA}function Pw(a,b){let d=b.Ha();if(0===d)return!0;--d;for(b=b.Td||b.L.Ia().qj?Qw(b):b.I();0<=d;--d){const c=a.Ac[d];if(b===c.I()||(c.Td||c.L.Ia().qj)&&Qw(c)===b)return!1}return!0}function Rw(a,b){b=Math.floor(b);return 0<=b&&b<a.sc.length}
function xw(a){if(a.Hj.length){var b=a.Lk&&Cw(a.g),d=b?performance.now():0,c=a.qe,e=c.ab(a);if(a.FE){var g=a.Lk;const k=a.GE,l=a.Hj;for(let n=0,p=l.length,r=p-1;n<p;++n){const w=l[n],x=w.Jd(),z=!k||!g&&n<r;z&&Vv(x);w.Aa(e);z?Wv(x):Tv(x)}}else{g=a.Hj;for(let k=0,l=g.length;k<l;++k)g[k].Aa(e)}c.Ya();b&&(a.Tk.hB+=performance.now()-d)}}function Hw(a){return!Sw(a.g)&&a.tc.mN}function Iw(a){return!Sw(a.g)&&a.tc.nN}
function*Jw(a){if(a.Hj.length){var b=a.qe,d=b.ab(a);a.FE?yield*Tw(a,d):yield*Uw(a,d);b.Ya()}}function Vw(a,b){const d=a.Ac;for(let c=0,e=d.length;c<e;++c){const g=d[c];b.me=c;if(!g.Aa()){b.Uh=!1;return}}b.Uh=!0;a.rk(b,0)&&xw(a);b.Uh&&a.Ty&&(b.cp=!0)}function*Ww(a,b){const d=a.Ac;let c=0===d.length;for(let g=0,k=d.length;g<k;++g){var e=d[g];e.Pq()||(b.me=g,e=e.gg()?e.Aa():yield*e.lb(),c=c||e)}b.Uh=!!c;c&&((Hw(a)?a.rk(b,0):yield*a.gr(b,0))&&(Iw(a)?xw(a):yield*Jw(a)),a.Ty&&(b.cp=!0))}
function*Xw(a,b){const d=a.Ac;for(let c=0,e=d.length;c<e;++c){const g=d[c];b.me=c;if(g.gg()?!g.Aa():!(yield*g.lb())){b.Uh=!1;return}}b.Uh=!0;(Hw(a)?a.rk(b,0):yield*a.gr(b,0))&&(Iw(a)?xw(a):yield*Jw(a));b.Uh&&a.Ty&&(b.cp=!0)}function*Yw(a,b){if(yield*a.gr(b,b.Ye))yield*Jw(a)}function*Tw(a,b){const d=a.Lk,c=a.GE;a=a.Hj;for(let e=0,g=a.length,k=g-1;e<g;++e){const l=a[e],n=l.Jd(),p=!c||!d&&e<k;p&&Vv(n);yield*l.lb(b);p?Wv(n):Tv(n)}}
function*Uw(a,b){a=a.Hj;for(let d=0,c=a.length;d<c;++d)yield*a[d].lb(b)}function Zw(a,b,d){d.me=0;d.Ye=0;const c=a.Ac;if(!a.Ie)for(let e=b.me+1,g=c.length;e<g;++e)if(b=c[e],d.me=e,!b.Aa())return!1;a.rk(d,0)&&xw(a);return!0}function*$w(a,b,d){d.me=0;d.Ye=0;const c=a.Ac;if(!a.Ie)for(let e=b.me+1,g=c.length;e<g;++e)if(b=c[e],d.me=e,b.gg()?!b.Aa():!(yield*b.lb()))return!1;(Hw(a)?a.rk(d,0):yield*a.gr(d,0))&&(Iw(a)?xw(a):yield*Jw(a));return!0}
function ax(a,b){if(a.Fa()){a=a.Rs;for(let d=0,c=a.length;d<c;++d)if(!ww(a[d],b))return!1}return!0}function*bx(a,b){if(a.Fa()){a=a.Rs;for(let d=0,c=a.length;d<c;++d)if(!(yield*Aw(a[d],b)))return!1}return!0}function cx(a,b,d,c){0<d.length?c?(d=d.map(e=>e.U(0)),b.de.ab(),dx(a.hf,d)):ex(a.hf,d):c&&b.de.ab()}
function*fx(a,b,d,c,e){let g,k;if(Ow(a)||Sw(a.g))yield a;const l=0<b.length;let n=null;const p=a.qe,r=a.g.Ca(),w=1<++r.Ge;cx(a,r,d,w);l&&(c?Vv(b):Uv(b));null!==e&&(e.lw?(d=e.jG.ca(),ov(d,(c?e.lw.ca():iv(e.lw.Zk)).qa()),kv.G(d.ub),c||gx(e.jG)):e.ct&&(d=e.ct.ca(),ov(d,e.cB),kv.G(d.ub)),e.jO&&(n=Yv(r,b)));e=p.ab(a);c&&(e.Ff=b);if(yield*bx(a,e))e.Ef=a,(c=a.hf.li())&&([k,g]=hx(a.hf)),yield*Xw(a,e),c&&ix(a.hf,k);p.Ya();w&&r.de.Ya();null!==n&&Wv(n);l&&Wv(b);--r.Ge;return g}
function*lx(a,b,d){if(Ow(a)||Sw(a.g))yield a;const c=a.Kd(),e=0<c.length,g=a.qe,k=a.g.Ca(),l=1<++k.Ge;l&&k.de.ab();dx(a.hf,b);e&&(d?Vv(c):Uv(c));b=g.ab(a);if(yield*bx(a,b))b.Ef=a,yield*Xw(a,b);g.Ya();l&&k.de.Ya();e&&Wv(c);--k.Ge}
Dw.ol=class extends Dw.ra{constructor(a,b,d){super();this.md=a;this.g=a.F();this.uc=b;this.hf=null;this.qe=this.g.Ca().Hd();this.Me=[];this.Sv=[];this.Ty=this.GE=this.FE=this.rS=!1;this.Ie=!!d[2];this.vE=!1;this.Rs=null;this.Ac=[];this.sc=[];this.Hj=[];this.rk=Fw;this.gr=Gw;this.QK=this.Lk=!1;this.nS="";this.yE=!1;this.Tk=this.qD=null;this.fb=d[4];this.Fu=d[5];this.md.YR.set(this.Fu,this);this.tc=this.g.Hb?{UA:d[3][0],vV:d[3][1],WU:!1,mN:!1,nN:!1,XU:!1}:null;this.Ca().lJ.set(this.fb,this);3===d[0]&&
(a=d[1],this.Lk=!0,this.yE=this.QK=!!a[0],this.nS=a[1].toLowerCase(),this.qD=[],b=this.Ca(),b.cJ.push(this),b.jK.set(this.nS,this),this.g.Hb&&(this.Tk={type:"group",name:a[1],hB:0,children:[]}));a=0;for(var c of d[6])b=Dw.XG.ya(this,c,a++),this.Ac.push(b),b=b.I(),Kw(b,this.Me);a=0;for(const e of d[7])c=Dw.kB.ya(this,e,a++),this.sc.push(c);if(9===d.length){d=d[8];for(const e of d)mw(this.md,e,this,this.Hj)}this.Ac.length&&(this.vE=null===this.Ac[0].I()&&this.Ac[0].Qa===Dw.B.yb.H.qX);0===this.Ac.length&&
(this.Ac=Ew);0===this.sc.length&&(this.sc=Ew);0===this.Hj.length&&(this.Hj=Ew)}static ya(a,b,d){return Dw.m(Dw.ol,a,b,d)}ec(a){this.Ty=!!a;if(this.Lk)for(a=this.Fa(),this.GE=!0;a;){if(!a.Lk){this.GE=!1;break}a=a.Fa()}if(Mw(this)){this.Rs=[];for(a=this.Fa();a;)this.Rs.push(a),a=a.Fa();this.Rs.reverse()}for(var b of this.Ac)b.ec();if(0<this.sc.length){b=!1;for(var d of this.sc)d.ec(),(d.li()||1===d.Wx)&&(b=!0);b?(this.rk=this.f1,this.gr=this.J0):(this.rk=this.e1,this.gr=this.I0)}d=this.Hj;for(let c=
0,e=d.length;c<e;++c)d[c].ec(c<e-1&&d[c+1]instanceof Dw.ol&&d[c+1].fC());this.tc&&Lw(this);if(this.Tk){a:{for(d=this.Fa();d;){if(d.Lk)break a;d=d.Fa()}d=this.md}d.Tk.children.push(this.Tk)}}Jd(){return this.Me}Kd(){if(!this.rS){this.rS=!0;var a=this.g.jd;if(this.Me===a)this.Sv=a;else{this.Sv=Dw.pN(this.Me);for(a=this.Fa();a;){for(var b of a.Me)Kw(b,this.Sv);a=a.Fa()}b=this.Ca();this.Me=Fv(b,this.Me);this.Sv=Fv(b,this.Sv)}}return this.Sv}Ca(){return this.md.Ca()}F(){return this.g}Fa(){return this.uc}Hq(){return this.hf||
this.uc}fC(){return this.vE}Mt(){return this.yE}Vt(a){a=!!a;if(!this.Lk)throw Error("not a group");if(this.yE!==a){this.yE=a;for(const b of this.qD)mx(b);this.qD.length&&(a=vp(this.g).md)&&oq(a)}}Pq(){return this.Ac.length&&this.Ac[0].Pq()}dR(){return this.Hj.filter(a=>a instanceof Dw.Hw)}Aa(a){a.Ef=this;this.vE||(a.cp=!1);if(this.Ie){const d=this.Ac;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){var b=d[e];b.Pq()||(a.me=e,b=b.Aa(),c=c||b)}a.Uh=!!c;c&&(this.rk(a,0)&&xw(this),this.Ty&&(a.cp=!0))}else Vw(this,
a)}*lb(a){if(Ow(this)||Sw(this.g))yield this;a.Ef=this;this.vE||(a.cp=!1);this.Ie?yield*Ww(this,a):yield*Xw(this,a)}e1(a,b){const d=this.sc;for(let c=b,e=d.length;c<e;++c)b=d[c],a.Ye=c,b.Aa();return!0}*I0(a,b){const d=this.sc;for(let c=b,e=d.length;c<e;++c)b=d[c],a.Ye=c,b.gg()?b.Aa():yield*b.lb();return!0}f1(a,b){const d=this.Ca(),c=this.sc;for(let e=b,g=c.length;e<g;++e){b=c[e];a.Ye=e;const k=b.Aa();if(1===b.Wx&&!0===k)return!1;b.li()&&k instanceof Promise&&d.dn.push(k)}return!0}*J0(a,b){const d=
this.Ca(),c=this.sc;for(let e=b,g=c.length;e<g;++e){b=c[e];a.Ye=e;let k;k=b.gg()?b.Aa():yield*b.lb();if(1===b.Wx&&!0===k)return!1;b.li()&&k instanceof Promise&&d.dn.push(k)}return!0}gg(){return!Ow(this)&&!Sw(this.g)&&this.tc.XU}uC(a,b,d,c){let e,g;const k=0<a.length;let l=null;const n=this.qe,p=this.g.Ca(),r=1<++p.Ge;cx(this,p,b,r);k&&(d?Vv(a):Uv(a));null!==c&&(c.lw?(b=c.jG.ca(),ov(b,(d?c.lw.ca():iv(c.lw.Zk)).qa()),kv.G(b.ub),d||gx(c.jG)):c.ct&&(b=c.ct.ca(),ov(b,c.cB),kv.G(b.ub)),c.jO&&(l=Yv(p,a)));
c=n.ab(this);d&&(c.Ff=a);ax(this,c)&&(c.Ef=this,(d=this.hf.li())&&([g,e]=hx(this.hf)),Vw(this,c),d&&ix(this.hf,g));n.Ya();r&&p.de.Ya();null!==l&&Wv(l);k&&Wv(a);--p.Ge;return e}TH(a,b,d,c,...e){let g,k;const l=0<a.length,n=this.g,p=this.qe,r=n.Ca(),w=1<++r.Ge;w&&r.de.ab();0<e.length&&dx(this.hf,e);l&&(b?Vv(a):Uv(a));b=p.ab(this);b.lS=d;b.fK=c;p.ID.push(b);nx(n,!1);ax(this,b)&&(b.Ef=this,(d=this.hf.li())&&([k,g]=hx(this.hf)),Vw(this,b),d&&ix(this.hf,k));nx(n,!0);p.Ya();p.ID.pop();w&&r.de.Ya();l&&Wv(a);
--r.Ge;return g||b.fK}};"use strict";const ox=self.A,px=[];let qx=!1;async function rx(a){try{await a.Qa()}catch(b){console.error(`Unhandled exception running script %c${a.md.fa()}, event ${a.Fu}:`,"font-size: 1.2em; font-weight: bold;",b),self.di&&self.di.i1(a),qx||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),qx=!0)}}
ox.VO=class extends ox.ra{constructor(a,b,d){super();const c=a.F(),e=a.Ca();this.md=a;this.La=e;this.g=a.F();this.uc=b;this.Qa=sx(c,d[1]);this.Fu=d[2];this.md.YR.set(this.Fu,this);this.tc=c.Hb?{UA:d[3][0],vV:d[3][1]}:null}static ya(a,b,d){return ox.m(ox.VO,a,b,d)}ec(){const a=this.Qa,b=Hv(this);this.Qa=a.bind(null,this.g.$g,b)}Fa(){return this.uc}Hq(){return this.uc}fC(){return!1}Jd(){return px}Kd(){return this.uc?this.uc.Kd():px}Aa(a){a.Ef=this;a=this.La;var b=rx(this);a.dn.push(b)}*lb(a){a.Ef=this;
if(Ow(this)||Sw(this.g))yield this;this.Aa(a)}gg(){return!Ow(this)&&!Sw(this.g)}};"use strict";const pw=self.A;function jw(a){switch(a.Yk){case 0:return null;case 2:return"";default:return 0}}function dx(a,b){a=a.Zg;for(let d=0,c=a.length;d<c;++d)a[d].ae(b[d])}function ex(a,b){a=a.Zg;for(let d=0,c=a.length;d<c;++d)a[d].ae(b[d].U(0))}function hx(a){const b=a.L2++;a.vy=b;let d;const c=new Promise(e=>d=e);a.ey.set(b,{resolve:d,fO:0});return[b,c]}
function ix(a,b){const d=a.ey.get(b);0===d.fO&&(d.resolve(),a.ey.delete(b));a.vy=-1}function qw(a,b){a.gK=0;a.Vr=b[0];a.Yk=b[1];a.Zg=b[2].map(d=>pw.Hw.ya(a.md,a,d));a.wE=b[3];a.HK=b[4];a.dh=b[5]}function rw(a,b){a.gK=1;a.Oo=b[1];a.L=xo(a.g,b[2]);Kw(a.L,a.$c.Me);a.Vr=a.L.fa()+"."+a.Oo;a.Yk=b[3];a.Zg=b[4].map(d=>pw.Hw.ya(a.md,a,d));a.wE=b[5];a.HK=b[6];a.dh=b[7];a.L.OR.set(a.Oo.toLowerCase(),a)}function tx(a){return a.Zg.map(b=>b.ed())}function ux(a,b){a.vy=b;a.ey.get(b).fO--}
function*vx(a,b,d){var c=new Map,e=[];for(const g of a.L.ca().qa()){const k=g.I();if(fw(k,a.Oo)){const l=c.get(k);Array.isArray(l)?l.push(g):c.set(k,[g])}else e.push(g)}0<e.length&&(yield*fx(a.$c,b,d,a.dh,{ct:a.L,cB:e}));if(0<c.size)for(const [g,k]of c)c=fw(g,a.Oo).we(),e=[...(new Set([...b,...c.Jd()]))],yield*fx(c,e,d,a.dh,{ct:g,cB:k})}
pw.Dq=class extends pw.ra{constructor(a,b,d){super();this.md=a;this.g=a.F();this.uc=b;this.gK=0;this.Vr="";this.Yk=0;this.Zg=[];this.wE=!0;this.Oo="";this.L=null;this.oK=!1;this.zK=[];this.HK=this.dh=!1;this.L2=0;this.vy=-1;this.ey=new Map;this.$c=pw.ol.ya(a,b,d);this.$c.hf=this}ec(){for(const a of this.Zg)a.ec();this.$c.ec(!1)}dR(){return this.Zg}Fa(){return this.uc}Hq(){return this.uc}I(){return this.L}Wb(){return this.wE}we(){return this.$c}li(){return this.HK}u_(a,b){var d=new Map,c=[];for(const e of this.L.ca().qa()){const g=
e.I();if(fw(g,this.Oo)){const k=d.get(g);Array.isArray(k)?k.push(e):d.set(g,[e])}else c.push(e)}0<c.length&&this.$c.uC(a,b,this.dh,{ct:this.L,cB:c});if(0<d.size)for(const [e,g]of d)d=fw(e,this.Oo).we(),c=[...(new Set([...a,...d.Jd()]))],d.uC(c,b,this.dh,{ct:e,cB:g})}};"use strict";const wx=self.A,xx=[];function Iv(a){return{configurable:!1,enumerable:!0,get:a.Y2,set:a.Z2}}
wx.Hw=class extends wx.ra{constructor(a,b,d){super();const c=a.Ca();this.md=a;this.La=c;this.g=a.F();this.uc=b;this.de=c.de;this.Ka=d[1];this.wa=d[2];this.yn=d[3];this.cf=!!d[4];this.Gb=!!d[5];this.u2=b instanceof wx.Dq;this.fb=d[6];this.qz=this.g.ak(d[8]);this.Z2=e=>this.ae(e);this.Y2=()=>this.ed();this.tS=!this.uc||this.cf||this.Gb;this.Dc=this.yn;this.qL=-1;2===this.wa&&(this.Dc=this.Dc?1:0);this.wf()||this.tl()||this.Gb||(c.fT.push(this.yn),this.qL=c.P2++);c.Ky.set(this.fb,this);this.wf()?c.bJ.push(this):
c.pR.push(this)}static ya(a,b,d){return wx.m(wx.Hw,a,b,d)}ec(){if(!(this.wf()||this.tl()||this.Gb||this.u2)){const a=ew(this);a&&a.zK.push(this)}}fa(){return this.Ka}ak(){return this.qz}Fa(){return this.uc}Hq(){return this.Fa()}wf(){return!this.Fa()}tl(){return this.cf}zo(){return 0===this.wa}ni(){return 1===this.wa}fC(){return!1}Jd(){return xx}Aa(){this.wf()||this.tl()||this.Gb||this.ae(this.yn)}gg(){return!0}*lb(a){this.Aa(a)}ae(a){this.zo()?"number"!==typeof a&&(a=parseFloat(a)):this.ni()?"string"!==
typeof a&&(a=a.toString()):2===this.wa&&(a=a?1:0);this.tS?this.Dc=a:this.de.Bt()[this.qL]=a}ed(){return this.tS?this.Dc:this.de.Bt()[this.qL]}};"use strict";const yx=self.A,zx=[];function mx(a){let b=a.Fa();for(;b;){if(b instanceof yx.ol&&b.Lk&&!b.Mt()){a.Nb=!1;return}b=b.Fa()}a.Nb=!0}
yx.UO=class extends yx.ra{constructor(a,b,d){super();const c=a.Ca();this.md=a;this.La=c;this.g=a.F();this.uc=b;this.$y=null;this.n2=d[1];this.Nb=!0}static ya(a,b,d){return yx.m(yx.UO,a,b,d)}ec(){this.$y=this.La.CF.get(this.n2.toLowerCase())||null;this.md.cU.push(this);let a=this.Fa();for(;a;)a instanceof yx.ol&&a.Lk&&a.qD.push(this),a=a.Fa();mx(this);this.g.Hb&&this.md.Tk.children.push(this.$y.Tk)}Fa(){return this.uc}Jd(){return zx}Aa(){const a=!!this.Fa(),b=this.g.jd;a&&Uv(b);this.$y.Aa();a&&Wv(b)}*lb(){const a=
!!this.Fa(),b=this.g.jd;a&&Uv(b);yield*this.$y.lb();a&&Wv(b)}gg(){return!1}};"use strict";const Ax=self.A;Ax.At=class extends Ax.ra{constructor(a){super();this.vb=a;this.g=a.F()}ec(){}};class Bx extends Ax.At{constructor(a,b){super(a);this.Td=this.g.Zw();this.Qa=sx(this.g,b[1]);if(this.Qa===Ax.B.yb.rf.random||this.Qa===Ax.B.yb.rf.v3)this.vb.mf=!0}cH(){return Cx(this.Td,this.Qa,this.Td)}}
class Dx extends Ax.At{constructor(a,b){super(a);this.Uu=null;this.Vr=b[1];this.vb.mf=!0}ec(){const a=this.g.Ca();this.Uu=a.Vu.get(this.Vr.toLowerCase())||null;this.Vr=null;const b=this.Uu.we();this.wJ=[...(new Set([...this.vb.we().Kd(),...b.Kd()]))];this.wJ=Fv(a,this.wJ)}cH(){const a=this.Uu;if(a.Wb())return Ax.ol.prototype.TH.bind(a.we(),this.wJ,a.dh,a.Yk,jw(a));const b=jw(a);return()=>b}}
class Ex extends Ax.At{constructor(a,b){super(a);this.L=xo(this.g,b[1]);this.Qa=sx(this.g,b[2]);this.qe=this.g.Ca().Hd();Fx(this.vb,this.L)}cH(){return Cx(this.L.Ia(),this.Qa,W(this.L.sl()))}}class Gx extends Ax.At{constructor(a,b){super(a);this.L=xo(this.g,b[1]);Fx(this.vb,this.L)}}class Hx extends Ax.At{constructor(a,b){super(a);this.L=xo(this.g,b[1]);this.lc=this.L.nu.get(b[2].toLowerCase())||null;this.uk=Ir(this.L,b[2]);this.Qa=sx(this.g,b[3]);this.qe=this.g.Ca().Hd();Fx(this.vb,this.L)}}
class Ix extends Ax.At{constructor(a,b){super(a);this.GD=null;this.QJ=b[1]}ec(){this.GD=this.g.Ca().Ky.get(this.QJ)||null}}"use strict";const Jx=self.A;function Fx(a,b){a.mf||!b||b.Ia().qj||(a.mf=!0)}Jx.yf=class extends Jx.ra{constructor(a,b,d){super();this.vb=a;this.na=d;this.wa=b;this.U=null;this.Gb=this.mf=!1}static ya(a,b,d){const c=b[0];return Jx.m([Kx,Lx,Mx,Nx,Ox,Px,Qx,Kx,Nx,Nx,Rx,Sx,Mx,Tx,Lx,Ux,Vx,Wx,Xx,Yx,Zx,$x][c],a,c,d,b)}ec(){}Ha(){return this.na}F(){return this.vb.F()}we(){return this.vb.we()}};
function sw(a){a=self.VW[a];if(!a)throw Error("invalid expression number");return a}class Kx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);a=c[1];this.RJ=a[0];this.Fv=[];this.Ly=null;for(let e=1,g=a.length;e<g;++e)b=this.Fv,d=b.push,c=a[e],c=Ax.m([Hx,Ex,Gx,Ix,Bx,Dx][c[0]],this,c),d.call(b,c);this.Fv.length?this.U=this.NX:(this.U=sw(this.RJ),this.Gb=!0)}ec(){for(var a of this.Fv)a.ec();a=sw(this.RJ);this.Ly=this.Fv.length?a(this):a}NX(){return this.Ly()}}
class Lx extends Kx{constructor(a,b,d,c){super(a,b,d,c);this.U=this.YX;14===b&&(a=this.we(),a.Me=a.g.jd,this.vb instanceof Jx.kB&&Nw(this.we()))}YX(){const a=this.Ly();return"string"===typeof a?a:""}}class Px extends Kx{constructor(a,b,d,c){super(a,b,d,c);this.U=2<=a.Fq()?this.Et:this.Y;this.Gb=!1}Y(){const a=this.Ly();return vp(this.F()).Y(a)}Et(){const a=this.Y();return a?a.Et():null}}
class Nx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.O1=c[1];this.U=this.KX;this.Gb=!0}KX(){return this.O1}}class Vx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.z1=c[1];this.U=this.JX;this.Gb=!0}JX(){return this.z1}}class Ox extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.L=xo(this.F(),c[1]);this.U=2<=a.Fq()?this.Ft:this.I;a=this.we();Kw(this.L,a.Me);this.vb instanceof Jx.kB?Nw(a):a.Fa()&&Nw(a.Fa());this.Gb=!0}I(){return this.L}Ft(){return this.L?this.L.Ft():null}}
class Qx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.Ag=Dq(this.F().hb,c[1]);this.U=2<=a.Fq()?this.Km:this.xc;this.Gb=!0}xc(){return this.Ag}Km(){return this.Ag?this.Ag.Km():null}}class Ux extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.Oe=this.F().Mb.aq.get(c[1].toLowerCase())||null;this.U=2<=a.Fq()?this.gH:this.bb;this.Gb=!0}bb(){return this.Oe}gH(){return this.Oe?this.Oe.gH():null}}
class Mx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.c2=c[1];this.U=this.PX;this.Gb=!0}PX(){return this.c2}}
class Rx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.ES=c[1];a=this.vb.I();this.vb instanceof Jx.XG&&this.vb.tl()?(this.U=this.eP,this.Gb=!0):a&&a.Oa?(this.U=this.OX,this.mf=!0):(this.U=this.eP,this.Gb=!0)}eP(){return this.ES}OX(a){a=a||0;const b=this.vb.I();var d=b.ca();const c=d.qa();if(c.length)a=c[a%c.length].I();else if(d.ub.length)d=d.ub,a=d[a%d.length].I();else if(0<b.J.length)d=b.qa(),a=d[a%d.length].I();else return 0;return this.ES+a.Lu[b.nj]}}
class Sx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.QJ=c[1];this.GD=null;this.U=2<=a.Fq()?this.UX:this.MX;this.Gb=!0}ec(){this.GD=this.F().Ca().Ky.get(this.QJ)||null}MX(){return this.GD}UX(){return null}}class Wx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.jS=c[1];this.Uu=null;this.U=2<=a.Fq()?this.VX:this.TX;this.Gb=!0}ec(){this.Uu=this.F().Ca().Vu.get(this.jS.toLowerCase())||null;this.jS=null}TX(){return this.Uu}VX(){return null}}
class Tx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.CM=[];this.DU=[];this.Gb=!0;for(let e=1,g=c.length;e<g;++e)a=Jx.yf.ya(this.vb,c[e],0),this.CM.push(a),this.DU.push(0),a.Gb||(this.Gb=!1);this.U=this.$X}ec(){for(const a of this.CM)a.ec()}$X(){const a=this.CM,b=this.DU;for(let d=0,c=a.length;d<c;++d)b[d]=a[d].U(0);return b}}class Xx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.X1=c[1];this.U=this.qo;this.Gb=!0}qo(){return this.X1}}
class Yx extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.F1=c[1];this.U=this.ZX;this.Gb=!0}ZX(){return this.F1}}class Zx extends Kx{constructor(a,b,d,c){super(a,b,d,c);this.U=this.Jt;this.Gb=!1}Jt(){return this.Ly()}}class $x extends Jx.yf{constructor(a,b,d,c){super(a,b,d);this.vn=this.F().xd.Ou.U(c[1]);this.U=this.RX;this.Gb=!0}RX(){return this.vn.fa()}}"use strict";const ay=self.A;function by(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].U(0)}const cy=[];function dy(){}
function Qw(a){for(const b of a.Ba)if(4===b.wa)return b.I();return null}function ey(a){return a.tc.UA}function fy(a){if(a.lc){if(2<=a.lc.ig().Bg)throw Error("not yet implemented");return a.lc}return 2<=a.L.Ia().Bg?a.L.Ft():a.L}function gy(a,b){const d=a.Ba;a=a.Ab;for(let c=0,e=d.length;c<e;++c){const g=d[c];g.mf&&(a[c]=g.U(b))}}
ay.XG=class extends ay.ra{constructor(a,b,d){super();this.$c=a;this.g=a.F();this.na=d;this.Qa=sx(this.g,b[1]);this.$K=0<b[3];this.IS=2===b[3];this.pp=!!b[4];this.oj=!!b[5];this.cf=!!b[6];this.fb=b[7];this.JS=this.$c.Ie;this.lc=this.L=null;this.uk=-1;this.Td=null;this.lb=this.Aa=dy;this.Ba=[];this.Ab=[];this.bn=!1;this.Ij=this.Zb=null;this.tc=this.g.Hb?{UA:b[8][0],ag:b[8][1]}:null;-1===b[0]?this.Td=this.g.Zw():(this.L=xo(this.g,b[0]),b[2]&&(this.lc=this.L.nu.get(b[2].toLowerCase())||null,this.uk=Ir(this.L,
b[2])),this.$c.Fa()&&Nw(this.$c.Fa()));if(10===b.length){a=b[9];for(let c of a)this.Ba.push(ay.yf.ya(this,c,this.Ba.length)),this.Ab.push(0)}0===this.Ba.length&&(this.Ab=this.Ba=cy);this.$c.Ca().vJ.set(this.fb,this)}static ya(a,b,d){return ay.m(ay.XG,a,b,d)}ec(){for(const a of this.Ba)a.ec(),a.mf&&(this.bn=!0);this.IS?(this.Aa=this.g1,this.lb=this.M0):this.Td?(this.Tx(this.Td,this.Td,this.TI),this.lb=this.CI):this.L.Ia().qj?(this.VI(),this.lb=this.BI):this.cf?(this.Aa=this.h1,this.lb=this.U0):(this.Aa=
this.gR,this.lb=this.N0)}VI(){const a=this.L.Ia(),b=W(this.L.sl());this.Tx(a,b,this.SI)}Tx(a,b,d){const c=this.Qa,e=this.oj,g=this.Ba;if(0===g.length){const k=Cx(a,c,b);this.Aa=e?function(){return ay.xor(k(),e)}:k}else if(1===g.length){const k=g[0];if(!e&&k.Gb)this.Aa=hy(a,c,b,k.U(0));else{const l=Cx(a,c,b);this.Aa=function(){return ay.xor(l(k.U(0)),e)}}}else if(2===g.length){const k=g[0],l=g[1];if(!e&&k.Gb&&l.Gb)this.Aa=iy(a,c,b,k.U(0),l.U(0));else{const n=Cx(a,c,b);this.Aa=function(){return ay.xor(n(k.U(0),
l.U(0)),e)}}}else if(3===g.length){const k=g[0],l=g[1],n=g[2];if(!e&&k.Gb&&l.Gb&&n.Gb)this.Aa=jy(a,c,b,k.U(0),l.U(0),n.U(0));else{const p=Cx(a,c,b);this.Aa=function(){return ay.xor(p(k.U(0),l.U(0),n.U(0)),e)}}}else this.Aa=d}I(){return this.L}jg(){return this.lc}Fq(){const a=this.lc?this.lc.ig():this.L?this.L.Ia():null;return a?a.Bg:1}we(){return this.$c}F(){return this.g}Ha(){return this.na}aP(){return this.Ha()}Pq(){return this.$K}tl(){return this.cf}gg(){return!ey(this)&&!Sw(this.g)&&!this.tc.ag}Nm(){this.Zb||
(this.Zb=new Map);return this.Zb}ax(){this.Ij||(this.Ij=new Map);return this.Ij}TI(){const a=this.Ab;by(this.Ba,a);return ay.xor(this.Qa.apply(this.Td,a),this.oj)}*CI(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){var a=this.Ab;by(this.Ba,a);a=this.Qa.apply(this.Td,a);ay.Pm(a)&&(a=yield*a);return ay.xor(a,this.oj)}return this.Aa()}SI(){const a=this.Ab;by(this.Ba,a);const b=W(this.L.sl());return ay.xor(this.Qa.apply(b,a),this.oj)}*BI(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){var a=this.Ab;
by(this.Ba,a);const b=W(this.L.sl());a=this.Qa.apply(b,a);ay.Pm(a)&&(a=yield*a);return ay.xor(a,this.oj)}return this.Aa()}g1(){return!0}*M0(){if(ey(this)||Sw(this.g))yield this;return!0}h1(){var a=this.Ab;by(this.Ba,a);a=this.Qa.apply(fy(this),a);gx(this.L);return a}*U0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){var a=this.Ab;by(this.Ba,a);a=this.Qa.apply(fy(this),a);ay.Pm(a)&&(a=yield*a);gx(this.L);return a}return this.Aa()}gR(){var a=this.Ba,b=this.Ab,d=this.L.ca();for(let J=0,M=a.length;J<
M;++J){var c=a[J];c.mf||(b[J]=c.U(0))}if(d.kb){a=this.L;b=a.Oa;c=a.nj;var e=this.uk,g=0<=e,k=a.qa(),l=this.bn,n=this.Ab,p=this.Qa,r=this.oj,w=this.JS&&!this.$K;lv(d);for(let J=0,M=k.length;J<M;++J){var x=k[J];l&&gy(this,J);var z=void 0;g?(z=b?ky(x.I(),c):0,z=p.apply(W(x.td[e+z]),n)):z=p.apply(W(x),n);ay.xor(z,r)?d.J.push(x):w&&d.ub.push(x)}a.Kw(!0);d.kb=!1;gx(a);d=mv(d)}else{a=this.L;x=a.Oa;z=a.nj;var F=a.yc();const J=this.uk,M=0<=J,P=this.bn,Ja=this.Ab,Sa=this.Qa,Za=this.oj;b=this.JS&&!this.$K;c=
d.J;const Cd=d.ub,tc=(g=b&&!Pw(this.$c,this))?Cd:c;w=0;k=!1;for(let Mb=0,jd=tc.length;Mb<jd;++Mb){var D=tc[Mb];P&&gy(this,Mb);var G=void 0;M?(G=x?ky(D.I(),z):0,G=Sa.apply(W(D.td[J+G]),Ja)):G=Sa.apply(W(D),Ja);if(ay.xor(G,Za))if(k=!0,g){if(c.push(D),F)for(l of D.od)l.I().ca().J.push(l)}else{tc[w]=D;if(F){G=w;for(n of D.od)n.I().ca().J[G]=n}++w}else if(g){tc[w]=D;if(F){G=w;for(p of D.od)p.I().ca().ub[G]=p}++w}else if(b&&(Cd.push(D),F))for(r of D.od)r.I().ca().ub.push(r)}ay.eg(tc,w);if(F){n=a;l=g;p=
w;for(e of n.Kh.cm)n=e.ca(),l?ly.eg(n.ub,p):ly.eg(n.J,p)}e=k;if(g&&!k)a:{k=this.L;g=k.Oa;k=k.nj;l=this.bn;n=this.uk;p=0<=n;r=this.Ab;w=this.Qa;x=this.oj;for(let Mb=0,jd=c.length;Mb<jd;++Mb)if(z=c[Mb],l&&gy(this,Mb),p?(F=g?ky(z.I(),k):0,z=w.apply(W(z.td[n+F]),r)):z=w.apply(W(z),r),ay.xor(z,x)){k=!0;break a}k=!1}a.Kw(e||b);d=b?k:mv(d)}return d}*N0(){if(ey(this)||Sw(this.g))yield this;return this.gR()}oa(){if(!this.Zb||!this.Zb.size)return null;const a={};for(const [b,d]of this.Zb.entries()){let c=d;
"collmemory"===b&&(c=[...d.entries()].map(e=>[e[0].Ob,e[1].Ob,e[2]]));a[b]=c}return{ex:a}}pa(a){this.Zb&&(this.Zb.clear(),this.Zb=null);if(a){var b=this.g,d=a.ex;if(d){a=this.Nm();a.clear();for(const [c,e]of Object.entries(d))d=e,"collmemory"===c&&(d=ay.m(ay.nx,e.map(g=>[Jr(b,g[0]),Jr(b,g[1]),g[2]]).filter(g=>g[0]&&g[1]))),a.set(c,d)}}}};"use strict";const my=self.A;function ny(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].U(0)}const oy=[];function py(){}function*qy(){}
function ry(a){var b=a.$c.Ca();const d=Jv(b,a.qJ,a.tu);if(d.Wb()){const c=0!==(a.D&2);a.To=d.we();let e=[...(new Set([...a.$c.Kd(),...a.To.Kd(),a.L,d.I()]))];e=Fv(b,e);b=!a.L.Oa&&!d.I().Oa;const g=!a.L.Oa&&d.I().Oa,k=a.L.Oa;let l=null;!d.dh&&sy(a)&&(l=l||{},l.jO=!0);if(g||!c)l=l||{},l.lw=a.L,l.jG=d.I();b||g||k&&!d.oK?a.Aa=my.ol.prototype.uC.bind(a.To,e,a.Ba,c,l):k&&(a.Aa=my.Dq.prototype.u_.bind(d,e,a.Ba));a.g.Hb?b||g||k&&!d.oK?a.lb=function*(){if(ey(a)||Sw(a.g))yield a;return yield*fx(a.To,e,a.Ba,
c,l)}:k&&(a.lb=function*(){if(ey(a)||Sw(a.g))yield a;return yield*vx(d,e,a.Ba)}):a.lb=qy}else a.Aa=py,a.lb=qy}function ty(a){const b=a.$c.Ca(),d=b.Vu.get(a.tu.toLowerCase())||null;if(d.Wb()){const c=0!==(a.D&2);a.To=d.we();let e=[...(new Set([...a.$c.Kd(),...a.To.Kd()]))];e=Fv(b,e);const g=!d.dh&&sy(a)?{jO:!0}:null;a.Aa=my.ol.prototype.uC.bind(a.To,e,a.Ba,c,g);a.lb=a.g.Hb?function*(){if(ey(a)||Sw(a.g))yield a;return yield*fx(a.To,e,a.Ba,c,g)}:qy}else a.Aa=py,a.lb=qy}
function sy(a){a=a.$c;do{if(a instanceof my.Dq&&a.dh)return!0;a=a.Hq()}while(a);return!1}
my.kB=class extends my.ra{constructor(a,b,d){super();this.$c=a;this.g=a=a.F();this.na=d;this.fb=4<=b.length?b[3]:-1;this.Wx=5<=b.length?b[4]&255:0;this.D=5<=b.length?b[4]>>8:0;this.lc=this.L=this.Qa=null;this.uk=-1;this.Td=null;this.tu="";this.To=this.qJ=null;this.lb=this.Aa=py;this.Ba=[];this.Ab=[];this.bn=!1;this.Ij=this.Zb=null;const c=(d=-3===b[0])?b[2]:b[5];this.tc=a.Hb||d?{UA:c[0],ag:c[1],index:c[2]}:null;-1===b[0]?(this.Td=a.Zw(),this.Qa=sx(a,b[1])):-2===b[0]?this.tu=b[1]:d?(this.Qa=sx(a,b[1]),
this.Aa=this.UH,this.lb=this.iX,this.D|=8):(this.L=xo(a,b[0]),this.D&4?(this.tu=b[1],this.qJ=xo(a,b[2])):(b[2]&&(this.lc=this.L.nu.get(b[2].toLowerCase())||null,this.uk=Ir(this.L,b[2])),this.Qa=sx(a,b[1])));if(7===b.length){b=b[6];for(var e of b)this.Ba.push(my.yf.ya(this,e,this.Ba.length)),this.Ab.push(0)}0===this.Ba.length&&(this.Ab=this.Ba=oy);0!==(this.D&1)&&(e=this.$c,e.Me=e.g.jd,Nw(this.$c));this.$c.Ca().VC.set(this.fb,this)}static ya(a,b,d){return my.m(my.kB,a,b,d)}ec(){for(var a of this.Ba)a.ec(),
a.mf&&(this.bn=!0);if(this.Td)this.Tx(this.Td,this.Td,this.TI),this.lb=this.CI;else if(this.tu)this.D&4?ry(this):ty(this),this.tu="",this.qJ=null;else if(this.Aa===this.UH){a=this.Qa;const b=Hv(this.$c);this.Qa=a.bind(null,this.g.$g,b)}else this.lc?this.li()?(this.Aa=this.fR,this.lb=this.L0):(this.Aa=this.eR,this.lb=this.K0):this.L.Ia().qj?(this.VI(),this.lb=this.BI):this.tl()?(this.Aa=this.mR,this.lb=this.T0):this.li()?(this.Aa=this.iR,this.lb=this.P0):2===this.Wx?(this.Aa=this.jR,this.lb=this.Q0):
this.Ba.length?this.Ba.every(b=>b.mf)?(this.Aa=this.hR,this.lb=this.O0):this.bn?(this.Aa=this.lR,this.lb=this.S0):this.Ba.every(b=>b.Gb)?(ny(this.Ba,this.Ab),this.Aa=this.RI,this.lb=this.bR):(this.Aa=this.kR,this.lb=this.R0):(this.Aa=this.RI,this.lb=this.bR)}VI(){const a=this.L.Ia(),b=W(this.L.sl());this.Tx(a,b,this.SI)}Tx(a,b,d){const c=this.Qa,e=this.Ba;if(0===e.length)this.Aa=Cx(a,c,b);else if(1===e.length){const g=e[0];if(g.Gb)this.Aa=hy(a,c,b,g.U(0));else{const k=Cx(a,c,b);this.Aa=function(){return k(g.U(0))}}}else if(2===
e.length){const g=e[0],k=e[1];if(g.Gb&&k.Gb)this.Aa=iy(a,c,b,g.U(0),k.U(0));else{const l=Cx(a,c,b);this.Aa=function(){return l(g.U(0),k.U(0))}}}else if(3===e.length){const g=e[0],k=e[1],l=e[2];if(g.Gb&&k.Gb&&l.Gb)this.Aa=jy(a,c,b,g.U(0),k.U(0),l.U(0));else{const n=Cx(a,c,b);this.Aa=function(){return n(g.U(0),k.U(0),l.U(0))}}}else this.Aa=d}li(){return 0!==(this.D&8)}tl(){return 3===this.Wx}I(){return this.L}Fq(){const a=this.lc?this.lc.ig():this.L?this.L.Ia():null;return a?a.Bg:1}we(){return this.$c}F(){return this.g}Ha(){return this.na}aP(){return this.tc.index}gg(){return!ey(this)&&
!Sw(this.g)&&!this.tc.ag}Nm(){this.Zb||(this.Zb=new Map);return this.Zb}ax(){this.Ij||(this.Ij=new Map);return this.Ij}TI(){const a=this.Ab;ny(this.Ba,a);return this.Qa.apply(this.Td,a)}*CI(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const a=this.Ab;ny(this.Ba,a);return yield*this.Qa.apply(this.Td,a)}return this.Aa()}SI(){const a=this.Ab;ny(this.Ba,a);return this.Qa.apply(W(this.L.sl()),a)}*BI(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const a=this.Ab;ny(this.Ba,a);return yield*this.Qa.apply(W(this.L.sl()),
a)}return this.Aa()}RI(){const a=this.Ab,b=this.L.ca().qa();for(let d=0,c=b.length;d<c;++d)this.Qa.apply(W(b[d]),a)}*bR(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const a=this.Ab,b=this.L.ca().qa();for(let d=0,c=b.length;d<c;++d)yield*this.Qa.apply(W(b[d]),a)}else this.RI()}kR(){const a=this.Ab;ny(this.Ba,a);const b=this.L.ca().qa();for(let d=0,c=b.length;d<c;++d)this.Qa.apply(W(b[d]),a)}*R0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const a=this.Ab;ny(this.Ba,a);const b=this.L.ca().qa();
for(let d=0,c=b.length;d<c;++d)yield*this.Qa.apply(W(b[d]),a)}else this.kR()}hR(){const a=this.Ba,b=this.Ab,d=this.Qa,c=this.L.ca().qa();for(let e=0,g=c.length;e<g;++e){const k=c[e];for(let l=0,n=a.length;l<n;++l)b[l]=a[l].U(e);d.apply(W(k),b)}}*O0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const a=this.Ba,b=this.Ab,d=this.Qa,c=this.L.ca().qa();for(let e=0,g=c.length;e<g;++e){const k=c[e];for(let l=0,n=a.length;l<n;++l)b[l]=a[l].U(e);yield*d.apply(W(k),b)}}else this.hR()}lR(){const a=this.Ba,
b=this.Ab,d=this.Qa,c=this.L.ca().qa();for(let g=0,k=a.length;g<k;++g){var e=a[g];e.mf||(b[g]=e.U(0))}for(let g=0,k=c.length;g<k;++g){e=c[g];for(let l=0,n=a.length;l<n;++l){const p=a[l];p.mf&&(b[l]=p.U(g))}d.apply(W(e),b)}}*S0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const b=this.Ba,d=this.Ab,c=this.Qa,e=this.L.ca().qa();for(let g=0,k=b.length;g<k;++g){var a=b[g];a.mf||(d[g]=a.U(0))}for(let g=0,k=e.length;g<k;++g){a=e[g];for(let l=0,n=b.length;l<n;++l){const p=b[l];p.mf&&(d[l]=p.U(g))}yield*c.apply(W(a),
d)}}else this.lR()}jR(){const a=this.Ba,b=this.Ab,d=this.Qa;var c=this.L;const e=c.wb;c=c.ca().qa();e.OG();for(let g=0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].U(g);d.apply(W(l),b)}e.LG()}*Q0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const b=this.Ba,d=this.Ab,c=this.Qa;var a=this.L;const e=a.wb;a=a.ca().qa();e.OG();for(let g=0,k=a.length;g<k;++g){const l=a[g];for(let n=0,p=b.length;n<p;++n)d[n]=b[n].U(g);yield*c.apply(W(l),d)}e.LG()}else this.jR()}mR(){const a=
this.Ab;ny(this.Ba,a);return this.Qa.apply(this.lc||this.L,a)}*T0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){var a=this.Ab;ny(this.Ba,a);a=this.Qa.apply(this.lc||this.L,a);my.Pm(a)&&(a=yield*a);return a}return this.mR()}eR(){var a=this.L;const b=a.Oa,d=a.nj,c=this.Ba,e=this.bn,g=this.Ab,k=this.Qa,l=this.uk;a=a.ca().qa();for(let r=0,w=c.length;r<w;++r){var n=c[r];n.mf||(g[r]=n.U(0))}for(let r=0,w=a.length;r<w;++r){n=a[r];if(e)for(let x=0,z=c.length;x<z;++x){var p=c[x];p.mf&&(g[x]=p.U(r))}p=
b?ky(n.I(),d):0;k.apply(W(n.td[l+p]),g)}}*K0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){var a=this.L;const c=a.Oa,e=a.nj,g=this.Ba,k=this.bn,l=this.Ab,n=this.Qa,p=this.uk;a=a.ca().qa();for(let r=0,w=g.length;r<w;++r){var b=g[r];b.mf||(l[r]=b.U(0))}for(let r=0,w=a.length;r<w;++r){b=a[r];if(k)for(let x=0,z=g.length;x<z;++x){var d=g[x];d.mf&&(l[x]=d.U(r))}d=c?ky(b.I(),e):0;yield*n.apply(W(b.td[p+d]),l)}}else this.eR()}iR(){const a=this.Ba,b=this.Ab,d=this.Qa,c=this.L.ca().qa(),e=[];for(let g=
0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].U(g);e.push(d.apply(W(l),b))}return Promise.all(e)}*P0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){const a=this.Ba,b=this.Ab,d=this.Qa,c=this.L.ca().qa(),e=[];for(let g=0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].U(g);e.push(yield*d.apply(W(l),b))}return Promise.all(e)}return this.iR()}fR(){var a=this.L;const b=a.Oa,d=a.nj,c=this.Ba,e=this.Ab,g=this.Qa,k=this.uk;a=a.ca().qa();const l=
[];for(let n=0,p=a.length;n<p;++n){const r=a[n];for(let x=0,z=c.length;x<z;++x)e[x]=c[x].U(n);const w=b?ky(r.I(),d):0;l.push(g.apply(W(r.td[k+w]),e))}return Promise.all(l)}*L0(){if(ey(this)||Sw(this.g))yield this;if(this.tc.ag){var a=this.L;const b=a.Oa,d=a.nj,c=this.Ba,e=this.Ab,g=this.Qa,k=this.uk;a=a.ca().qa();const l=[];for(let n=0,p=a.length;n<p;++n){const r=a[n];for(let x=0,z=c.length;x<z;++x)e[x]=c[x].U(n);const w=b?ky(r.I(),d):0;l.push(yield*g.apply(W(r.td[k+w]),e))}return Promise.all(l)}return this.fR()}async UH(){try{await this.Qa()}catch(a){console.error(`Unhandled exception running script %c${this.$c.md.fa()}, event ${this.$c.Fu}, action ${this.aP()+
1}:`,"font-size: 1.2em; font-weight: bold;",a),self.di&&self.di.i1(this),qx||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),qx=!0)}}*iX(){if(ey(this)||Sw(this.g))yield this;return this.UH()}oa(){return this.Zb&&this.Zb.size?{ex:my.qI(this.Zb)}:null}pa(a){this.Zb&&(this.Zb.clear(),this.Zb=null);a&&(a=a.ex)&&(this.Zb=my.bH(a))}};"use strict";
const uy=self.A,vy=new uy.gb;let wy=null;uy.aX=function(a){wy=a};function xy(a){return a instanceof self.je?wy.Jk.get(a):a.ia()}function yy(a){return xy(a).C()}function zy(a,b){return uy.compare(yy(this).Da(),a,b)}function Ay(a,b){return uy.compare(yy(this).Ea(),a,b)}function By(){return Cy(yy(this))}function Dy(){var a=yy(this);const b=a.xc();a=Ul(a);return 0>a.la||0>a.ga||a.aa>b.M()||a.X>b.K()}
function Ey(a,b,d){const c=this.ca(),e=c.qa();if(!e.length)return!1;let g=e[0];var k=g.C();let l=g,n=uy.eV(k.Da(),k.Ea(),b,d);for(let p=1,r=e.length;p<r;++p)if(g=e[p],k=g.C(),k=uy.eV(k.Da(),k.Ea(),b,d),0===a&&k<n||1===a&&k>n)n=k,l=g;sv(c,l);return!0}function Fy(a){const b=yy(this);b.Da()!==a&&(b.mk(a),Sl(b))}function Gy(a){const b=yy(this);b.Ea()!==a&&(b.nk(a),Sl(b))}function Hy(a,b){const d=yy(this);if(d.Da()!==a||d.Ea()!==b)Tl(d,a,b),Sl(d)}
function Iy(a,b){if(a){var d=xy(this);a=a.ca().qa();if(a=0<a.length?a[jq(d)%a.length]:null){var [c,e]=a.ro(b);b=d.C();if(b.Da()!==c||b.Ea()!==e)Tl(b,c,e),Sl(b)}}}function Jy(a){if(0!==a){var b=yy(this);zp(b,Ky(b)*a,Ly(b)*a);Sl(b)}}function My(a,b){if(0!==b){var d=yy(this);a=uy.ib(a);zp(d,Math.cos(a)*b,Math.sin(a)*b);Sl(d)}}function Ny(){return yy(this).Da()}function Oy(){return yy(this).Ea()}function Py(){const a=xy(this);return Qk(a.F(),a)}function Qy(a,b){return uy.compare(yy(this).M(),a,b)}
function Ry(a,b){return uy.compare(yy(this).K(),a,b)}function Sy(a){const b=yy(this);b.M()!==a&&(b.qg(a),Sl(b))}function Ty(a){const b=yy(this);b.K()!==a&&(b.zh(a),Sl(b))}function Uy(a,b){const d=yy(this);if(d.M()!==a||d.K()!==b)d.sd(a,b),Sl(d)}function Vy(){return yy(this).M()}function Wy(){return yy(this).K()}function Xy(){return Ul(yy(this)).aa}function Yy(){return Ul(yy(this)).X}function Zy(){return Ul(yy(this)).la}function $y(){return Ul(yy(this)).ga}
function az(){const a=Ul(yy(this));return(a.aa+a.la)/2}function bz(){const a=Ul(yy(this));return(a.X+a.ga)/2}function cz(a,b){return uy.Xs(yy(this).Ra(),uy.ib(b))<=uy.ib(a)}function dz(a){return uy.Fg(yy(this).Ra(),uy.ib(a))}function ez(a,b){a=uy.ib(a);b=uy.ib(b);const d=yy(this).Ra();return uy.Fg(b,a)?uy.Fg(d,a)&&!uy.Fg(d,b):!(!uy.Fg(d,a)&&uy.Fg(d,b))}function fz(a){const b=yy(this);a=uy.Wd(uy.ib(a));isNaN(a)||b.Ra()===a||(b.Be(a),Sl(b))}
function gz(a){if(!isNaN(a)&&0!==a){var b=yy(this);b.Be(b.Ra()+uy.ib(a));Sl(b)}}function hz(a){if(!isNaN(a)&&0!==a){var b=yy(this);b.Be(b.Ra()-uy.ib(a));Sl(b)}}function iz(a,b){const d=yy(this),c=d.Ra();a=uy.jN(c,uy.ib(b),uy.ib(a));isNaN(a)||c===a||(d.Be(a),Sl(d))}function jz(a,b,d){const c=yy(this),e=c.Ra();b-=c.Da();d-=c.Ea();a=uy.jN(e,Math.atan2(d,b),uy.ib(a));isNaN(a)||e===a||(c.Be(a),Sl(c))}
function kz(a,b){const d=yy(this),c=d.Ra();a-=d.Da();b-=d.Ea();b=Math.atan2(b,a);isNaN(b)||c===b||(d.Be(b),Sl(d))}function lz(){return uy.Vj(yy(this).Ra())}function mz(a,b){return uy.compare(uy.QV(100*yy(this).ac()),a,b)}function nz(){return yy(this).Uc()}function oz(a){const b=xy(this),d=b.C();a=2===a?!d.Uc():0!==a;d.Uc()!==a&&(d.Bh(a),b.F().Z())}function pz(a){a=uy.V(a/100,0,1);const b=xy(this),d=b.C();if(Ht(d)){if(d.Ga.dm===a)return}else if(d.ac()===a)return;d.De(a);b.F().Z()}
function qz(a){cc(vy,a);a=xy(this);const b=a.C();$b(b.rb,vy)||(qt(b,vy),a.F().Z())}function rz(){const a=yy(this).rb;return uy.mC(a.$a,a.eb,a.Za,a.Wa)}function sz(){return uy.QV(100*yy(this).ac())}function tz(a){return a?yy(this).Y()===a:!1}function uz(a){const b=this.ca(),d=b.qa();if(!d.length)return!1;let c=d[0];for(let e=1,g=d.length;e<g;++e){const k=d[e],l=k.C(),n=c.C(),p=l.Y().Ha(),r=n.Y().Ha();if(0===a){if(p>r||p===r&&Vl(l)>Vl(n))c=k}else if(p<r||p===r&&Vl(l)<Vl(n))c=k}sv(b,c);return!0}
function vz(a,b,d){const c=yy(this);a=0===a?c.jb():op(c);return uy.compare(a,b,d)}function wz(){var a=yy(this);const b=a.$,d=a.sj,c=d.J;c.length&&c.at(-1)===b||(d.jr(b,!1),d.ti(b,!1),a.g.Z())}function xz(){var a=yy(this);const b=a.$,d=a.sj;var c=d.J;if(!c.length||c[0]!==b){d.jr(b,!1);c=b.C();if(c.Y()!==d)throw Error("instance added to wrong layer");d.J.unshift(b);0!==c.jb()&&(d.an=!0);zo(d,b);a.g.Z()}}
function yz(a){if(a){var b=yy(this);const d=b.$,c=b.sj;if(c.xc()!==a.xc())throw Error("layer from different layout");a!==c&&(c.jr(d,!0),cq(b,a),a.ti(d,!0),b.g.Z())}}
function zz(a,b){var d=0===a;if(b){a=xy(this);var c=Az(b,a);if(c){b=a.C();var e=b.$;a=!1;var g=b.sj;if(c.Ob!==e.Ob){var k=c.C();if(!k)throw Error("expected world instance");k=k.Y();g.Ha()!==k.Ha()&&(g.jr(e,!0),cq(b,k),k.ti(e,!0),a=!0);d=!!d;g=e.C();c=c.C();if(g.Y()!==k||c.Y()!==k)throw Error("can't arrange Z order unless both objects on this layer");g=Vl(g);c=Vl(c);g===c+(d?1:-1)?k=!1:(X.u3(k.J,g),g<c&&c--,d&&c++,c===k.J.length?k.J.push(e):k.J.splice(c,0,e),zo(k,e),k=!0);(a||k)&&b.g.Z()}}}}
function Bz(a){const b=xy(this),d=b.C();d.jb()!==a&&(d.Rg(a),b.F().Z())}function Cz(){return yy(this).Y().Ha()}function Dz(){return yy(this).Y().fa()}function Ez(){return Vl(yy(this))}function Fz(){return yy(this).jb()}function Gz(){return op(yy(this))}function Hz(a){const b=xy(this);if(a=Mr(b.I().Ma,a))return a=a.Ha(),b.C().Jf.wo(a)}function Iz(a,b){const d=xy(this);if(b=Mr(d.I().Ma,b)){b=b.Ha();a=1===a;var c=d.C().Jf;c.wo(b)!==a&&(c.ZH(b,a),c.Fh(),d.F().Z())}}
function Jz(a,b,d){const c=xy(this);if(a=Mr(c.I().Ma,a)){b=Math.floor(b);var e=a.ye().Ww(b);e&&("color"===e?(cc(vy,d),d=vy):"percent"===e&&(d/=100),a=a.Ha(),e=c.C().Jf,e.yx(a,b,d)&&e.wo(a)&&c.F().Z())}}const Kz=uy.m(uy.Rect),Lz=[],Mz=[];let Nz=!1,Oz=null,Pz=!1;const rv=new Set;function Qz(a,b,d,c){b.Ob<d.Ob?a.Set(b,d,c):a.Set(d,b,c)}function Rz(a,b,d){b.Ob<d.Ob?a.Aq(b,d):a.Aq(d,b)}function Sz(a,b,d){return b.Ob<d.Ob?a.U(b,d):a.U(d,b)}
function Tz(a,b,d,c){if(!b)return!1;const e=0!==d||0!==c,g=a.C(),k=a.F();var l=k.tf();const n=l.we().Ie;var p=l.I();l=l.oj;const r=b.ca();p=p!==b;Oz=b;Nz=p&&!l;Pz=!1;let w=0,x=0,z=!1;r.kb?(Kz.xa(Ul(g)),Kz.offset(d,c),Uz(g.Y(),b,Kz,Mz),b=Mz):n?0===k.kg().me&&!r.ub.length&&r.J.length?b=r.J:(b=r.ub,Pz=!0):b=r.J;e&&(w=g.Da(),x=g.Ea(),zp(g,d,c),Sl(g));for(const F of b)if(Vz(a,F)){z=!0;if(l)break;p&&rv.add(F)}e&&(Tl(g,w,x),Sl(g));uy.G(Mz);return z}
function Wz(a,b){if(Nz){if(b){b=a.F().$b().Ie;a=Oz.ca();const d=a.J,c=a.ub;if(a.kb)pv(a,rv),b&&(uy.G(c),qv(a,Oz.qa()));else if(b)if(Pz){b=rv;for(const e of b)a.J.push(e);kv.ai(a.ub,b)}else qv(a,d),pv(a,rv);else pv(a,rv);gx(Oz)}rv.clear();Oz=null;Nz=!1}}
function Xz(a){if(this.g.Lf)return Yz.call(this,a);if(!a)return!1;var b=this.g;const d=b.vk;var c=b.Ca();const e=c.Hd();var g=c.tf();c=g.I();var k=g.Nm(),l=g.ax();g=tv(e);const n=b.Qi,p=n-1,r=g.$b(),w=e.ab(r);let x=k.get("collmemory");x||(x=uy.m(uy.nx),k.set("collmemory",x));l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),b.Ua().addEventListener("instancedestroy",G=>{Fc(x,G.instance)}));b=a.ca();k=c.ca().qa();l=null;for(let G=0;G<k.length;++G){const J=k[G];b.kb?
(Uz(J.C().Y(),a,Ul(J.C()),Lz),l=Lz,Zz(d,J,a,l)):l=b.qa();for(let M=0;M<l.length;++M){const P=l[M];if(Vz(J,P)||$z(d,J,P)){var z=Sz(x,J,P),F=!1,D=-2;"number"===typeof z&&(F=!0,D=z);z=!F||D<p;Qz(x,J,P,n);z&&(z=r.Jd(),Vv(z),D=c.ca(),F=a.ca(),D.kb=!1,F.kb=!1,c===a?(F=D.J,uy.G(F),F.push(J),F.push(P),gx(c)):(D=D.J,F=F.J,uy.G(D),uy.G(F),D.push(J),F.push(P),gx(c),gx(a)),Zw(r,g,w),Wv(z))}else Rz(x,J,P)}uy.G(Lz)}e.Ya();return!1}
function*Yz(a){if(!a)return!1;var b=this.g;const d=b.vk;var c=b.Ca();const e=c.Hd();var g=c.tf();c=g.I();var k=g.Nm(),l=g.ax();g=tv(e);const n=b.Qi,p=n-1,r=g.$b(),w=e.ab(r);let x=k.get("collmemory");x||(x=uy.m(uy.nx),k.set("collmemory",x));l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),b.Ua().addEventListener("instancedestroy",G=>{Fc(x,G.instance)}));b=a.ca();k=c.ca().qa();l=null;for(let G=0;G<k.length;++G){const J=k[G];b.kb?(Uz(J.C().Y(),a,Ul(J.C()),Lz),l=
Lz,Zz(d,J,a,l)):l=b.qa();for(let M=0;M<l.length;++M){const P=l[M];if(Vz(J,P)||$z(d,J,P)){var z=Sz(x,J,P),F=!1,D=-2;"number"===typeof z&&(F=!0,D=z);z=!F||D<p;Qz(x,J,P,n);z&&(z=r.Jd(),Vv(z),D=c.ca(),F=a.ca(),D.kb=!1,F.kb=!1,c===a?(F=D.J,uy.G(F),F.push(J),F.push(P),gx(c)):(D=D.J,F=F.J,uy.G(D),uy.G(F),D.push(J),F.push(P),gx(c),gx(a)),yield*$w(r,g,w),Wv(z))}else Rz(x,J,P)}uy.G(Lz)}e.Ya();return!1}function aA(a){return Tz(xy(this),a,0,0)}function bA(a,b,d){return Tz(xy(this),a,b,d)}
function cA(){return yy(this).vf()}function dA(){return yy(this).Ve()}
function eA(a,b){const d=this.ca().qa();if(0===d.length)return!1;const c=a.ca();var e=c.qa();if(c.kb){var g=[...fA(this.g,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=new Set;for(let l=0,n=d.length;l<n;++l){var k=d[l];if(1===b)for(const p of k.zw())gA(p,a)&&e.has(p)&&g.add(p);else{if(0===b){if(k=k.Fa(),null===k)continue}else k=k.uo();gA(k,a)&&e.has(k)&&g.add(k)}}if(0===g.size)return!1;pv(c,g);gx(a);return!0}
function hA(a,b){const d=this.ca().qa();if(0===d.length)return!1;const c=a.ca();var e=c.qa();if(c.kb){var g=[...fA(this.g,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=new Set;for(let k=0,l=d.length;k<l;++k){const n=d[k];2===b&&!n.Ve()&&gA(n,a)&&e.has(n)&&g.add(n);for(const p of 0===b?n.children():n.Pj())2===b&&p.Ve()||gA(p,a)&&e.has(p)&&g.add(p)}if(0===g.size)return!1;pv(c,g);gx(a);return!0}
function iA(a,b){const d=this.ca().qa();if(0===d.length)return!1;const c=a.ca();var e=c.qa();if(c.kb){var g=[...fA(this.g,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=[];for(let k=0,l=d.length;k<l;++k){const n=d[k].KB(b);null!==n&&gA(n,a)&&e.has(n)&&g.push(n)}if(0===g.length)return!1;ov(c,g);gx(a);return!0}function jA(a,b,d){const c=xy(this);switch(a){default:return uy.compare(c.LB(),b,d);case 1:return uy.compare(c.EB(),b,d)}}
function kA(a,b,d,c,e,g,k,l,n,p){const r=xy(this),w=r.F().Nw().I();for(const x of lA(a,r,w)){if(!x.Ia().nU)break;r.Wj(x,{lt:b,mt:d,sq:c,rq:e,it:g,jt:k,nt:l,kt:n,mw:p})}}function mA(a){const b=xy(this),d=b.F().Nw().I();for(const c of lA(a,b,d))b.zl(c)}function nA(){const a=xy(this);a.vf()&&a.Fa().zl(a)}function oA(){return xy(this).LB()}function pA(){return xy(this).EB()}function qA(a,b){a=Math.floor(a);b=Math.floor(b);const d=yy(this);2>a||2>b||!isFinite(a)||!isFinite(b)?(rA(d),Sl(d)):sA(d,a,b)}
function tA(a,b,d,c,e,g,k,l){const n=yy(this);n.IQ(a,b,{mode:0===d?"absolute":"relative",x:c,y:e,ll:g,fW:k,lW:l})&&Sl(n)}function uA(){const a=yy(this);return vA(a)?wA(a).Ul:0}function xA(){const a=yy(this);return vA(a)?wA(a).rm:0}function yA(a){const b=yy(this);a=2===a?!b.Uc():0!==a;b.Uc()!==a&&b.Bh(a)}function zA(a,b){this instanceof self.je?this.IV("set-css-style",{prop:Nm.SG(a),val:b}):AA(this,"set-css-style",{prop:BA.SG(a),val:b})}
function CA(a,b){this instanceof self.je?this.IV("set-attribute",{name:a,val:""+b}):AA(this,"set-attribute",{name:a,val:""+b})}function DA(a){this instanceof self.je?this.IV("remove-attribute",{name:a}):AA(this,"remove-attribute",{name:a})}function EA(){this instanceof self.je?Sm(this,{focus:!0}):Yl(this,"focus",{focus:!0})}function FA(){this instanceof self.je?Sm(this,{focus:!1}):Yl(this,"focus",{focus:!1})}function GA(){return this instanceof self.je?this.OL:this.OJ}
function HA(a){this instanceof self.je?this.hfa(0!==a):this.ffa(0!==a)}function IA(){return this instanceof self.je?this.wE():this.efa()}function JA(a,b,d){return uy.compare(ut(xy(this),a),b,d)}function KA(a){return!!ut(xy(this),a)}function LA(){return xy(this).Jt()}
function MA(a,b){const d=this.ca(),c=d.qa();if(!c.length)return!1;const e=this.Oa;let g=null,k=0;for(let n=0,p=c.length;n<p;++n){const r=c[n];var l=e?r.I().Lu[this.nj]:0;l=ut(r,l+b);if(null===g||0===a&&l<k||1===a&&l>k)k=l,g=r}sv(d,g);return!0}
function NA(a){if(this.g.tf().oj){{const c=this.ca();if(c.kb){c.kb=!1;lv(c);var b=this.qa();for(let e=0,g=b.length;e<g;++e){var d=b[e];d.Ob===a?c.ub.push(d):c.J.push(d)}gx(this);a=!!c.J.length}else{b=c.J;d=0;for(let e=0,g=b.length;e<g;++e){const k=b[e];b[d]=k;k.Ob===a?c.ub.push(k):++d}uy.eg(b,d);gx(this);a=!!b.length}}}else a=OA(this,a);return a}
function OA(a,b){b=Jr(a.F(),b);if(!b)return!1;const d=a.ca();if(!d.kb&&!d.J.includes(b))return!1;if(a.Oa){if(PA(b.I(),a))return sv(d,b),gx(a),!0}else if(b.I()===a)return sv(d,b),gx(a),!0;return!1}function QA(){const a=xy(this);tp(a.F(),a)}function RA(){return!0}function SA(){return!0}function TA(a,b){xy(this).Fo(a,b)}function UA(a,b){const d=xy(this),c=ut(d,a);"number"===typeof c&&"number"!==typeof b?b=parseFloat(b):"string"===typeof c&&"string"!==typeof b&&(b=b.toString());d.Fo(a,c+b)}
function VA(a,b){const d=xy(this),c=ut(d,a);"number"===typeof c&&("number"!==typeof b&&(b=parseFloat(b)),d.Fo(a,c-b))}function WA(a,b){xy(this).Fo(a,b?1:0)}function XA(a){const b=xy(this);b.Fo(a,0===ut(b,a)?1:0)}function YA(a){let b;try{b=JSON.parse(a)}catch(d){console.error("Failed to load from JSON string: ",d);return}a=xy(this);ZA(a.F());a.cu("state");a.zc(b,"state");$A(a.F(),"state",{tga:!0})}function aB(){return JSON.stringify(xy(this).rd("state"))}function bB(){return xy(this).I().fa()}
function iB(){const a=xy(this).F(),b=a.kg().ZR;let d=b.J.length;for(const c of fA(a,b))++d;return d}function jB(){return xy(this).F().kg().ZR.ca().qa().length}function kB(){return jq(xy(this))}function lB(){return xy(this).Ob}
uy.vW=function(a,b){const d=a[1],c=a[4],e=a[5],g=a[6],k=a[7],l=a[8],n=a[10],p=a[11],r=a[12],w=a[13],x=a[14],z=a[15],F=a[16],D=b.H,G=b.Sa,J=b.rf;a[3]&&(D.J6=zy,D.dX=Ay,D.W8=By,D.Y8=Dy,D.M$=Ey,G.mk=Fy,G.nk=Gy,G.M_=Hy,G.bda=Iy,G.L9=Jy,G.K9=My,J.ZQ=Ny,J.$Q=Oy,J.wN=Py);c&&(D.I6=Qy,D.C6=Ry,G.qg=Sy,G.zh=Ty,G.sd=Uy,J.Wea=Vy,J.X7=Wy,J.S5=Xy,J.W5=Yy,J.V5=Zy,J.R5=$y,J.T5=az,J.U5=bz);e&&(D.AW=cz,D.JY=dz,D.HY=ez,G.Be=fz,G.Cba=gz,G.Dba=hz,G.Eba=iz,G.Fba=jz,G.kda=kz,J.G5=lz);g&&(D.Uc=nz,D.E6=mz,G.Bh=oz,G.De=pz,
G.dca=qz,J.Opacity=sz,J.u6=rz);k&&(D.U8=tz,D.U$=uz,D.K6=vz,G.M9=wz,G.hZ=xz,G.MP=yz,G.cfa=zz,G.Rg=Bz,J.t9=Cz,J.r9=Dz,J.bfa=Ez,J.afa=Fz,J.kea=Gz);l&&(D.E8=Hz,G.gca=Iz,G.hca=Jz);w&&(D.vf=cA,D.Ve=dA,D.S$=eA,D.L$=hA,D.Q$=iA,D.y6=jA,G.Wj=kA,G.zl=mA,G.Caa=nA,J.p6=oA,J.B5=pA);x&&(G.Vca=qA,G.IQ=tA,J.I9=uA,J.J9=xA);n&&(D.Uc=nz,G.Bh=yA,G.Zba=zA,G.ica=CA,G.Baa=DA);p&&(D.H8=GA,G.mca=EA,G.Xba=FA);r&&(D.Wb=IA,G.wC=HA);z&&(D.g$=Xz,D.Z8=aA,D.a9=bA,b.yX=Wz);d||(D.D6=JA,D.x8=KA,D.N$=MA,D.iQ=NA,G.J_=TA,G.n5=UA,G.Tda=
VA,G.Yba=WA,G.jea=XA,D.vZ=RA,D.wZ=SA,G.QO=QA,G.EH||(G.EH=YA),J.DW||(J.DW=aB),J.P6=iB,J.V$=jB,J.Z7=kB,J.rea=lB,J.V9=bB);F&&(J.dea=LA)};"use strict";const iw=self.A;function bw(a){return"timer"===a.wa?a.Gd<=Rk(a.La.F()):a.hv}async function cw(a,b){mB(a,b);for(const d of Yw(a.Ak,b))await Nv(a.La.F(),d);a.jn&&a.jn.li()&&ix(a.jn,a.by);Tv(a.Me);a.dA=!0}
function nB(a,b){a.wa="promise";a.Nx();b.then(()=>{a.hv=!0}).catch(d=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",d);a.hv=!0})}function mB(a,b){b.QI(a.Ak,a.Ye);for(const [d,c]of a.Hs.entries())c.QI(d.ca());a.Ff&&xv(b,[...a.Ff]);if(b=a.jn)dx(b,a.Zg),b.zK.map((d,c)=>d.ae(a.eK[c])),b.li()&&ux(b,a.by)}
iw.DQ=class extends iw.ra{constructor(a){super();this.La=a;this.wa="";this.Gd=-1;this.eA="";this.hv=!1;this.Ak=null;this.Ye=0;this.Me=[];this.Ff=null;this.Hs=new Map;this.jn=null;this.by=-1;this.eK=this.Zg=null;this.dA=!1}j(){this.wa="";this.Gd=-1;this.eA="";this.eK=this.Zg=this.jn=this.Ak=null;this.by=-1;iw.G(this.Me);this.Ff&&(this.Ff.clear(),this.Ff=null);for(const a of this.Hs.values())a.j();this.Hs.clear()}Nx(){var a=this.La,b=a.F().jd,d=a.kg();this.Ak=d.$b();this.Ye=d.Ye+1;if(d=ew(this.Ak))this.jn=
d,this.Zg=tx(d),this.eK=d.zK.map(c=>c.ed()),d.li()&&(d.ey.get(d.vy).fO++,this.by=d.vy);for(const c of b)if(b=c.ca(),!b.kb||this.Ak.Me.includes(c))this.Me.push(c),this.Hs.set(c,iw.m(iw.OQ,b));a=Xv(a);this.Ff=0<a.size?a:null}Xq(a){for(const b of this.Hs.values())b.Xq(a)}oa(){const a={},b={t:this.Gd,st:this.eA,s:this.hv,ev:this.Ak.fb,sm:this.Me.map(d=>d.fb),dsm:this.Ff?[...this.Ff].map(d=>d.fb):null,sols:a};Rw(this.Ak,this.Ye)&&(b.act=hw(this.Ak,this.Ye).fb);for(const [d,c]of this.Hs)a[d.fb.toString()]=
c.oa();return b}};"use strict";const oB=self.A;oB.OQ=class extends oB.ra{constructor(a){super();this.L=null;this.EE=!0;this.J=[];a&&(this.L=a.I(),this.EE=a.kb,oB.Bd(this.J,a.J))}j(){this.L=null;oB.G(this.J)}QI(a){a.kb=!!this.EE;oB.Bd(a.J,this.J)}Xq(a){oB.ai(this.J,a)}oa(){return{sa:this.EE,insts:this.J.map(a=>a.Ob)}}pa(a,b){a=a.F();this.EE=!!b.sa;oB.G(this.J);for(const d of b.insts)(b=Jr(a,d))&&this.J.push(b)}};"use strict";const pB=self.A;
function qB(a,b){let d=a.get(b);d||(d=new Map,a.set(b,d));return d}function Cx(a,b,d){if(!d)throw Error("missing 'this' binding");let c=a.BR.get(b);if(c)return c;c=b.bind(d);a.BR.set(b,c);return c}function hy(a,b,d,c){if(!d)throw Error("missing 'this' binding");a=qB(a.A1,b);let e=a.get(c);if(e)return e;e=b.bind(d,c);a.set(c,e);return e}function iy(a,b,d,c,e){if(!d)throw Error("missing 'this' binding");a=qB(a.B1,b);a=qB(a,c);let g=a.get(e);if(g)return g;g=b.bind(d,c,e);a.set(e,g);return g}
function jy(a,b,d,c,e,g){if(!d)throw Error("missing 'this' binding");a=qB(a.C1,b);a=qB(a,c);a=qB(a,e);let k=a.get(g);if(k)return k;k=b.bind(d,c,e,g);a.set(g,k);return k}function rB(a){return 2<=a.Bg?a.Xu.constructor:a.constructor}function sB(a,b){if(!a.qj)throw Error("must be single-global plugin");a.qM=b}
pB.Bl=class extends pB.ra{constructor(a){super();this.g=a.Ad;this.qj=!!a.ON;this.Sd=!!a.g4;this.B2=!!a.zV;this.K2=!!a.q4;this.h2=!!a.qV;this.nU=!!a.O4;this.mU=!!a.ZV;this.NK=!!a.xV;this.GS=!!a.uV;this.Bg=a.pO;this.qM=null;this.BR=new Map;this.A1=new Map;this.B1=new Map;this.C1=new Map;this.lM=a.oO;this.Xu=null}j(){this.g=null}F(){return this.g}Vc(){}xe(a=!1){let b=this.lM;a&&"function"!==typeof b&&2<=this.Bg&&(b=globalThis.pP);return b}Qm(){return this.B2}Rq(){return this.K2}ZB(){return this.h2}sl(){if(!this.qj)throw Error("must be single-global plugin");
return this.qM.sl()}au(){const a=this.Bg;pB.Cb.No(this,a);const b=this.xe(!0);if(b){if(this.Xu=new b,!(this.Xu instanceof self.pH))throw new TypeError("plugin class must derive from IPlugin");}else this.Xu=new self.pH;pB.Cb.Mo(a)}};"use strict";const tB=self.A;function uB(a,b,d){Gm(a.g,a.$o,b,c=>{const e=a.AK.get(c.elementId);d(e,c)})}
tB.w_=class extends tB.Bl{constructor(a){super(a);this.$o="video";this.N2=0;this.AK=new Map;uB(this,"elem-focused",b=>{b.OJ=!0});uB(this,"elem-blurred",b=>{b&&(b.OJ=!1)})}j(){super.j()}};"use strict";const vB=self.A;
vB.Rm=class extends vB.ra{constructor(a){super();this.L=a;this.g=a.F();this.Li=a.Ia()}j(){this.Li=this.g=this.L=null}I(){return this.L}F(){return this.g}Ia(){return this.Li}Dd(){return this.L.Dd()}Vc(){}Kw(){}OG(){}LG(){}Qt(){}Wq(){}kC(){}KH(){}xe(){return null}Bq(a,b,d){a=vB.m(vB.Event,a,b);a.ZN=this;d&&Object.assign(a,d);this.I().Jg(a)}};"use strict";const wB=self.A;function xB(a,b){for(const [d,c]of b)a.BO(d,c)}function yB(a,b,d){Uc(a.g,a.$o,b,d)}function zB(a,b,d){return Sk(a.g,a.$o,b,d)}
function AB(a,b,d){a.g.fd()?yB(a,b,d):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.$o,handler:b,data:d,responseId:null})}
wB.Zq=class extends wB.ra{constructor(a,b){super();this.$=a;this.$o=b;this.g=a.F();this.L=this.$.I();this.wb=this.L.wb;this.Un=this.Vn=null;this.Fi=this.Mk=!1;this.bf=null;this.hw=!1}j(){this.hw=!0;this.Zm();this.eu();this.Un=this.Vn=null;this.bf&&(this.bf.j(),this.bf=null);this.wb=this.L=this.g=this.$=null}Jo(){return this.hw}ia(){return this.$}F(){return this.g}I(){return this.L}Ia(){return this.wb.Ia()}It(){return bl(this.$)}da(a){return this.g.da(a,this.$,null)}Wc(a){return this.g.Wc(a,this.$,
null)}BO(a,b){Gm(this.g,this.$o,a,b)}Xe(){}Gx(){}Bf(){this.Mk||(this.Vn||(this.Vn=()=>this.Xe()),this.g.Ua().addEventListener("tick",this.Vn),this.Mk=!0)}Zm(){this.Mk&&(this.g.Ua().removeEventListener("tick",this.Vn),this.Mk=!1)}SC(){this.Fi||(this.Un||(this.Un=()=>this.Gx()),this.g.Ua().addEventListener("tick2",this.Un),this.Fi=!0)}eu(){this.Fi&&(this.g.Ua().removeEventListener("tick2",this.Un),this.Fi=!1)}rd(){return null}zc(){}dd(){}si(){}GH(a,b,d){if(0!==b){var c=this.dd(a);if("number"!==typeof c)throw Error("expected number");
this.si(a,c+b,d)}}xe(){return null}Bq(a,b,d){if(this.$.Fd){var c=this.It();a=wB.m(wB.Event,a,b);a.instance=c;d&&Object.assign(a,d);c.dispatchEvent(a)}}Rq(){return!1}};"use strict";const BB=self.A;function CB(a){if(!a.Rv){a.Rv=()=>a.Rt();a.uF=()=>a.bQ();var b=a.g.Ua();b.addEventListener("renderercontextlost",a.Rv);b.addEventListener("renderercontextrestored",a.uF)}}
BB.YH=class extends BB.Zq{constructor(a,b){super(a,b);this.Ta=a.C();this.uF=this.Rv=null}j(){if(this.Rv){const a=this.g.Ua();a.removeEventListener("renderercontextlost",this.Rv);a.removeEventListener("renderercontextrestored",this.uF);this.uF=this.Rv=null}this.Ta=null;super.j()}Rt(){}bQ(){}C(){return this.Ta}mi(){return!1}Mg(){if(!this.mi())throw Error("original size not known");const a=this.hi();if(a)return a.M()}Lg(){if(!this.mi())throw Error("original size not known");const a=this.hi();if(a)return a.K()}hi(){return null}MB(){var a=
this.hi();return a&&(a=a.kc())?[a.M(),a.K()]:[100,100]}NB(){const a=this.hi();return a?a.bk():null}eC(){const a=this.hi();return a?a.rp:!1}ro(){const a=this.$.C();return[a.Da(),a.Ea(),op(a)]}St(){return!0}};"use strict";const BA=self.A,DB=BA.m(BA.Rect);function AA(a,b,d){d||(d={});d.elementId=a.bp;yB(a,b,d)}function Yl(a,b,d){d||(d={});d.elementId=a.bp;AB(a,b,d)}
function EB(a,b){if(!Um(a.ia())){var d=a.C(),c=d.Y(),e=Ul(d),[g,k]=Vm(c,e.aa,e.X),[l,n]=Vm(c,e.la,e.ga);e=a.g.T;var p=e.Yc,r=e.Nc;if(d.Uc()&&c.Uc()){const w=a.g.T.Sw();("Android"!==BA.W.Md||"scale-inner"!==w&&"scale-outer"!==w&&"crop"!==w)&&(0>=l||0>=n||g>=p||k>=r)?GB(a,!1):(DB.set(g,k,l,n),p=e.Nj,r=e.Mj,e=c.Wr,d=Wm(d),!b&&DB.zd(a.pv)&&a.$S===p&&a.ZS===r&&a.US===e&&a.VS===d?GB(a,!0):(a.pv.xa(DB),a.$S=p,a.ZS=r,a.US=e,a.VS=d,GB(a,!0),b=null,a.s1&&(b=c.Wi()+a.t1),AA(a,"update-position",{left:Math.round(a.pv.aa),
top:Math.round(a.pv.X),width:Math.round(a.pv.width()),height:Math.round(a.pv.height()),htmlIndex:e,htmlZIndex:d,fontSize:b})))}else GB(a,!1)}}function HB(a,b){b||(b={});const d=a.C();b.elementId=a.bp;b.isVisible=d.Uc();b.htmlIndex=d.Y().Wr;b.htmlZIndex=Wm(d);Object.assign(b,a.dP());a.LK=!!b.isVisible;AB(a,"create",b);EB(a,!0)}function GB(a,b){b=!!b;a.LK!==b&&(a.LK=b,AA(a,"set-visible",{isVisible:b}))}
BA.v_=class extends BA.YH{constructor(a){super(a,"video");a=this.Ia();const b=a.N2++;a.AK.set(b,this);this.bp=b;this.LK=!0;this.s1=this.OJ=!1;this.t1=-.2;this.pv=BA.m(BA.Rect,0,0,-1,-1);a=this.g.T;this.$S=a.Nj;this.ZS=a.Mj;this.VS=this.US=-1;this.Bf()}j(){this.Ia().AK.delete(this.bp);AA(this,"destroy");this.bp=-1;super.j()}Xe(){EB(this,!1)}dP(){}};"use strict";const IB=self.A,JB=self.jP;
IB.VH=class extends IB.ra{constructor(a){super();this.g=a.Ad;this.EL=IB.m(IB.NG);this.YE=IB.m(IB.NG);this.Bg=a.pO;this.lM=a.oO;this.Wy=null}j(){this.YE.j();this.EL.j();this.g=null}F(){return this.g}Vc(){}xe(a=!1){let b=this.lM;a&&"function"!==typeof b&&2<=this.Bg&&(b=globalThis.sY);return b}fP(){return Hc(this.EL)}ti(a){this.YE.Bb(a)}jr(a){this.YE.Aq(a)}qa(){return Hc(this.YE)}au(){const a=this.Bg;IB.Cb.No(this,a);const b=this.xe(!0);if(b){if(this.Wy=new b,!(this.Wy instanceof JB))throw new TypeError("behavior class must derive from IBehavior");
}else this.Wy=new JB;IB.Cb.Mo(a)}};"use strict";const KB=self.A;KB.XH=class extends KB.ra{constructor(a){super();this.g=a.F();this.lc=a;this.L=a.I();this.kj=a.ig();this.kj.EL.Bb(this.L)}j(){this.kj=this.L=this.lc=this.g=null}Vc(){}jg(){return this.lc}I(){return this.L}F(){return this.g}ig(){return this.kj}};"use strict";const LB=self.A;
LB.WH=class extends LB.ra{constructor(a){super();this.ky=a;this.$o=void 0;this.$=a.$;this.g=a.F();this.lc=a.jg();this.wb=this.lc.wb;this.YK=this.Fi=this.Mk=!1;this.bf=null}j(){this.Zm();this.eu();this.YK&&(this.g.hn.zf(this),this.YK=!1);this.bf&&(this.bf.j(),this.bf=null);this.wb=this.lc=this.g=this.$=this.ky=null}ig(){return this.lc.ig()}I(){return this.$.I()}C(){return this.$.C()}F(){return this.g}jg(){return this.lc}It(){return this.ky.It()}da(a){return this.g.da(a,this.$,this.lc)}Wc(a){return this.g.Wc(a,
this.$,this.lc)}Xe(){}Gx(){}Bf(){this.Mk||(this.g.Jl.Bb(this),this.Mk=!0)}Zm(){this.Mk&&(this.g.Jl.zf(this),this.Mk=!1)}SC(){this.Fi||(this.g.Kl.Bb(this),this.Fi=!0)}eu(){this.Fi&&(this.g.Kl.zf(this),this.Fi=!1)}BO(a,b){Gm(this.g,this.$o,a,b)}rd(){return null}zc(){}dd(){}si(){}GH(a,b){if(0!==b){var d=this.dd(a);if("number"!==typeof d)throw Error("expected number");this.si(a,d+b)}}xe(){return null}Bq(a,b,d){if(this.ky.Fd){var c=this.It();a=LB.m(LB.Event,a,b);a.ofa=c;a.instance=c.instance;d&&Object.assign(a,
d);c.dispatchEvent(a)}}};"use strict";const MB=self.A;MB.B={};MB.ta={};const NB=za();let OB=[],PB=[],QB=[],RB=null,SB=null,TB=null,UB=null;const Zs=new Map,VB=new Map;function WB(a,b){const d=b[19],c=sx(a.g,b[0]);if(!c)throw Error("missing plugin");MB.vW(b,c);b=MB.m(2<=d?MB.Bl:c,{Ad:a.g,ON:b[1],g4:b[2],zV:b[5],qV:b[8],q4:b[9],O4:b[13],ZV:b[14],xV:b[17],uV:b[18],pO:d,oO:2<=d?c:null});b.Vc();a.qR.push(b);Zs.set(c,b)}function XB(a){a.Td=MB.m(MB.B.yb,{Ad:a.g,ON:!0});a.Td.Vc()}
function YB(a,b){const d=b[1],c=sx(a.g,b[0]);if(!c)throw Error("missing behavior");a.HJ.set(c,()=>{const e=MB.m(2<=d?MB.VH:c,{Ad:a.g,pO:d,oO:2<=d?c:null});e.Vc();a.n1.push(e);VB.set(c,e);!a.fU&&MB.ta.J4&&e instanceof MB.ta.J4?a.fU=e:!a.RS&&MB.ta.j4&&e instanceof MB.ta.j4&&(a.RS=e);e.au()})}function ZB(a){for(const b of a.qR)b.au()}
MB.Cb=class extends MB.ra{constructor(a){super();this.g=a;this.qR=[];this.Td=null;this.n1=[];this.HJ=new Map;this.RS=this.fU=null}static No(a,b=1){if(MB.Cb.No!==RB)throw Error("invalid method");1===b&&OB.push(a);PB.push(a)}static Mo(a=1){if(MB.Cb.Mo!==SB)throw Error("invalid method");1===a&&OB.pop();PB.pop()}static OC(){if(MB.Cb.OC!==TB)throw Error("invalid method");if(0===OB.length)throw Error("no init object set");return OB.at(-1)}static Sg(a){if(MB.Cb.Sg!==UB)throw Error("invalid method");if(a!==
NB)throw Error("invalid internal API token");if(0===PB.length)throw Error("no init object set");return PB.at(-1)}Zw(){return this.Td}};RB=MB.Cb.No;SB=MB.Cb.Mo;TB=MB.Cb.OC;UB=MB.Cb.Sg;"use strict";const $B=self.A,bC=new Set;function cC(a){a.tr&&(URL.revokeObjectURL(a.tr),a.tr="")}function dC(a,b){a.Jj=b[0];a.im=b[1];a.ss=b[2];a.ts=b[3];a.P=b[4];a.S=b[5];a.rp=b[6];a.Uy=!0}function eC(a,b,d){if(a.nd)throw Error("already got asset");d=Object.assign({},d,{url:a.Jj,size:a.ki()});a.nd=b.hC(d)}
async function fC(a,b){b||(b=await Pn(a.nd));const d=$B.th(a.P,a.S),c=d.getContext("2d");a.rp?(c.rotate(Math.PI/-2),c.translate(-a.S,0),c.drawImage(b,a.ss,a.ts,a.S,a.P,0,0,a.S,a.P)):c.drawImage(b,a.ss,a.ts,a.P,a.S,0,0,a.P,a.S);return d}async function gC(a,b){if(a.tr)return a.tr;b=await fC(a,b);b=await $B.qB(b);a.tr=URL.createObjectURL(b);return a.tr}
$B.cC=class extends $B.ra{constructor(){super();this.hK=0;this.Jj="";this.S=this.P=this.ts=this.ss=this.im=0;this.Uy=this.rp=!1;this.nd=null;this.lm="";this.Mi=$B.m($B.Rect);this.Bs=$B.m($B.gd);this.tr="";new self.lP(this);bC.add(this)}j(){this.yl();this.nd&&0===this.nd.fc&&this.nd.j();this.nd=null;bC.delete(this);cC(this)}static Rt(){for(const a of bC)a.lm="",a.Mi.set(0,0,0,0),a.Bs.dg(a.Mi)}ki(){return this.im}M(){return this.P}K(){return this.S}zH(){return this.nd&&this.nd.zH()}async Qq(a,b){if(!this.nd)throw Error("no asset");
if(this.lm)throw Error("already loaded texture");var d=this.hK;this.lm="loading";a=await this.nd.Qq(a,b);if(this.hK!==d)return null;if(!a)return this.lm="",null;this.lm="loaded";this.Uy||(this.P=a.M(),this.S=a.K(),this.Uy=!0);this.Mi.set(this.ss,this.ts,this.ss+(this.rp?this.S:this.P),this.ts+(this.rp?this.P:this.S));this.Mi.il(a.M(),a.K());this.Bs.dg(this.Mi);if(this.rp){d=this.Bs;b=d.Ub;const c=d.Vb;d.Ub=d.Rc;d.Vb=d.Sc;d.Rc=d.Lc;d.Sc=d.Mc;d.Lc=d.Jc;d.Mc=d.Kc;d.Jc=b;d.Kc=c}return a}yl(){this.lm&&
(this.nd&&this.nd.yl(),this.lm="",this.Mi.set(0,0,0,0),this.Bs.dg(this.Mi))}kc(){return this.nd&&"loaded"===this.lm?this.nd.kc():null}bk(){return this.Mi}WB(){return this.Bs}};"use strict";const hC=self.A;function nm(a){return a.Qd.length}function iC(a,b,d){return Promise.all(a.Qd.map(c=>c.Dd().Qq(b,d)))}function jC(a,b){b=Math.floor(b);if(0>b||b>=a.Qd.length)throw new RangeError("invalid frame");return a.Qd[b]}
function kC(a,b,d){d=Math.floor(d);0>d?a.Qd.unshift(b):d>=a.Qd.length?a.Qd.push(b):a.Qd.splice(d,0,b)}function lC(a,b){for(let d=0,c=a.Qd.length;d<c;++d)if(hC.pf(a.Qd[d].Wf,b))return d;return-1}function mC(a,b){if("string"===typeof b){a=lC(a,b);if(-1===a)throw Error(`cannot find animation frame with tag ${b}`);return a}return b}
hC.MG=class extends hC.ra{constructor(a){super();this.Ka=a[0];this.Ks=a[1];this.pp=!!a[2];this.Fs=a[3];this.UT=a[4];this.A2=!!a[5];this.fb=a[6];this.Qd=a[7].map(b=>hC.m(hC.nB,b));this.i2=new self.fY(this)}static wB(a,b){b=hC.m(hC.MG,[b,0,!1,0,0,!1,Math.floor(1E15*Math.random()),[]]);b.Qd.push(hC.nB.wB(a));return b}j(){for(const a of this.Qd)a.j();hC.G(this.Qd)}fa(){return this.Ka}ji(){return this.Fs}DP(){return this.A2}};"use strict";const nC=self.A;var oC;
const pC=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),qC=new Uint8Array(pC.length);for(let a=0,b=pC.length;a<b;++a)qC[a]=pC.charCodeAt(a);oC=new Blob([qC],{type:"image/png"});
nC.nB=class extends nC.ra{constructor(a){super();this.ah=nC.m(nC.cC);dC(this.ah,a);this.Gy=a[7];this.yT=nC.m(nC.er,a[8],a[9]);this.eE=a[10].map(d=>nC.m(nC.AY,this,d));this.AS=new Map;for(var b of this.eE)this.AS.set(b.fa().toLowerCase(),b);this.zr=null;b=a[11];6<=b.length&&(this.zr=nC.m(nC.zq,b));this.Wf=a[12]?a[12]:"";this.j2=new self.gY(this)}static wB(a){const b=nC.m(nC.nB,["",0,0,0,100,100,!1,1,0,0,[],[],""]);var d=b.ah;if(d.nd)throw Error("already loaded asset");d.Jj="";d.im=oC.size;d.nd=$B.m($B.rH,
a.cb,{blob:oC,size:d.im,vw:"local"});return b}j(){this.zr&&(this.zr.j(),this.zr=null);this.ah.j();this.ah=null}Dd(){return this.ah}$i(){return this.yT.ma}aj(){return this.yT.ea}hH(){return this.eE.length}};"use strict";const rC=self.A;rC.AY=class extends rC.ra{constructor(a,b){super();this.Ka=b[0];this.XL=rC.m(rC.er,b[1],b[2])}j(){}fa(){return this.Ka}Da(){return this.XL.ma}Ea(){return this.XL.ea}};"use strict";const ly=self.A,sC=self.di,tC=self.Lt;function*al(a){yield*a.J;yield*fA(a.g,a)}
function eq(a){return uC(a,ly.ta.F$)}function kq(a){if(a.Yr&&!a.Oa){var b=a.J,d=0;for(var c=b.length;d<c;++d)b[d].wK=d;b=a.g.np;for(const e of b)e.I()===a&&(b=e,c=d++,b.wK=c);a.Yr=!1}}function Fr(a,b){return a.Ik.findIndex(d=>d.name===b)}function Gr(a,b){b=Math.floor(b);if(0>b||b>=a.Ik.length)throw new RangeError("invalid instance variable index");return a.Ik[b].name}
function Hr(a,b){b=Math.floor(b);if(0>b||b>=a.Ik.length)throw new RangeError("invalid instance variable index");return a.Ik[b].type}function Ir(a,b){a=a.kJ.get(b.toLowerCase());return"undefined"===typeof a?-1:a}function gx(a){if(a.OK&&!a.Oa){kq(a);var b=a.ca(),d=b.J,c=b.kb,e=a.g.kg();e=e&&e.$b()&&e.$b().Ie;for(const l of a.Kh.cm)if(l!==a){kq(l);var g=l.ca();g.kb=!!c;if(!c){var k=g.J;ly.G(k);for(const n of d)k.push(vC(l,jq(n)));if(e){k=b.ub;g=g.ub;ly.G(g);for(const n of k)g.push(vC(l,jq(n)))}}}}}
function fw(a,b){return(a=a.OR.get(b.toLowerCase()))&&a.Wb()?a:null}function ky(a,b){return a.JD[b]}function Az(a,b){if(b&&b.yc()&&b.I()!==a)for(const d of b.od)if(d.I()===a)return d;a=a.ca().qa();return a.length?a[0]:null}function*lA(a,b,d){a=a.ca().qa();const c=a.length,e=d.ca(),g=d.ca().qa(),k=g.length;var l=jq(b);if(d.Oa||!e.kb)l=g.indexOf(b);b=Math.ceil(c/k);d=c%k;0===d||l<d?l*=b:(l=d*b+(l-d)*(b-1),--b);for(let n=l,p=l+b;n<p;++n)yield a[n]}function PA(a,b){return a.TJ.has(b)}
function wC(a,b){const d=a.g.Gz++,c=ly.m(ly.Instance,{Ad:a.g,$N:a,uid:d});c.KC(b[16],[]);a.g.ds.set(d,c);a.J.push(c)}function xC(a,b){for(let d=1,c=b.length;d<c;++d){const e=xo(a.g,b[d]);a.fp.push(e);a.KD.add(e);e.yi.push(a);e.TJ.add(a)}}
function yC(a){var b=0;if(!a.Oa)for(var d of a.yi)for(var c of d.zR){var e=c.fa().toLowerCase();a.nu.set(e,c);a.kJ.set(e,b);a.cD.push(c);++b}for(var g of a.zR)d=g.fa().toLowerCase(),a.nu.set(d,g),a.kJ.set(d,b),a.cD.push(g),++b;for(var k of a.cD)a.xU.add(k.ig().constructor);if(!a.Oa&&a.yi.length){b=a.g.aS;ly.pG(a.Lu,b,0);ly.pG(a.JD,b,0);ly.pG(a.UJ,b,0);b=[];d=k=g=0;for(const l of a.yi)if(c=l.nj,a.Lu[c]=g,g+=l.Ik.length,a.JD[c]=k,k+=l.w1,a.UJ[c]=d,d+=l.Y1,(c=l.Ma)&&a.Ma)for(const n of c.gi()){c=b;e=
c.push;const p=zC.m(zC.SO,a.Ma,[n.Rd,n.Ka],-1);p.Cc=n.Cc;p.Nb=n.Nb;e.call(c,p)}if(a.Ma&&(a=a.Ma,b.length)){a.Ih=b.concat(a.Ih);for(const l of b)a.FD.set(l.fa().toLowerCase(),l);for(let l=0,n=a.Ih.length;l<n;++l)a.Ih[l].UI(l)}}}function uC(a,b){return b&&a.xU.has(b)}function AC(a){return a.Ik.map(b=>b.gt)}function BC(a,b){return a.Ik.findIndex(d=>d.gt===b)}function Dl(a){return a.Ik.map(b=>b.i4)}function CC(a){return a.Ma&&0<a.Ma.Ih.length}
function DC(a,b){if(!a.Xc)throw Error("no animations");return a.iu.get(b.toLowerCase())||null}function EC(a,b){if(DC(a,b))throw Error(`animation name '${b}' already exists`);b=ly.MG.wB(a.F(),b);a.Xc.push(b);a.iu.set(b.fa().toLowerCase(),b);a.ju.set(b.fb,b);return b}function FC(a){if(!a.Xc)throw Error("no animations");return a.Xc[0]}function GC(a){return a.Xc?(a=jC(FC(a),0).Dd(),[a.M(),a.K()]):a.ah?[a.ah.M(),a.ah.K()]:[100,100]}
function vC(a,b){var d=a.J;if(b<d.length)return d[b];b-=d.length;d=a.g.np;for(const c of d)if(c.I()===a){if(0===b)return c;--b}return null}function HC(a){if(a.Yx&&a.Sd){for(const b of a.J)IC(b.C());for(const b of a.g.np)b.I()===a&&IC(b.C());a.Yx=!1}}
ly.iC=class extends ly.ra{constructor(a,b,d){super();var c=sx(a,d[1]);this.g=a;this.Li=Zs.get(c)||null;this.wb=null;this.az=c.Instance;this.na=b;this.fb=d[11];this.Ka=d[0];this.qz=this.g.ak(d[14]);this.v2=!!d[9];this.Oa=!!d[2];this.WK=!!d[10];this.Ik=d[3].map(k=>({gt:k[0],type:k[1],name:k[2],i4:a.ak(k[3])}));this.w1=d[4];this.Y1=d[5];this.Sd=this.Li.Sd;this.Qb=ly.m(ly.Event.Ua);this.Ma=null;const [e,g]=JC(a.vk);this.oy=ly.m(ly.R_,e,g);this.Yx=!0;this.Zx=!1;this.KD=this.fp=null;this.nj=-1;this.UJ=
this.JD=this.Lu=this.TJ=this.yi=null;this.OK=!1;this.Kh=null;this.zR=d[8].map(k=>ly.FO.ya(this,k));this.cD=[];this.nu=new Map;this.kJ=new Map;this.xU=new Set;this.OR=new Map;this.Zk=ly.m(ly.P_,this);this.ju=this.iu=this.Xc=this.ah=this.Kh=this.Hr=null;this.Zv=0;this.Zb=new Map;this.Ij=new Map;this.J=[];this.Yr=!0;this.Li.ZB()&&(this.Ma=ly.m(ly.Cq,this,d[12]));d[6]&&(this.ah=ly.m(ly.cC),dC(this.ah,d[6]));if(d[7]){this.Xc=d[7].map(k=>ly.m(ly.MG,k));this.iu=new Map;this.ju=new Map;for(const k of this.Xc)this.iu.set(k.fa().toLowerCase(),
k),this.ju.set(k.fb,k)}this.Oa?(this.fp=[],this.KD=new Set,this.nj=this.g.aS++):(this.yi=[],this.TJ=new Set,this.Lu=[],this.JD=[],this.UJ=[]);b=this.Li.Bg;if(2>b&&(this.wb=ly.m(c.Eh,this,d[15]),!(this.wb instanceof ly.Rm)))throw Error("v1 sdk type must derive from SDKTypeBase");this.BK=this.Xy=null;this.lf=ly.m(ly.Event.Ua);ly.Cb.No(this,b);2<=b?(c=c.Eh,c||(c=globalThis.oP)):c=this.wb.xe();if(c){this.Xy=new c(2>b?this:null);if(2>b&&!(this.Xy instanceof tC))throw new TypeError("script interface class must derive from IObjectClass");
if(2<=b&&!(this.Xy instanceof globalThis.oP))throw new TypeError("script interface class must derive from ISDKObjectTypeBase");}else this.Xy=new tC;ly.Cb.Mo(b);this.g.YF&&!this.Oa&&!this.WK&&this.Sd||this.Vc();this.Li.qj&&(sB(this.Li,this),wC(this,d));this.RE=null}static ya(a,b,d){return ly.m(ly.iC,a,b,d)}j(){this.Qb.j();this.Qb=null;this.ah&&(this.ah.j(),this.ah=null);if(this.Xc){for(const a of this.Xc)a.j();ly.G(this.Xc);this.iu.clear();this.ju.clear()}this.RE=null;this.Zk.j();this.Zk=null;this.Zb.clear();
this.Ij.clear();this.g=this.Kh=null}yc(){return this.OK}Ua(){return this.Qb}Vc(){this.Oa||this.wb&&this.wb.Vc()}async Qt(a){this.Oa||(this.Zv++,1===this.Zv&&(this.wb?await this.wb.Qt(a):await void 0))}Wq(){if(!this.Oa){this.Zv--;if(0>this.Zv)throw Error("released textures too many times");0===this.Zv&&this.wb&&this.wb.Wq()}}kC(){if(this.Oa)throw Error("not applicable to family");this.wb&&this.wb.kC()}async KH(a){this.Oa||(this.wb?await this.wb.KH(a):await void 0)}F(){return this.g}Ia(){return this.Li}fa(){return this.Ka}ak(){return this.qz}Ha(){return this.na}wf(){return this.v2}ZB(){return this.Li.ZB()}ca(){return this.Zk.ca()}Dd(){return this.ah}sl(){if(!this.Li.qj)throw Error("not a single-global plugin");
return this.J[0]}qa(){return this.J}*TA(){yield*this.J}ti(a){this.J.push(a)}Kw(a){this.wb?.Kw(a)}Nm(){this.Zb||(this.Zb=new Map);return this.Zb}ax(){this.Ij||(this.Ij=new Map);return this.Ij}oa(){const a={instances:this.J.map(b=>b.rd())};this.Zb&&this.Zb.size&&(a.ex=ly.qI(this.Zb));return a}pa(a){this.Zb&&(this.Zb.clear(),this.Zb=null);var b=a.ex;b&&(this.Zb=ly.bH(b));b=this.J;a=a.instances;for(let d=0,c=Math.min(b.length,a.length);d<c;++d)b[d].zc(a[d]);for(let d=a.length,c=b.length;d<c;++d)tp(this.g,
b[d]);for(let d=b.length,c=a.length;d<c;++d){b=a[d];let e=null;if(this.Sd&&(e=Up(this.g.Pb(),b.w.l),!e))continue;yp(this.g,this.Hr||this,e,!1,0,0,!0).zc(b)}this.RE=a;this.Yr=!0}Ux(){for(let a=0,b=this.J;a<b;++a)this.J[a].Ux()}Ft(){return this.Xy}Jg(a){var b=this.g;(b=b.Hb&&!fl(b.Ca()))&&sC.pI();this.lf.dispatchEvent(a);b&&sC.KG()}};"use strict";const KC=self.A;function vq(a){return a.cm.some(b=>b.Sd)}
KC.fX=class extends KC.ra{constructor(a,b){super();this.g=a;this.cm=b;for(const d of this.cm)d.OK=!0,d.Kh=this}j(){this.g=null}F(){return this.g}};"use strict";const El=self.A,LC=self.di,MC=El.Cb,NC=[];let OC=0;const PC=new WeakMap,QC=new WeakMap;function bl(a){return a.Fd||RC(a)}function el(a){const b=new Set;b.add(a);const d=a.C();if(d&&d.Ve())for(const c of a.Pj())if(b.add(c),c.yc())for(const e of c.od)b.add(e);if(a.yc())for(const c of a.od)b.add(c);for(const c of b.values())sq(c)}
function Fl(a){const b=a.Ud;return-1===b?a.F().Ud:b}function W(a){return a.Sb??a.Fd}function Um(a){return 0!==(a.D&1)}function qq(a){var b=a.C();if(b&&(b=SC(b)))for(const d of b)if(b=Jr(a.g,d[2])){const c=d[3];a.Wj(b,{lt:!!(c>>0&1),mt:!!(c>>1&1),sq:!!(c>>2&1),rq:!!(c>>3&1),it:!!(c>>4&1),mw:!!(c>>5&1),nt:!!(c>>6&1),jt:!!(c>>7&1),kt:!!(c>>8&1)})}}
function rq(a,b,d){if(b=b.get(a))for(const c of b.sceneGraphJson.children){b=d.get(c.index);if(!b)continue;const e=c.flags;a.Wj(b,{lt:!!(e>>0&1),mt:!!(e>>1&1),sq:!!(e>>2&1),rq:!!(e>>3&1),it:!!(e>>4&1),mw:!!(e>>5&1),nt:!!(e>>6&1),jt:!!(e>>7&1),kt:!!(e>>8&1)})}}function sq(a){a.Ke.BK&&bl(a);for(var b of a.td);if(TC(a,"instancecreate")){b=a.I();const d=new El.Event("instancecreate");d.instance=bl(a);b.Jg(d);for(const c of b.yi)c.Jg(d);a.g.Jg(d)}a.g.da(rB(a.Ia()).H.vZ,a,null)}
function jq(a){kq(a.Ke);return a.wK}function Os(a,b){a=a.td;for(let d=0,c=a.length;d<c;++d)if(a[d].jg().fb===b)return d;return-1}function ut(a,b){b|=0;a=a.bh;if(0>b||b>=a.length)throw new RangeError("invalid instance variable");return a[b]}function vw(a){for(const b of a.od)nv(b.I().ca(),b)}function gA(a,b){b.Oa?(a=a.I(),b=b.KD.has(a)):b=a.I()===b;return b}function UC(a,b){0<b.length&&(a.bh=[],El.Bd(a.bh,b))}
function VC(a){const b=a.Ke.Ik.length;if(0!==b){a.bh=[];var d=[0,0,""];for(let c=0;c<b;++c)a.bh.push(d[Hr(a.Ke,c)])}}
function RC(a,b,d){const c=a.Ta?b?self.qP:self.kx:b?self.nP:self.je;b=b||a.Sb.xe();const e=a.Ke.BK,g=e||b||c,k=a.Ia().Bg;El.Cb.No(a,k);QB.push(d);a.Fd=new g;QB.pop();El.Cb.Mo(k);if(b&&!(a.Fd instanceof c))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${c.name}'`);if(e&&!(a.Fd instanceof(b||c)))throw new TypeError(`setInstanceClass(): class '${e.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`);return a.Fd}
function WC(a,b,d){b<<=16;a.D=d?a.D|b:a.D&~b}function XC(a,b){return 0!==(a.D&b<<16)}function YC(a,b,d,c){const e=(g,k)=>{k=k||g.I();const l=b.get(k);l?l.add(g):b.set(k,new Set([g]))};e(a,d);if(a.yc())for(const g of a.od)e(g);if(c)for(const g of a.Pj())e(g)}function ZC(a){if(!a.Ia().nU)throw Error("object does not support scene graph");}function $C(a,b){a=a.C();if(!a)return[];const d=b.fa();return a.Zd().map(c=>c.ia()).filter(c=>c.I().fa()===d)}
function aD(a,b){a=a.od;if(null===a||0===a.length)return!1;for(const d of a)if(d.I()===b)return d;return null}function TC(a,b){const d=a.I();if(d.lf.Ql.has(b))return!0;for(const c of d.yi)if(c.lf.Ql.has(b))return!0;return a.g.lf.Ql.has(b)?!0:!1}
El.Instance=class extends El.ra{constructor(a){if(El.Cb!==MC)throw Error("invalid addon manager");super();this.g=a.Ad;this.Ke=a.$N;this.Fd=this.Sb=this.Ta=null;this.wK=0;this.Ob=a.uid;this.LT=OC++;this.D=0;this.td=this.bh=NC;var b=this.Ke.cD;0<b.length&&(this.td=b.map((d,c)=>El.m(El.QW,{Ad:this.g,gG:d,instance:this,index:c})));this.od=this.Ke.yc()?[]:null;this.Ud=-1;this.Qb=null;b=this.Ia();b.Rq()&&(this.D|=4);if(b.Sd)if(this.Ta=El.m(El.H0,this,a.Zs),a.oW)this.Ta.vo(a.oW);else{bD(this.Ta);const [d,
c]=GC(this.Ke);this.Ta.sd(d,c);CC(this.I())&&cD(this.Ta.Jf)}a.sV?UC(this,a.sV):VC(this)}j(){this.Fd&&(this.Fd.Xk(),this.Fd=null);if(0<this.td.length){for(var a of this.td)a.j();El.G(this.td)}this.Sb&&(this.Sb.j(),this.Sb=null);if(a=PC.get(this))a.clear(),PC.delete(this);if(a=QC.get(this))a.clear(),QC.delete(this);this.od&&El.G(this.od);this.Qb&&(this.Qb.j(),this.Qb=null);this.Ke=this.g=null;0<this.bh.length&&El.G(this.bh);this.Ta&&(this.Ta.j(),this.Ta=null)}KC(a,b){if(this.Sb)throw Error("already got sdk instance");
for(let d=0,c=this.td.length;d<c;++d)this.td[d].KC(b?b[d]:null);if(2>this.Ia().Bg){this.Sb=El.m(this.Ke.az,this,a);if(!(this.Sb instanceof El.Zq))throw Error("sdk type must derive from SDKInstanceBase");!this.Ia().Sd&&this.Ke.BK&&bl(this)}else RC(this,this.Ia().xe().Instance,a)}C(){return this.Ta}F(){return this.g}Ex(a){a=+a;if(0>a||!isFinite(a))a=0;this.Ud=a;CC(this.I())&&dD(this.g,this,!0)}Ua(){this.Qb||(this.Qb=El.m(El.Event.Ua));return this.Qb}Zj(a){this.Sb&&this.Sb.Zj(a)}Vc(a){this.Sb.Vc(a)}Om(){return 0!==
(this.D&2)}KI(){this.D|=1}Rq(){return 0!==(this.D&4)||this.Sb.Rq()}hi(){return this.Sb.hi()}MB(){return this.Sb.MB()}NB(){return this.Sb.NB()}eC(){return this.Sb.eC()}ro(a){return this.Sb.ro(a)}I(){return this.Ke}St(){return this.Sb.St()}vf(){return null!==this.Fa()}Fa(){var a=this.C();return a?(a=a.Fa())?a.ia():null:null}uo(){var a=this.C();return a?(a=a.uo())?a.ia():null:null}*zw(){const a=this.C();if(a)for(const b of a.zw())yield b.ia()}mH(a){if(!a)return!1;for(const b of this.children())if(b===
a)return!0;return!1}Ve(){const a=this.C();return a?a.Ve():!1}Zd(){const a=this.C();return a?a.Zd().map(b=>b.ia()):[]}*children(){const a=this.C();if(a)for(const b of a.children())yield b.ia()}*Pj(){const a=this.C();if(a)for(const b of a.Pj())yield b.ia()}LB(){const a=this.C();return a?a.LB():0}EB(){const a=this.C();return a?a.EB():0}KB(a){const b=this.C();return b?(a=b.KB(a))?a.ia():null:null}Wj(a,b){ZC(this);ZC(a);this.C().Wj(a.C(),b||{})}zl(a){const b=this.C();b&&b.zl(a.C())}Ow(){const a=this.C();
return a?a.Ow():!1}Jt(){var a=this.g.Oi;a=a?a.zn?(a=a.zn.get(this))?a:"":"":"";return a}yc(){return null!==this.od}Ia(){return this.Ke.Ia()}$0(a){const b=this.bh[a];return 0===Hr(this.Ke,a)?!!b:b}Fo(a,b){a|=0;const d=this.bh;if(0>a||a>=d.length)throw new RangeError("invalid instance variable");switch(Hr(this.Ke,a)){case 0:d[a]=b?1:0;break;case 1:d[a]="number"===typeof b?b:parseFloat(b);break;case 2:d[a]="string"===typeof b?b:b.toString();break;default:throw Error("unknown instance variable type");
}}Nm(){let a=PC.get(this);if(a)return a;a=new Map;PC.set(this,a);return a}ax(){let a=QC.get(this);if(a)return a;a=new Map;QC.set(this,a);return a}rd(a="full",b=null){const d={};"full"===a?d.uid=this.Ob:d.c3=!0;if("visual-state"!==a){var c=PC.get(this);c&&c.size&&(d.ex=El.qI(c));-1!==this.Ud&&(d.mts=this.Ud);if(0<this.Ke.Ik.length){c={};var e=AC(this.Ke);for(let g=0,k=this.bh.length;g<k;++g)c[e[g].toString()]=this.bh[g];d.ivs=c}if(this.td.length){c={};for(const g of this.td)(e=g.rd(a))&&(c[g.jg().fb.toString()]=
e);d.behs=c}}this.Ta&&(d.w=this.Ta.oa(a,b));(a=this.Sb?this.Sb.rd():null)&&(d.data=a);return d}cu(a="full"){this.Ta&&this.Ta.cu(a)}tg(a,b="full",d=null){this.Ta&&this.Ta.tg(a,b,d)}LI(a,b="full",d=null){this.Ta&&this.Ta.LI(a,b,d)}Ux(){this.Ia().Sd&&this.Ta.Ux()}zc(a,b="full"){if("full"===b)this.Ob=a.uid;else if(!a.c3)return;if("visual-state"!==b){var d=PC.get(this);d&&(d.clear(),PC.delete(this));if(d=a.ex)d=El.bH(d),PC.set(this,d);this.Ud=a.hasOwnProperty("mts")?a.mts:-1;if(d=a.ivs)for(const [g,k]of Object.entries(d))if(d=
BC(this.Ke,parseInt(g,10)),!(0>d||d>=this.bh.length)){var c=k;null===c&&(c=NaN);this.bh[d]=c}}if(this.Ia().Sd&&(d=a.w)){var e=d.l;this.Ta.Y().fb!==e&&(c=this.Ta.Y(),(e=Up(c.xc(),e))?(cq(this.Ta,e),c.jr(this,!0),e.ti(this,!0),zo(e,this),Sl(this.Ta)):"full"===b&&tp(this.g,this));this.Ta.pa(d,b)}if("visual-state"!==b&&(d=a.behs))for(const [g,k]of Object.entries(d))d=Os(this,parseInt(g,10)),0>d||d>=this.td.length||this.td[d].zc(k,b);(a=a.data)&&(this.Sb?this.Sb.zc(a,b):this.Fd.$l(a))}Jg(a){if(this.Fd){var b=
bl(this);a.instance=b;var d=this.g;(d=d.Hb&&!fl(d.Ca()))&&LC.pI();b.dispatchEvent(a);d&&LC.KG()}}};"use strict";const eD=self.A;function zq(a){let b;b=0|Number(0!==(a.D&8388608))<<8;b|=Number(Ht(a))<<7;b|=Number(0!==(a.D&32768))<<6;b|=Number(a.Ow())<<5;b|=Number(0!==(a.D&16384))<<4;b|=Number(Ct(a))<<3;b|=Number(At(a))<<2;b|=Number(fD(a))<<1;return b|=Number(gD(a))<<0}function Bt(a){return 0===a.KF?Number.EPSILON:a.KF}function Dt(a){return 0===a.GF?Number.EPSILON:a.GF}
function hD(a,b){a.dm=a.vb.ac();a.IF=a.dm;a.uc=b;a.iF=b?b.Ra():0}function iD(a){a.Ve()&&1!==a.xr.length&&(a.cl?a.xr.sort((b,d)=>{b=a.cl.get(b.ia());d=a.cl.get(d.ia());return eD.Jb(b)&&eD.Jb(d)?b-d:0}):a.xr.sort((b,d)=>{b=b.Ga.fE;d=d.Ga.fE;return eD.Jb(b)&&eD.Jb(d)?b-d:0}))}function jD(a){if(At(a.vb)){var b=a.uc;a=b.M();let d=Bt(b.Ga);0===a&&(a=Number.EPSILON);return d===Number.EPSILON&&a===Number.EPSILON?1:d===Number.EPSILON&&a!==Number.EPSILON&&(b=W(b.ia()),b.mi())?1+a/b.Mg():a/d}return 1}
function kD(a){if(Ct(a.vb)){var b=a.uc;a=b.K();let d=Dt(b.Ga);0===a&&(a=Number.EPSILON);return d===Number.EPSILON&&a===Number.EPSILON?1:d===Number.EPSILON&&a!==Number.EPSILON&&(b=W(b.ia()),b.mi())?1+a/b.Lg():a/d}return 1}function lD(a){var b=a.KF,d=a.GF,c=a.Tv,e=a.Uv,g=a.iF,k=a.dm,l=a.IF;{const n=a.vb.ia().C();a=n?(a=n.Fa())?mD(a,n):NaN:NaN}return{sw:b,sh:d,sx:c,sy:e,psa:g,oo:k,so:l,pi:a}}function nD(a,b){return a.xr.map(d=>oD(d,d,b)).filter(d=>d)}
function oD(a,b,d){if((a=a.ia())&&Um(a))return null;const c={};c.uid=a.Ob;let e="";gD(b)&&(e+="x");fD(b)&&(e+="y");At(b)&&(e+="w");Ct(b)&&(e+="h");0!==(b.D&16384)&&(e+="a");0!==(b.D&32768)&&(e+="z");b.Ow()&&(e+="d");Ht(b)&&(e+="o");0!==(b.D&8388608)&&(e+="v");c.f=e;c.offsets={x:b.ma,y:b.ea,z:b.pd,w:b.Re,h:b.He,a:b.Wa,sgi:b.Ga?lD(b.Ga):null};c.data=pD(a);c.oci=a.I().Ha();"state"===d?(c.inst=a.rd("full",{selfOnly:!0}),c.instIndex=NaN):(c.instIndex=a.I().qa().indexOf(a),c.inst=null);return c}
function pD(a){let b=a.C().Y().yK.get(a.Ob);if(!b)return null;b=JSON.parse(JSON.stringify(b));const d=[];for(const c of[...a.Zd()]){const e=c.C();d.push([e.xc().fb,e.Y().Ha(),c.Ob,zq(e),c.I().yc()?1:0,Vl(e),pD(c)])}eD.ck(b[0][14])?b[0][14][1]=d:(b[0][14]=[],b[0][14][0]=511,b[0][14][1]=d,b[0][14][2]=Vl(a.C()));return b}function qD(a,b,d){if(!b&&!d&&a.Vd)for(const c of a.Vd)Um(c)||c.vf()||tp(c.F(),c);a.Vd=b;a.cl=d}
function rD(a){const b={};b.lt=a.includes("x");b.mt=a.includes("y");b.sq=a.includes("w");b.rq=a.includes("h");b.it=a.includes("a");b.nt=a.includes("z");b.mw=a.includes("d");b.jt=a.includes("o");b.kt=a.includes("v");return b}function sD(a,b,d){if(a=tD(d,a.vb.F()))a=JSON.parse(JSON.stringify(a)),a.w=null,b.zc(a)}function tD(a,b){if(eD.Jb(a.instIndex))return xo(b,a.oci).RE[a.instIndex];if(eD.ni(a.inst))return JSON.parse(a.inst);if(a.inst)return a.inst}
function uD(a,b,d,c,e=!0){a.vb.Wj(b,rD(d.f))&&e&&(c.has(b)||(vD(b,d.offsets),sD(a,b.ia(),d)),c.add(b));iD(a)}function wD(a,b){return a.filter(d=>d.I().fa()===b.fa()).length}function xD(a,b){if(eD.Jb(b.oci)){var d=a.vb;a=d.F();if(b.data)d=yp(a,b.data,d.Y(),!1,0,0,!1,!0);else{const c=xo(a,b.oci);d=cl(a,c,d.Y(),0,0,!0)}if(d)return b=tD(b,a),d.zc(b),b=d.C(),no(b.Y(),d,!0),b}}
eD.y_=class extends eD.ra{constructor(a){super();this.vb=a;this.uc=null;this.xr=[];this.KF=a.M();this.GF=a.K();this.Uv=this.Tv=1;this.iF=0;this.dm=1;this.IF=a.ac();this.cl=this.Vd=null;this.fE=NaN}j(){this.cl=this.Vd=this.uc=null;this.fE=NaN;eD.G(this.xr)}Fa(){return this.uc}Ve(){return 0<this.xr.length}Zd(){return this.xr}oa(a,b=null){const d=lD(this);if(b&&b.selfOnly)a=Object.assign(d,{p:null,c:[]});else{b=Object;var c=b.assign;var e=this.uc&&this.uc.ia()&&!Um(this.uc.ia())?oD(this.uc,this.vb,a):
null;a=c.call(b,d,{p:e,c:nD(this,a)})}return a}pa(a){this.KF=a.sw;this.GF=a.sh;this.Tv=a.sx;this.Uv=a.sy;this.iF=a.psa;this.dm=a.oo;this.IF=a.so;this.fE=eD.Jb(a.pi)?a.pi:NaN}tg(a){const b=this.vb,d=b.F(),c=new Set;if(a.p&&!this.uc){var e=Jr(d,a.p.uid);if(e){var g=e.C();e.mH(this.vb.ia())?this.uc=g:(e.Wj(this.vb.ia(),rD(a.p.f)),c.has(this.vb)||(vD(this.vb,a.p.offsets),sD(this,this.vb.ia(),a.p)),c.add(this.vb),iD(e.C().Ga))}else eD.Jb(a.p.oci)&&(e=xo(d,a.p.oci),e=cl(d,e,b.Y(),0,0,!0))&&(g=tD(a.p,d),
e.zc(g),no(e.C().Y(),e),e.Wj(b.ia(),rD(a.p.f)),iD(e.C().Ga))}e=[];for(var k of a.c)(g=Jr(d,k.uid))&&e.push(g);k=0;for(const p of a.c){if(g=Jr(d,p.uid)){if(this.Vd)if(this.Vd.includes(g)){var l=g;if(l.I()!==g.I()){k++;continue}if(Um(l)){k++;continue}g=a.c[k];uD(this,l.C(),g,c,!0);k++;continue}else if(this.Vd[k]){l=this.Vd[k];if(l.I()!==g.I()){k++;continue}if(Um(l)){k++;continue}g=a.c[k];uD(this,l.C(),g,c,!0);k++;continue}var n=g.I();l=wD(e,n);n=$C(b.ia(),n).length;if(l===n){if(g=b.ia().KB(k))if(l=
g.C())c.has(l)||(vD(l,p.offsets),sD(this,g,p)),c.add(l);k++;continue}if(g.vf()){g=xD(this,p);uD(this,g,p,c);k++;continue}uD(this,g.C(),p,c)}else if(this.Vd&&this.Vd[k]){g=this.Vd[k];l=xo(d,eD.Jb(p.oci)?p.oci:p[1]);if(g.I()!==l){k++;continue}if(Um(g)){k++;continue}l=a.c[k];uD(this,g.C(),l,c)}else g=xD(this,p),uD(this,g,p,c);k++}}};"use strict";
const Ft=self.A,yD=Ft.m(Ft.Rect),zD=Ft.m(Ft.gd),AD=Ft.m(Ft.Event,"bboxchange",!1),pt=Ft.m(Ft.gb,0,0,0,0),Yf=Ft.m(Ft.zq),BD=Ft.m(Ft.gb,1,1,1,1),CD=Ft.m(Ft.Rect,0,0,-1,-1),DD=Ft.m(Ft.Rect,0,0,-1,-1),ED=new Set(["absolute","relative"]),FD=[];let GD=!0;const HD=new WeakMap,ID=new WeakMap;function Sl(a){a.D|=65554;a.L.Yx=!0;a.g.Z();uo(a.sj)&&(JD(a,a.mJ,a.nJ,!0),a.D&=-3,KD(a));0!==(a.D&4)&&a.$.Ua().dispatchEvent(AD);if(null!==a.Ga){a=a.Ga.Zd();for(let b=0,d=a.length;b<d;++b)Sl(a[b])}}
function Tl(a,b,d){b=+b;d=+d;if(0!==(a.D&3072)){const e=gD(a),g=fD(a),k=a.Ga,l=b-a.Da(),n=d-a.Ea();var c=-LD(a);if(0===c)a.ma=e?a.ma+l/jD(k):b,a.ea=g?a.ea+n/kD(k):d;else{const p=Math.sin(c);c=Math.cos(c);a.ma=e?g?a.ma+(c*l-p*n)/jD(k):a.ma+c*l/jD(k):b;a.ea=g?e?a.ea+(p*l+c*n)/kD(k):a.ea+c*n/kD(k):d}}else a.ma=b,a.ea=d}function Ul(a){MD(a);return a.mJ}function Vl(a){Zo(a.sj);return a.Ti}function Wl(a,b,d){return Ul(a).oh(b,d)&&ND(a).oh(b,d)?a.Om()?void 0:OD(a)?PD(a).oh(b-a.Da(),d-a.Ea()):!0:!1}
function Wm(a){$o(a.sj);return a.vS}function up(a){const b=a.Vz;b!==CD&&(a.Y().Pv.dr(a.$,b,null),a.Vz=CD)}function zp(a,b,d){b=+b;d=+d;0!==(a.D&3072)?Tl(a,a.Da()+b,a.Ea()+d):(a.ma+=b,a.ea+=d)}function bp(a,b){a.vS=b|0}function mp(a,b,d,c){d&&0!==a.Zc?a=Dp(a,sp(a.Y())):0===a.jb()||c?a=pc(b,Ul(a)):(b=a.Y(),d=op(a),d>=b.Te()/Eo(b)?a=!1:(Fo(b,d,yD),a=pc(yD,Ul(a))));return a}
function Dp(a,b){var d=Ul(a);const c=d.aa,e=d.la,g=d.X;d=d.ga;const k=op(a);a=k+a.Zc;return gf(c,g,k,e,d,a,b.aT)&&gf(c,g,k,e,d,a,b.uU)&&gf(c,g,k,e,d,a,b.VT)&&gf(c,g,k,e,d,a,b.AR)&&gf(c,g,k,e,d,a,b.FL)&&gf(c,g,k,e,d,a,b.bS)}function op(a){return a.Y().jb()+a.jb()}function oo(a){a=ID.get(a);return Ft.Jb(a)?a:NaN}function cq(a,b,d){(d=d&&a.sj!==b)&&up(a);a.sj=b;d&&KD(a);0!==a.jb()&&(a.sj.an=!0)}function yt(a,b,d=!1){b=+b;d?a.ma+=b:gD(a)?a.mk(a.Da()+b):a.ma+=b}
function zt(a,b,d=!1){b=+b;d?a.ea+=b:fD(a)?a.nk(a.Ea()+b):a.ea+=b}function At(a){return 0!==(a.D&4096)}function Ct(a){return 0!==(a.D&8192)}function Et(a,b,d){b=+b;d?a.He+=b:Ct(a)?a.zh(a.K()+b):a.He+=b;Gt(a)}function Ht(a){return 0!==(a.D&4194304)}function Cy(a){const b=a.Y();if(Go(b))return Dp(a,sp(b));const d=b.xc();return mp(a,Io(b),lp(d),d.eh)}function Ky(a){QD(a);return a.AJ}function Ly(a){QD(a);return a.pM}function qt(a,b){$b(a.rb,b)||(Yb(pt,b),pt.a=a.ac(),RD(a))}
function rA(a){a.yj&&(a.yj.tO.j(),a.yj.cW.j(),a.yj=null,SD(a))}function sA(a,b,d){b=Math.floor(b);d=Math.floor(d);if(!a.ia().Ia().mU)throw Error("object does not support mesh");rA(a);a.yj={tO:Ft.m(Ft.R.KP,b,d),cW:Ft.m(Ft.R.KP,b,d),SN:null}}function vA(a){return null!==a.yj}function wA(a){if(!vA(a))throw Error("no mesh");return a.yj.tO}
function IC(a){if(0!==(a.D&16)&&a.dk()&&0===(a.D&256)){var b=Ul(a),d=a.L.oy,c=a.nD;yD.set(d.pk(b.aa),d.qk(b.X),d.pk(b.la),d.qk(b.ga));c.zd(yD)||(b=a.$,c===DD?(d.dr(b,null,yD),a.nD=Ft.m(Ft.Rect,yD)):(d.dr(b,c,yD),c.xa(yD)),a.D&=-17)}}function bD(a){a.ma=0;a.ea=0;a.pd=0;a.Re=0;a.He=0;a.Zc=0;a.Wa=0;a.pM=0;a.AJ=1;a.Qk=0;a.Rk=0;TD(a)}function mD(a,b){if(!b)return NaN;a=a.Zd();if(!a)return NaN;for(let d=0;d<a.length;d++)if(b===a[d])return d;return NaN}function SC(a){return(a=HD.get(a))?a.oN:null}
function gD(a){return 0!==(a.D&1024)}function fD(a){return 0!==(a.D&2048)}function vD(a,b){b&&(a.ma=b.x,a.ea=b.y,a.pd=b.z,a.Re=b.w,a.He=b.h,a.Wa=b.a,b.sgi&&a.Ga&&a.Ga.pa(b.sgi),Gt(a),Sl(a))}function UD(a){a.Ga&&(a.Ga.j(),a.Ga=null)}function VD(a){a.Vd&&(a.Vd.length=0);a.Vd=null;a.cl=null;const b=a.Fa();b&&VD(b);a.yA=-1}function RD(a){var b=pt;a.rb.zd(b)||(a.rb===BD?(a.rb=Ft.m(Ft.gb,b),a.Br=Ft.m(Ft.gb,b),bc(a.Br)):ac(b,1,1,1,1)?(a.rb=BD,a.Br=BD):(a.rb.set(b),a.Br.set(b),bc(a.Br)),TD(a))}
function TD(a){if(GD){var b=a.g.ua();a.Ls&&Hf(b,a.Ls);var d=0!==(a.D&524288)?b.lA||"<point>":b.Js||"<default>",c=a.pl(),e=a.Br,g=a.jb();const k=If(d,c,e,g);let l=b.Ms.get(k);l||(l=jf.m(jf.R.U_,b,d,c,e,g),b.Ms.set(k,l));++l.fc;a.Ls=l}}function WD(a,b){At(a)&&0>a.uo().M()&&(b=Ft.Wd(Ft.RU(b,a.uo().Ra()+Math.PI)));Ct(a)&&0>a.uo().K()&&(b=Ft.RU(b,a.uo().Ra()));return b}function XD(a){return 0!==(a.D&16384)&&a.Qm()?Ft.Wd(XD(a.Fa())+a.Wa):a.Wa}
function LD(a){return 0!==(a.D&16384)?WD(a,XD(a.Fa())-a.Ga.iF):0}function YD(a){TD(a);if(a.Ve()){a=a.Zd();for(let b=0,d=a.length;b<d;b++){const c=a[b];0!==(c.D&32768)&&YD(c)}}}function Gt(a){a.D|=262144;if(a.Ve()){a=a.Zd();for(let b=0,d=a.length;b<d;b++)Gt(a[b])}}function QD(a){const b=a.D;if(0!==(b&262144)){var d=a.Ra();a.pM=Math.sin(d);a.AJ=Math.cos(d);a.D=b&-262145}}function ZD(a){if(a.Ve()){a=a.Zd();for(let c=0,e=a.length;c<e;c++){var b=a[c],d=b;b=b.ac();Yb(pt,d.rb);pt.a=b;RD(d);ZD(d)}}}
function $D(a,b){if(a.mH(b))return!0;for(const d of a.Zd())if($D(d,b))return!0;return!1}function aE(a,b){if(!a.vf())return!1;a=a.Fa();return a===b?!0:aE(a,b)}function bE(a,b){b?(cE(b,null),cE(a,b)):(a.Ga&&hD(a.Ga,null),a.Ve()||UD(a))}function dE(a){eE(a);if(!a.Vd){var b=[...a.children()];b.length&&(a.Vd=[],a.cl=new WeakMap);let d=0;for(const c of b)b=c.ia(),a.Vd.push(b),a.cl.set(b,d),d++}(a=a.Fa())&&dE(a)}
function fE(a){dE(a);var b=[...a.children()];for(const d of b)a.zl(d);(b=a.Fa())&&b.zl(a);a.D&=-12647937}function eE(a){if(-1===a.yA){var b=[...a.zw()];a.yA=b.length;for(const d of b)eE(d);a=[...a.children()];for(const d of a)eE(d)}}function cE(a,b){a.Ga||(a.Ga=Ft.m(Ft.y_,a));b&&hD(a.Ga,b)}
function KD(a){const b=a.Y();if(uo(b)&&0===(a.D&256)){var d=b.Pv,c=Ul(a),e=a.Vz;yD.set(d.pk(c.aa),d.qk(c.X),d.pk(c.la),d.qk(c.ga));e.zd(yD)||(c=a.$,e===CD?(d.dr(c,null,yD),a.Vz=Ft.m(Ft.Rect,yD)):(d.dr(c,e,yD),e.xa(yD)),b.DE=!1)}}function gE(a){const b=a.nD;b!==DD&&(a.L.oy.dr(a.$,b,null),a.nD=DD)}function hE(a,b){b=!!b;a.dk()!==b&&(a.Eb(8,b),b?Sl(a):gE(a))}
function JD(a,b,d,c){const e=a.Da(),g=a.Ea();var k=a.M(),l=a.K();const n=a.Ra();jc(b,e-a.Qk*k,g-a.Rk*l,k,l);if(c&&vA(a)){c=a.yj.tO;k=Math;l=k.min;Uf(c);k=l.call(k,c.oT,0);l=Math;var p=l.min;Uf(c);l=p.call(l,c.pT,0);p=Math;var r=p.max;Uf(c);p=r.call(p,c.jT,1);r=Math;var w=r.max;Uf(c);r=w.call(r,c.kT,1);w=b.width();const x=b.height();b.offsetLeft(k*w);b.offsetTop(l*x);b.la+=+((p-1)*w);b.ga+=+((r-1)*x);Uf(c);a.Zc=c.lT}0===n?d.dg(b):(b.offset(-e,-g),sc(d,b,Ly(a),Ky(a)),d.offset(e,g),d.DN(b));b.normalize()}
function MD(a){const b=a.D;0!==(b&2)&&(JD(a,a.mJ,a.nJ,!0),a.D=b&-3)}function ND(a){MD(a);return a.nJ}function iE(a,b){var d=a.Da();a=a.Ea();d=Math.round(d)-d;a=Math.round(a)-a;if(0===d&&0===a)return b;zD.xa(b);zD.offset(d,a);return zD}function SD(a){a.Eb(131072,!0);a=a.cw;null!==a&&(a.width=NaN)}function jE(a,b){a.EF=b;SD(a);vA(a)&&(a.yj.SN=null)}function OD(a){return null!==a.EF||vA(a)}
function PD(a){{var b=a.M();var d=a.K(),c=a.Ra(),e=Ly(a),g=Ky(a);let r=a.cw;null===r&&(r={HV:Ft.m(Ft.zq),width:NaN,height:NaN,angle:NaN},a.cw=r);const w=r.HV;if(r.width!==b||r.height!==d||r.angle!==c){var k=a.EF;if(vA(a)){const x=a.$i(),z=a.aj();var l=wA(a),n=a.yj.SN;n||(k?(Yf.xa(k),Yf.offset(x,z)):Ac(Yf,yc),n=Xf(l),a.yj.SN=n);a=[];n=n.ve;for(let G=0,J=n.length;G<J;G+=2){const [M,P]=Zf(l,n[G],n[G+1]);a.push(M,P)}l=a;n=[];a=l[0];k=l[1];let F=a-l.at(-2),D=k-l.at(-1);for(let G=0,J=l.length;G<J;G+=2){var p=
(G+2)%J;const M=l[p];p=l[p+1];const P=M-a,Ja=p-k,Sa=1E-7>Math.abs(Ja)&&1E-7>Math.abs(D)&&Math.sign(P)===Math.sign(F);(!(1E-7>Math.abs(P)&&1E-7>Math.abs(F)&&Math.sign(Ja)===Math.sign(D)||Sa)&&.001<Math.abs(P/F-Ja/D)||0==P&&0===Ja)&&n.push(a,k);a=M;k=p;F=P;D=Ja}6<=n.length&&n.length<l.length&&Rf.Bd(l,n);Ac(w,l);w.offset(-x,-z);Cc(w,b,d,e,g)}else k?(w.xa(k),Cc(w,b,d,e,g)):Bc(w,ND(a),-a.Da(),-a.Ea());r.width=b;r.height=d;r.angle=c}b=w}return b}
function kE(a){if(!vA(a))throw Error("no mesh");return a.yj.cW}
Ft.H0=class extends Ft.ra{constructor(a,b){super();this.$=a;this.L=a.I();this.g=a.F();this.sj=b;this.vS=this.Ti=-1;this.D=196635;this.L.Ia().Qm()&&(this.D|=128);this.Rk=this.Qk=this.AJ=this.pM=this.Wa=this.Zc=this.He=this.Re=this.pd=this.ea=this.ma=NaN;this.mJ=Ft.m(Ft.Rect);this.nJ=Ft.m(Ft.gd);this.nD=DD;this.Vz=CD;this.$k=this.cw=this.EF=null;this.Br=this.rb=BD;this.Jf=this.Ls=null;CC(this.$.I())&&(this.Jf=Ft.m(Ft.BY,this.$,this));this.cl=this.Vd=this.Ga=null;this.yA=-1;this.yj=null}KI(){this.D|=
256}j(){this.Ls&&(Hf(this.g.ua(),this.Ls),this.Ls=null);this.EF=null;this.cw&&(this.cw.HV.j(),this.cw=null);this.$k&&(this.$k.clear(),this.$k=null);rA(this);this.Jf&&this.Jf.j();this.vf()&&this.Fa().zl(this);if(this.Ve()){const a=[...this.Zd()];for(const b of a)this.zl(b)}UD(this);VD(this);HD.delete(this);ID.delete(this);this.sj=this.g=this.L=this.$=null}vo(a){GD=!1;Tl(this,a[0],a[1]);this.Rg(a[2]);this.sd(a[3],a[4]);this.Zc=0;this.Qm()?this.Be(a[6]):this.Wa=0;fc(pt,a[7]);RD(this);this.Qk=+a[8];this.Rk=
+a[9];this.Ce(a[10]);if(this.Jf){var b=this.Jf,d=a[12],c=0;for(var e of d)b.vd.push(b.JI(c,e)),++c;b.fu();b.Fh()}a[14]&&HD.set(this,{oN:a[14][1],zO:a[14][2]});if(a[15]){d=a[15];sA(this,d[0],d[1]);b=wA(this);d=d[2];for(let g=0,k=d.length;g<k;++g){c=d[g];for(let l=0,n=c.length;l<n;++l){e=c[l];const p=Vf(b,l,g);p.mk(e[0]);p.nk(e[1]);p.Rg(e[2]);p.kh=e[3];p.mh=e[4]}}}a[16]&&(b=a[16][0],a=a[16][1],d=!!a,c=!d,e=this.g.Oi,d&&e&&Mu(e,this.ia(),a),c&&e&&Mu(e,this.ia(),b));GD=!0;TD(this)}F(){return this.g}I(){return this.L}ia(){return this.$}mk(a){a=
+a;if(gD(this)){const b=this.Ga;a-=this.Da();const d=-LD(this);0===d?this.ma+=a/jD(b):(this.ma+=Math.cos(d)*a/jD(b),fD(this)&&(this.ea+=Math.sin(d)*a/kD(b)))}else this.ma=a}Da(){if(gD(this)){let a=this.ma;const b=this.Ga,d=this.Fa(),c=LD(this);0===c?a*=jD(b):(a=a*jD(b)*Math.cos(c),fD(this)&&(a-=this.ea*kD(b)*Math.sin(c)));return d.Da()+a}return this.ma}nk(a){a=+a;if(fD(this)){const b=this.Ga;a-=this.Ea();const d=-LD(this);0===d?this.ea+=a/kD(b):(gD(this)&&(this.ma-=Math.sin(d)*a/jD(b)),this.ea+=Math.cos(d)*
a/kD(b))}else this.ea=a}Ea(){if(fD(this)){let a=this.ea;const b=this.Ga,d=this.Fa(),c=LD(this);0===c?a*=kD(b):(a=a*kD(b)*Math.cos(c),gD(this)&&(a+=this.ma*jD(b)*Math.sin(c)));return d.Ea()+a}return this.ea}Rg(a){a=+a;0!==(this.D&32768)&&(a-=this.Fa().jb());this.pd!==a&&(this.pd=a,YD(this),a=this.Y(),0!==this.pd&&(a.an=!0),zo(a,this))}jb(){return 0!==(this.D&32768)?this.Fa().jb()+this.pd:this.pd}qg(a){a=+a;if(At(this)){const b=this.M();this.Re=0===b?Number.EPSILON:a/b*this.Re}else this.Re=a;Gt(this)}gk(a,
b){a=+a;b?this.Re+=a:At(this)?this.qg(this.M()+a):this.Re+=a;Gt(this)}M(){if(At(this)){const a=this.Fa(),b=a.M();return Bt(a.Ga)===Number.EPSILON?(Bt(this.Ga)+b)*this.Re:b*this.Re}return this.Re}zh(a){a=+a;if(Ct(this)){const b=this.K();this.He=0===b?Number.EPSILON:a/b*this.He}else this.He=a;Gt(this)}K(){if(Ct(this)){const a=this.Fa(),b=a.K();return Dt(a.Ga)===Number.EPSILON?(Dt(this.Ga)+b)*this.He:b*this.He}return this.He}sd(a,b){a=+a;b=+b;if(At(this)){const d=this.M();this.Re=0===d?Number.EPSILON:
a/d*this.Re}else this.Re=a;Ct(this)?(a=this.K(),this.He=0===a?Number.EPSILON:b/a*this.He):this.He=b;Gt(this)}ki(){return[this.M(),this.K()]}Qm(){return 0!==(this.D&128)}Be(a){a=+a;this.Qm()&&(0!==(this.D&16384)&&(a-=this.Fa().Ra()),a=Ft.Wd(a),this.Wa!==a&&(this.Wa=a,Gt(this)))}Ra(){return 0!==(this.D&16384)&&this.Qm()?WD(this,Ft.Wd(XD(this.Fa())+this.Wa)):this.Wa}$i(){return this.Qk}aj(){return this.Rk}De(a){a=Ft.V(+a,0,1);if(Ht(this)){if(this.Ga.dm===a)return;this.Ga.dm=a;a=this.ac()}else if(this.rb.a===
a)return;Yb(pt,this.rb);pt.a=a;RD(this);ZD(this)}ac(){return Ht(this)?this.Fa().ac()*this.Ga.dm:this.rb.a}jH(){return this.Br}Ow(){return 0!==(this.D&512)}Wj(a,b){if(a===this||a.vf()||$D(this,a)||aE(this,a))return!1;var d=a.Da(),c=a.Ea(),e=a.M();const g=a.K(),k=a.Ra(),l=a.jb(),n=a.ac();bE(a,this);a.Eb(1024,b.lt);a.Eb(2048,b.mt);a.Eb(4096,b.sq);a.Eb(8192,b.rq);a.Eb(16384,b.it);a.Eb(32768,b.nt);a.Eb(4194304,b.jt);a.Eb(8388608,b.kt);a.Eb(512,b.mw);b.lt&&(a.ma=d-this.Da(),b.sq&&(d=this.M()/Bt(this.Ga),
0!==d&&(a.ma/=d)));b.mt&&(a.ea=c-this.Ea(),b.rq&&(c=this.K()/Dt(this.Ga),0!==c&&(a.ea/=c)));b.sq&&(c=this.M(),0===c||c===Number.EPSILON?(a.Re=1,a.Ga.Tv=1):(a.Re=e/this.M(),a.Ga.Tv=a.Re));b.rq&&(e=this.K(),0===e||e===Number.EPSILON?(a.He=1,a.Ga.Uv=1):(a.He=g/this.K(),a.Ga.Uv=a.He));b.it&&(a.Wa=k-this.Ra());b.nt&&(a.pd=l-this.jb());b.jt&&(a.Ga.dm=n);b.kt&&a.Bh(this.Uc());this.Ga.Zd().push(a);Sl(this);ZD(this);return!0}zl(a){if(a.Fa()===this){var b=a.Da(),d=a.Ea(),c=a.M(),e=a.K(),g=a.Ra(),k=a.jb(),l=
a.ac();bE(a,null);a.D&=-12647937;Tl(a,b,d);a.sd(c,e);a.Be(g);a.Rg(k);a.De(l);b=this.Ga.Zd();d=b.indexOf(a);-1!==d&&b.splice(d,1);0!==b.length||this.vf()||UD(this);a.Ve()||UD(a);Sl(this)}}vf(){return null!==this.Fa()}Fa(){const a=this.Ga;return null!==a?a.Fa():null}uo(){let a=this;for(;a.vf();)a=a.Fa();return a}*zw(){let a=this.Fa();for(;a;)yield a,a=a.Fa()}mH(a){return this.Zd().includes(a)}Ve(){const a=this.Ga;return null!==a?a.Ve():!1}Zd(){const a=this.Ga;return null!==a?a.Zd():FD}children(){return this.Zd()}*Pj(){for(const a of this.children())yield a,
yield*a.Pj()}LB(){return this.Zd().length}EB(){return[...this.Pj()].length}KB(a){const b=this.Zd();a=Math.floor(+a);return 0>a||a>=b.length?null:b[a]}Kt(){return this.rb===BD}Ce(a){a|=0;if(0>a||31<a)throw new RangeError("invalid blend mode");this.pl()!==a&&(this.D=this.D&-2080374785|a<<26,TD(this))}pl(){return(this.D&2080374784)>>26}Y(){return this.sj}xc(){return this.Y().xc()}Eb(a,b){this.D=b?this.D|a:this.D&~a}Uc(){return 0!==(this.D&1)}Bh(a){this.Eb(1,a);if(this.Ve())for(const b of this.Zd())0!==
(b.D&8388608)&&b.Bh(a)}dk(){return 0!==(this.D&8)}lI(a,b){this.Eb(32,a);this.$k&&this.$k.clear();if(b.trim()){this.$k||(this.$k=new Set);for(const d of b.split(" "))d&&this.$k.add(d.toLowerCase())}else this.$k=null}IQ(a,b,d){a=Math.floor(a);b=Math.floor(b);var c=d.mode||"absolute";if(!ED.has(c))throw Error("invalid mode");c="relative"===c;let e=d.x,g=d.y;const k=d.ll;let l="number"===typeof d.fW?d.fW:c?0:-1;d="number"===typeof d.lW?d.lW:c?0:-1;if(!vA(this))return!1;const n=wA(this),p=Vf(n,a,b);if(null===
p)return!1;let r=!1;"number"===typeof k&&p.jb()!==k&&(p.Rg(k),r=!0);c&&(e+=a/(n.Ul-1),g+=b/(n.rm-1));-1!==l||c?(c&&(l+=a/(n.Ul-1)),l=Ft.V(l,0,1)):l=p.kh;-1!==d||c?(c&&(d+=b/(n.rm-1)),d=Ft.V(d,0,1)):d=p.mh;if(p.Da()===e&&p.Ea()===g&&p.kh===l&&p.mh===d)return r;p.mk(e);p.nk(g);p.kh=l;p.mh=d;SD(this);return!0}Om(){return this.$.Om()}hx(){return 0!==(this.D&64)}oa(a,b=null){const d={x:this.Da(),y:this.Ea(),w:this.M(),h:this.K(),l:this.Y().fb,zi:Vl(this)};0!==this.jb()&&(d.ze=this.jb());0!==this.Ra()&&
(d.a=XD(this));this.Kt()||(d.c=this.rb.toJSON());.5!==this.$i()&&(d.oX=this.$i());.5!==this.aj()&&(d.oY=this.aj());0!==this.pl()&&(d.bm=this.pl());this.Uc()||(d.v=this.Uc());this.dk()||(d.ce=this.dk());0!==(this.D&4)&&(d.be=0!==(this.D&4));this.Jf&&(d.fx=this.Jf.oa());const c=0!==(this.D&32);c&&(d.sfi=c);this.$k&&(d.sft=[...this.$k].join(" "));this.Ga&&"visual-state"!==a&&(d.sgi=this.Ga.oa(a,b),HD.has(this)&&(d.sgcd=HD.get(this).oN,d.sgzid=HD.get(this).zO));vA(this)&&(d.mesh=wA(this).rd());return d}Ux(){VD(this);
fE(this);cE(this,null);this.Ga&&qD(this.Ga,this.Vd,this.cl)}cu(a){"visual-state"!==a&&fE(this)}tg(a,b="full",d=null){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.D&256)&&this.Ga.tg(a.sgi,d)}LI(a,b="full"){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.D&256)&&(qD(this.Ga,null,null),VD(this),Sl(this))}pa(a,b){GD=!1;this.mk(a.x);this.nk(a.y);this.qg(a.w);this.zh(a.h);this.Ti=a.zi|0;this.Rg(a.hasOwnProperty("ze")?a.ze:0);this.Be(a.hasOwnProperty("a")?a.a:0);a.hasOwnProperty("c")?fc(pt,
a.c):a.hasOwnProperty("o")?(Yb(pt,this.rb),pt.a=a.o):Vb(pt,1,1,1,1);RD(this);this.Qk=+(a.hasOwnProperty("oX")?a.oX:.5);this.Rk=+(a.hasOwnProperty("oY")?a.oY:.5);this.Ce(a.hasOwnProperty("bm")?a.bm:0);this.Bh(a.hasOwnProperty("v")?a.v:!0);hE(this,a.hasOwnProperty("ce")?a.ce:!0);var d=a.hasOwnProperty("be")?a.be:!1;this.Eb(4,d);this.lI(a.hasOwnProperty("sfi")?a.sfi:!1,a.hasOwnProperty("sft")?a.sft:"");this.Jf&&a.hasOwnProperty("fx")&&this.Jf.pa(a.fx);if(!a.hasOwnProperty("sgi")&&"visual-state"!==b&&
this.Vd)for(const c of this.Vd)Um(c)||tp(this.g,c);a.hasOwnProperty("sgi")&&"visual-state"!==b&&(cE(this,null),d=this.Ga,d.pa(a.sgi),qD(d,this.Vd,this.cl),a.sgcd&&Ft.Jb(a.sgzid)&&HD.set(this,{oN:a.sgcd,zO:a.sgzid}));a.hasOwnProperty("mesh")?(d=a.mesh,sA(this,d.cols,d.rows),wA(this).zc(d)):rA(this);Sl(this);GD=!0;TD(this);"visual-state"!==b&&(b=this.g,d=this.ia(),d.C()&&(b.mE.set(d,a),b.cz.push(d)))}};"use strict";const lE=self.A;
lE.FO=class extends lE.ra{constructor(a,b){super();const d=a.F(),c=sx(d,b[1]);var e=d.Qo;const g=e.HJ.get(c);g&&(g(),e.HJ.delete(c));this.g=d;this.L=a;this.kj=VB.get(c)||null;this.dE=this.wb=null;this.az=c.Instance;this.fb=b[2];this.Ka=b[0];this.qz=this.g.ak(b[3]);a=this.kj.Bg;if(2>a&&(this.wb=lE.m(c.Eh,this),!(this.wb instanceof lE.XH)))throw Error("v1 sdk type must derive from SDKBehaviorBase");lE.Cb.No(this,a);if(2<=a){if(this.dE=new (c.Eh??globalThis.mP),!(this.dE instanceof globalThis.mP))throw Error("script interface class must derive from ISDKBehaviorTypeBase");
}else this.dE=new globalThis.kP;lE.Cb.Mo(a);this.Vc()}static ya(a,b){return lE.m(lE.FO,a,b)}j(){this.kj=this.g=null;this.wb&&(this.wb.j(),this.wb=null);this.az=null}Vc(){this.wb&&this.wb.Vc()}F(){return this.g}I(){return this.L}ig(){return this.kj}fa(){return this.Ka}ak(){return this.qz}};"use strict";const mE=self.A,nE=self.aC;
mE.QW=class extends mE.ra{constructor(a){super();this.g=a.Ad;this.lc=a.gG;this.kj=this.lc.ig();this.$=a.instance;this.na=a.index;this.Fd=this.Sb=null;this.kj.ti(this.$)}j(){this.Fd&&(this.Fd.Xk(),this.Fd=null);this.kj.jr(this.$);this.Sb&&(this.Sb.j(),this.Sb=null);this.$=this.kj=this.lc=this.g=null}KC(a){if(this.Sb)throw Error("already got sdk instance");if(2>this.ig().Bg){if(this.Sb=mE.m(this.lc.az,this,a),!(this.Sb instanceof mE.WH))throw Error("v1 sdk type must derive from SDKBehaviorInstanceBase");
}else this.au(this.ig().xe().Instance,a)}F(){return this.g}jg(){return this.lc}ig(){return this.kj}sg(){return this.na}rd(a="full"){return this.Sb?this.Sb.rd(a):null}zc(a,b="full"){if(this.Sb)return this.Sb.zc(a,b);this.Fd.$l(a,b)}au(a,b){const d=(a=a??this.Sb.xe())||nE,c=this.ig().Bg;mE.Cb.No(this,c);QB.push(b);this.Fd=new d;QB.pop();mE.Cb.Mo(c);if(a&&!(this.Fd instanceof nE))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${nE.name}'`);return this.Fd}It(){return this.Fd||
this.au()}};"use strict";const oE=self.A;function Mr(a,b){return a.FD.get(b.toLowerCase())||null}function pE(a,b){b=Math.floor(+b);if(0>b||b>=a.Ih.length)throw new RangeError("invalid effect type index");return a.Ih[b]}
oE.Cq=class extends oE.ra{constructor(a,b){super();this.vb=a;this.Ih=[];this.Gh=[];this.FD=new Map;this.vd=[];this.Hf=[];this.dJ=new Set;this.Iv=!0;for(const d of b)a=oE.m(oE.SO,this,d,this.Ih.length),this.Ih.push(a),this.FD.set(a.fa().toLowerCase(),a),3<=d.length&&this.vd.push(this.JI(a,d[2]));this.F().aJ.add(this)}j(){this.F().aJ.delete(this);for(const a of this.Hf)a.j();oE.G(this.Hf);oE.G(this.Ih);oE.G(this.Gh);this.FD.clear();oE.G(this.vd);this.vb=null}Fl(a){a.Ld()&&(this.Hf=this.Ih.map(b=>{b=
b.ye();return 0<b.wD?oE.m(oE.R.YQ,b):null}),this.fu());for(const b of this.dJ)b.Fl(a)}JI(a,b){a.Nb=!!b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=oE.m(oE.gb);fc(e,b);a[d]=e}return a}F(){return this.vb.F()}Fh(){oE.G(this.Gh);let a=!0;for(const b of this.Ih)b.Nb&&(this.Gh.push(b),b.ye().Iv||(a=!1));this.Iv=a}gi(){return this.Ih}wo(a){return pE(this,a).Nb}ZH(a,b){pE(this,a).Nb=!!b}hx(){return 0<this.Gh.length}cP(a){return this.vd[a]}NC(a){return a<this.Hf.length?
this.Hf[a]:this.vd[a]}bP(a,b){if(0>a||a>=this.vd.length)return null;a=this.vd[a];return 0>b||b>=a.length?null:a[b]}yx(a,b,d){if(0>a||a>=this.vd.length)return!1;const c=this.vd[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof oE.gb){if($b(e,d))return!1;Yb(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Hf.length&&yj(this.Hf[a],b,d);return!0}fu(){const a=this.vd,b=this.Hf;for(let d=0,c=Math.min(a.length,b.length);d<c;++d){const e=b[d],g=a[d];for(let k=0,l=g.length;k<l;++k)yj(e,k,g[k])}}static CQ(a){return a&&
a instanceof oE.gb?{t:"color",v:a.toJSON()}:a}static IP(a){if(null===a)return NaN;if("object"===typeof a){if("color"===a.t){const b=oE.m(oE.gb);fc(b,a.v);return b}throw Error("invalid effect parameter type");}return a}rd(){return this.Ih.map(a=>({name:a.fa(),active:a.Nb,params:this.vd[a.Ha()].map(oE.Cq.CQ)}))}zc(a){for(const b of a)if(a=Mr(this,b.name))a.Nb=!!b.active,this.vd[a.Ha()]=b.params.map(oE.Cq.IP);this.Fh();this.fu()}};"use strict";const zC=self.A;
zC.SO=class extends zC.ra{constructor(a,b,d){super();this.Ma=a;this.Rd=b[0];this.Ka=b[1];this.na=d;this.Cc=null;this.Nb=!0}j(){this.Cc=this.Ma=null}Fl(a){a=a.cA.get(this.Rd)||null;if(!a)throw Error("failed to find shader program '"+this.Rd+"'");this.Cc=a}fa(){return this.Ka}UI(a){this.na=a}Ha(){return this.na}F(){return this.Ma.F()}ye(){return this.Cc}};"use strict";const qE=self.A;
function cD(a){for(const c of a.Ma.gi()){var b=a.vd,d=b.push;const e=[];for(let g=0,k=c.Cc.gP();g<k;++g){const l=c.Cc.Ww(g);if("float"===l||"percent"===l)e.push(0);else if("color"===l)e.push(zC.m(zC.gb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}d.call(b,e)}a.fu()}
qE.BY=class extends qE.ra{constructor(a,b){super();this.$=a;this.PU=b;this.Ma=a.I().Ma;this.OA=this.HL=!0;this.JU=this.LU=this.KU=this.HU=!1;this.Gf=qE.m(qE.R.hg,a.F().T.Hy,{nG:(d,c)=>{c=c.Vo;const e=c.C();d.hk(e.jH());Kf(d,op(e));c.Zj(d);Kf(d,0)},pV:d=>{const c=d.NB(),[e,g]=d.MB();return{VV:c,WV:e,TV:g}},rG:d=>this.NC(d)});this.Po=[];this.Gh=[];this.Iv=!0;this.vd=[];this.Hf=[];this.Fl(a.F().ua());for(let d=0,c=this.Ma.gi().length;d<c;++d)this.Po.push(!0);this.Fh();this.Ma.dJ.add(this)}j(){this.Ma.dJ.delete(this);
for(const a of this.Hf)a&&a.j();qE.G(this.Hf);this.Gf.j();this.Gf=null;qE.G(this.Po);qE.G(this.Gh);qE.G(this.vd);this.Ma=this.$=null}Fl(a){a.Ld()&&(this.Hf=this.Ma.gi().map(b=>{b=b.ye();return 0<b.wD?qE.m(qE.R.YQ,b):null}))}JI(a,b){this.Po[a]=b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=qE.m(qE.gb);fc(e,b);a[d]=e}return a}Kg(){this.Ox();return this.Gf}F(){return this.$.F()}Fh(){qE.G(this.Gh);const a=this.PU,b=this.Ma.gi(),d=this.Gh,c=this.Po;let e=!0;for(let g=
0,k=b.length;g<k;++g)if(c[g]){const l=b[g];d.push(l);l.ye().Iv||(e=!1)}this.Iv=e;a.Eb(64,!!d.length);this.HL=!0}Ox(){var a=this.$,b=this.PU;const d=b.Kt(),c=a.Ia().GS;b=0!==b.Ra()||0!==b.Y().Ra()||0>b.M()||0>b.K();const e=a.eC();a=a.Rq();if(this.HL||d!==this.OA||c!==this.HU||b!==this.KU||e!==this.LU||a!==this.JU||this.Gf.Ez)sk(this.Gf,this.Gh.map(g=>g.ye()),{ow:this.Gh.map(g=>g.Ha()),zN:!d||a,tV:c,vG:e,NN:b}),this.HL=!1,this.OA=d,this.HU=c,this.KU=b,this.LU=e,this.JU=a}cP(a){return this.vd[a]}NC(a){return a<
this.Hf.length?this.Hf[a]:this.vd[a]}bP(a,b){if(0>a||a>=this.vd.length)return null;a=this.vd[a];return 0>b||b>=a.length?null:a[b]}yx(a,b,d){if(0>a||a>=this.vd.length)return!1;const c=this.vd[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof qE.gb){if($b(e,d))return!1;Yb(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Hf.length&&yj(this.Hf[a],b,d);return!0}fu(){const a=this.vd,b=this.Hf;for(let d=0,c=b.length;d<c;++d){const e=b[d],g=a[d];for(let k=0,l=g.length;k<l;++k)yj(e,k,g[k])}}wo(a){return this.Po[a]}ZH(a,
b){this.Po[a]=!!b}gi(){return this.Ma.gi()}oa(){return this.Ma.gi().map(a=>({name:a.fa(),active:this.Po[a.Ha()],params:this.vd[a.Ha()].map(oE.Cq.CQ)}))}pa(a){for(const b of a)if(a=Mr(this.Ma,b.name))this.Po[a.Ha()]=b.active,this.vd[a.Ha()]=b.params.map(oE.Cq.IP);this.Fh();this.fu()}};"use strict";const rE=self.A,sE=[],tE=rE.m(rE.zq),uE=rE.m(rE.zq),vE=rE.m(rE.gd);rE.m(rE.Rect);rE.m(rE.Rect);let wE=null,xE=null,yE=null;
function Uz(a,b,d,c){a=a?1!==a.ef||1!==a.ff:!1;if(b.Oa)for(const e of b.fp)a||e.Zx?rE.ym(c,e.qa()):(HC(e),e.oy.oC(d,c));else a||b.Zx?rE.ym(c,b.qa()):(HC(b),b.oy.oC(d,c))}
function Vz(a,b){if(!a||!b||a===b)return!1;a=a.C();b=b.C();if(!a.dk()||!b.dk())return!1;var d=a.Y(),c=b.Y();if(d===c||d.ef===c.ef&&d.ff===c.ff&&d.ge===c.ge&&d.Ej===c.Ej&&d.Df===c.Df&&d.wh()===c.wh()&&d.xh()===c.xh())b=zE(a,b);else if(d=a.Om(),c=b.Om(),d&&!c)b=AE(a,b);else if(c&&!d)b=AE(b,a);else if(c||d)b=!1;else{c=a.Y();d=b.Y();tE.xa(PD(a));uE.xa(PD(b));var e=tE.ve;for(let g=0,k=e.length;g<k;g+=2){const l=g+1,n=e[l],[p,r]=Vm(c,e[g]+a.Da(),n+a.Ea());e[g]=p;e[l]=r}a=uE.ve;for(let g=0,k=a.length;g<
k;g+=2){c=g+1;e=a[c];const [l,n]=Vm(d,a[g]+b.Da(),e+b.Ea());a[g]=l;a[c]=n}tE.An=!0;uE.An=!0;b=Dc(tE,uE,0,0)}return b}function Zz(a,b,d,c){for(const [e,g]of a.Uz){if(b===e)a=g;else if(b===g)a=e;else continue;gA(a,d)&&(c.includes(a)||c.push(a))}}function $z(a,b,d){if(!a.Uz.length)return!1;for(const [c,e]of a.Uz)if(b===c&&d===e||b===e&&d===c)return!0;return!1}function JC(a){return[a.mD,a.lD]}
function zE(a,b){if(!pc(Ul(a),Ul(b))||!wc(ND(a),ND(b))||a.Om()&&b.Om())return!1;if(a.Om())return BE(a,b);if(b.Om())return BE(b,a);if(!OD(a)&&!OD(b))return!0;const d=PD(a),c=PD(b);return Dc(d,c,b.Da()-a.Da(),b.Ea()-a.Ea())}
function BE(a,b,d,c,e,g,k){g=void 0!==g?g:Ul(b);const l=a.Da(),n=a.Ea();var p=W(a.ia());d=void 0!==d?d:b.Da();c=void 0!==c?c:b.Ea();a=OD(b);k=void 0!==k?k:ND(b);p.H7(g,sE);for(let x=0,z=sE.length;x<z;++x){var r=sE[x];p=r.M7();if(!(p.la+l<g.aa||p.ga+n<g.X||p.aa+l>g.la||p.X+n>g.ga)&&(vE.dg(p),vE.offset(l,n),wc(vE,k)))if(a){var w=void 0!==e?e:PD(b);let F=d,D=c;void 0!==e&&(F=b.Da(),D=b.Ea());if(r=r.XX()){if(Dc(r,w,F-(l+p.aa),D-(n+p.X)))return rE.G(sE),!0}else if(Bc(tE,vE,0,0),Dc(tE,w,F,D))return rE.G(sE),
!0}else if(w=r.XX()){if(Bc(tE,k,0,0),Dc(w,tE,-(l+p.aa),-(n+p.X)))return rE.G(sE),!0}else return rE.G(sE),!0}rE.G(sE);return!1}
function AE(a,b){var d=a.Y(),c=b.Y();wE||(wE=rE.m(rE.zq));xE||(xE=rE.m(rE.Rect));yE||(yE=rE.m(rE.gd));var e=b.Da(),g=b.Ea();const [k,l]=Vm(c,e,g),[n,p]=Ho(d,k,l);d=n-e;g=p-g;xE.xa(Ul(b));xE.offset(d,g);if(!pc(Ul(a),xE))return!1;yE.xa(ND(b));yE.offset(d,g);if(!wc(ND(a),yE))return!1;wE.xa(PD(b));c=wE.ve;for(let r=0,w=c.length;r<w;r+=2)e=r+1,c[r]+=d,c[e]+=g;wE.An=!0;return BE(a,b,n,p,wE,xE,yE)}
function CE(a,b,d,c){const e=b.ca();var g=a.g.$b();if(!g)throw Error("cannot call outside event");const k=g.Ie,l=new Map,n=r=>{let w=l.get(r);"undefined"===typeof w&&(w=Co(r),l.set(r,w));return w};if(e.kb){c||(e.kb=!1,rE.G(e.J));k&&rE.G(e.ub);for(var p of b.qa()){const r=p.C(),w=r.Y();a=!1;n(w)&&Cy(r)&&(a=d.some(([x,z])=>{const [F,D]=Ho(w,x,z,op(r));return Wl(r,F,D)}));if(a){if(c)return!1;e.J.push(p)}else k&&e.ub.push(p)}}else{p=!1;k&&!Pw(g,a.g.tf())?0===a.g.kg().me&&!e.ub.length&&e.J.length?a=e.J:
(a=e.ub,p=!0):a=e.J;g=0;for(let r=0,w=a.length;r<w;++r){const x=a[r],z=x.C(),F=z.Y();let D=!1;n(F)&&Cy(z)&&(D=d.some(([G,J])=>{const [M,P]=Ho(F,G,J,op(z));return Wl(z,M,P)}));if(D){if(c)return!1;p?e.J.push(x):a[g++]=x}else p?a[g++]=x:k&&e.ub.push(x)}c||(a.length=g)}gx(b);l.clear();return c?!0:mv(e)}function DE(a,b,d){a.mD=b;a.lD=d}
rE.ZW=class extends rE.ra{constructor(a){super();this.g=a;this.lD=this.mD=0;this.Uz=[];new self.jY(this)}j(){this.g=null}F(){return this.g}FQ(a,b){if(a!==this.mD||b!==this.lD){this.mD=a;this.lD=b;var d=this.g.jd;for(const g of d)if(g.Sd){for(const k of al(g))gE(k.C());d=g.oy;var c=a,e=b;if(!d.mj.fk())throw Error("grid not empty");d.kD=c;d.jD=e;g.Yx=!1;for(const k of al(g))d=k.C(),d.D|=16,IC(d)}}}};"use strict";const EE=self.A;
EE.R_=class extends EE.ra{constructor(a,b){super();this.kD=a;this.jD=b;this.mj=EE.m(EE.nx)}j(){this.mj.j();this.mj=null}po(a,b,d){let c=this.mj.U(a,b);return c?c:d?(c=EE.m(EE.dY,this,a,b),this.mj.Set(a,b,c),c):null}pk(a){a=Math.floor(a/this.kD);return isFinite(a)?a:0}qk(a){a=Math.floor(a/this.jD);return isFinite(a)?a:0}dr(a,b,d){if(b)for(let c=b.aa,e=b.la;c<=e;++c)for(let g=b.X,k=b.ga;g<=k;++g){if(d&&d.oh(c,g))continue;const l=this.po(c,g,!1);l&&(l.zf(a),l.fk()&&this.mj.Aq(c,g))}if(d)for(let c=d.aa,
e=d.la;c<=e;++c)for(let g=d.X,k=d.ga;g<=k;++g)b&&b.oh(c,g)||this.po(c,g,!0).sH(a)}oC(a,b){let d=this.pk(a.aa);const c=this.qk(a.X),e=this.pk(a.la);a=this.qk(a.ga);if(isFinite(e)&&isFinite(a))for(;d<=e;++d)for(let g=c;g<=a;++g){const k=this.po(d,g,!1);k&&k.aH(b)}}};"use strict";const FE=self.A;FE.dY=class extends FE.ra{constructor(a,b,d){super();this.ma=b;this.ea=d;this.J=FE.m(FE.NG)}j(){this.J.j();this.J=null}fk(){return this.J.fk()}sH(a){this.J.Bb(a)}zf(a){this.J.Aq(a)}aH(a){FE.ym(a,Hc(this.J))}};
"use strict";const GE=self.A;GE.vaa=class{constructor(){this.dy=this.dx=this.y2=this.x2=this.y1=this.x1=0;this.rect=new GE.Rect;this.ci=0}Tb(){}Set(a,b,d,c){this.x1=a;this.y1=b;this.x2=d;this.y2=c;this.dx=d-a;this.dy=c-b;this.rect.set(a,b,d,c);this.rect.normalize();this.ci=0;return this}};"use strict";const ip=self.A,HE=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),IE=new Set(["high","low"]),JE=self.Vi.jl,KE=JE.create(),LE=ip.m(ip.gd),Pf=ip.m(ip.Rect);
async function pq(a,b,d=!1){if(1>b)throw Error("invalid HTML layer count");if(a.ug.length!==b){d={count:b,immediate:d,marginLeft:a.kn,marginTop:a.ln,styleWidth:a.Yc,styleHeight:a.Nc};d=a.fd()?await Sk(a.g,"canvas","set-html-layer-count",d):self.c3_runtimeInterface._OnSetHTMLLayerCount(d);if(b<a.ug.length)a.ug.length=b;else for(const c of d.addedCanvases){c.width=a.Wg;c.height=a.Vg;b=ME(a)?"bitmaprenderer":"2d";d=c.getContext(b);if(!d)throw Error(`failed to acquire '${b}' canvas context`);a.ug.push({canvas:c,
bV:d})}a.g.Z()}}function NE(a,b,d){a.gN=b;a.eN=d}async function OE(a){await a.Se.jC();await a.Fl();await PE(a.g);console.log("[Construct] WebGL context restored")}async function QE(a,b){b={powerPreference:a.iK,depth:a.g.fl,failIfMajorPerformanceCaveat:b,jW:a.g.Vs,YU:a.g.AU,QA:a.g.UM};a.$h=ip.m(ip.R.F0,{XN:a.gN,yN:a.eN});await a.$h.ya(a.ug[0].canvas,b)}function RE(a,b){b&&"string"===typeof b.message&&b.message.startsWith("renderer-unavailable")||console.error(`Error creating ${a} renderer: `,b)}
async function SE(a,b){b={alpha:!0,powerPreference:a.iK,iV:"xbox-uwp-webview2"!==a.g.Bk,depth:a.g.fl,QA:a.g.UM,failIfMajorPerformanceCaveat:b,XN:a.gN,yN:a.eN};a.KS&&(b.CV=1);a.Se=ip.m(ip.R.A0,a.ug[0].canvas,b);await a.Se.Kq()}async function TE(a){await a.Fl();await PE(a.g);console.log("[Construct] WebGPU device restored")}async function UE(a){if(a.AF){const b=[];for(const [d,c]of Object.entries(a.AF))c.src=c.nW,b.push(a.$h.xB(Object.assign({ot:ip.R.JC.Ct(),name:d},c)));await Promise.all(b)}}
async function VE(a){if(a.AF){const b=[];for(const [d,c]of Object.entries(a.AF)){let e;if(c.GN&&2<=a.Se.Tc)c.src=c.GN,e=Dg();else{if(!c.FN)throw Error(`shader '${d}' does not support WebGL 1`);c.src=c.FN;e=ip.R.IC.Ct()}b.push(a.Se.xB(Object.assign({ot:e,name:d},c)))}await Promise.all(b);a.Se.vp=null;Gf(a.Se)}a.Se.Ch()&&(a.XD=ip.m(ip.R.WQ,a.Se))}function WE(a){return a.gs?a.SR:a.Sw()}function XE(a,b){if(!HE.has(b))throw Error("invalid fullscreen mode");a.iS=b;a=a.g.hb;Fq(a);Gq(a)}
function YE(a,b){if(!IE.has(b))throw Error("invalid fullscreen scaling quality");a.aN=b;Fq(a.g.hb)}function ZE(a){switch(a){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}function $E(a,b){const d=a.Nc,c=a.Yc/2,e=d/2;b.Dl(a.AD);a=Ef(b,c,e,b.Te(d),c,e,d);b.cr(a)}
function ME(a){return"undefined"!==typeof OffscreenCanvas&&a.ug[0].canvas instanceof OffscreenCanvas&&("Chromium"!==ip.W.qh||124<=ip.W.QG)}function*aF(a){for(const b of Eq(a.g.hb))for(const d of b.Hc){const c=a.jL.get(d);c&&(yield c)}}
function bF(a){if(isNaN(a.Sy)&&(a.Sy=Mh(a.XD,a.kp,a.Lh),!isNaN(a.Sy))){if(a.g.Hb)for(var b of aF(a))if(b.kG=Mh(b.vO,a.kp,a.Lh),isNaN(b.kG))return;Nh(a.XD,a.Lh);a.jp=Math.min(a.Sy,1);if(a.g.Hb){const c=new Map;for(const e of aF(a))Nh(e.vO,a.Lh),e.QN=Math.min(e.kG,1),c.set(e.Zs,e.QN);for(var d of aF(a))b=d.Zs,b=(c.get(b)||0)-b.Ne.reduce((e,g)=>e+(c.get(g)||0),0),d.BV=ip.V(b,0,1);d=a.jp-a.g.Pb().Rf.reduce((e,g)=>e+(c.get(g)||0),0);self.di.r0(ip.V(d,0,1),a.jp,[...aF(a)])}a.kp=a.Lh;a.Lh=0}}
function cF(a){if(0!==a.Lh){for(var b=a.kp;b<a.Lh;++b){var d=a.eG.get(b);if(d&&!d.ix())return}b=a.g.Pb();d=ip.fZ(b.Hc.length+1);var c=0;for(let g=a.kp;g<a.Lh;++g){var e=a.eG.get(g);if(!e)continue;e=e.Xw();let k=BigInt(0),l=BigInt(0);const n=BigInt(0);for(let p=0,r=Math.min(d.length,e.length/2);p<r;++p){const w=e[2*p],x=e[2*p+1];w!==n&&(k===n||w<k)&&(k=w);x>l&&(l=x);d[p]+=Number(x-w)/1E9}c+=Number(l-k)/1E9}a.jp=ip.V(c,0,1);if(a.g.Hb){c=b.Hc;const g=new Map;for(let l=0,n=Math.min(c.length,d.length-
1);l<n;++l)g.set(c[l],d[l+1]);d=[];const k=new Map;for(const [l,n]of g)c=[...Xo(l)].reduce((p,r)=>p+(g.get(r)||0),0),k.set(l,c),d.push({name:l.fa(),BV:ip.V(n,0,1),QN:ip.V(c,0,1)});b=a.jp-b.Rf.reduce((l,n)=>l+(k.get(n)||0),0);self.di.r0(ip.V(b,0,1),a.jp,d)}for(b=a.kp;b<a.Lh;++b)a.eG.delete(b);a.kp=a.Lh;a.Lh=0}}
function dF(a){if(a.DF){var b=a.ug[0].canvas,d=a.dU,c=ip.V(Math.floor(d.aa),0,b.width),e=ip.V(Math.floor(d.X),0,b.height),g=d.width();g=0===g?b.width-c:ip.V(Math.floor(g),0,b.width-c);d=d.height();d=0===d?b.height-e:ip.V(Math.floor(d),0,b.height-e);if((0!==c||0!==e||g!==b.width||d!==b.height)&&0<g&&0<d){const k=ip.th(g,d);k.getContext("2d").drawImage(b,c,e,g,d,0,0,g,d);b=k}ip.qB(b,a.DF,a.rM).then(k=>{a.gA&&URL.revokeObjectURL(a.gA);a.gA=URL.createObjectURL(k);a.fA=null;a.eU(a.gA)});a.DF="";a.rM=1}}
async function eF(a){var b=(new URL("splash-images/splash-logo.svg",a.g.iM)).toString();b=await ip.Gm(b);b=await fF(a.g,b);return await a.ua().Fw(b,{aB:"high"})}async function gF(a,b){b=(new URL(b,a.g.iM)).toString();b=await ip.Gm(b);return await a.ua().Fw(b,{aB:"high"})}
function hF(a,b){const d=a.ua();2===b?(a.Wh=ip.m(ip.R.rC,a.ua()),lh(a.Wh,"Arial"),a.Wh.xC(16),qh(a.Wh,"center"),rh(a.Wh,"center"),a.Wh.sd(300,200)):0===b?(b=a.g.ls)&&b.Qq(d).catch(c=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",c)):4===b&&(eF(a).then(c=>{"done"===a.al?d.uh(c):a.ih.$A=c}).catch(c=>console.warn("Failed to load splash image: ",c)),gF(a,"splash-images/splash-poweredby-512.png").then(c=>{"done"===a.al?d.uh(c):a.ih.dB=c}).catch(c=>console.warn("Failed to load splash image: ",
c)),gF(a,"splash-images/splash-website-512.png").then(c=>{"done"===a.al?d.uh(c):a.ih.jB=c}).catch(c=>console.warn("Failed to load splash image: ",c)))}function iF(a){Uc(a.g,"runtime","hide-cordova-splash")}
function jF(a){if(-1!==a.gf){var b=a.ua();b.Tm();a.gf=-1;var d=a.g.cb.mK,c=a.g.uv;3!==c&&($E(a,b),b.ei(0,0,0,0),fi(b),Gf(b),b.Od(null));if(0===c)kF(a,d);else if(1===c)lF(a,d,120,0);else if(2===c)mF(a,d);else if(3!==c)if(4===c)nF(a,d);else throw Error("invalid loader style");b.no();a.gf=requestAnimationFrame(()=>jF(a))}}function oF(a){a.xz=Date.now();a.g.Ua().addEventListener("loadingprogress",a.oL);a.gf=requestAnimationFrame(()=>jF(a));3!==a.g.uv&&iF(a)}
async function pF(a){const b=a.ua();a.Ap=1;const d=a.g.uv;4===d&&await a.gU;a.vM=null;a.gU=null;-1!==a.gf&&(cancelAnimationFrame(a.gf),a.gf=-1);a.g.Ua().removeEventListener("loadingprogress",a.oL);a.oL=null;a.Wh&&(a.Wh.j(),a.Wh=null);var c=a.g;c.ls&&(c.ls.yl(),c.ls.j(),c.ls=null);b.Tm();a.ih.$A&&(b.uh(a.ih.$A),a.ih.$A=null);a.ih.dB&&(b.uh(a.ih.dB),a.ih.dB=null);a.ih.jB&&(b.uh(a.ih.jB),a.ih.jB=null);b.ei(0,0,0,0);b.no();a.al="done";a.kp=b.If;3===d&&iF(a)}
function kF(a,b){const d=a.ua();var c=a.g.ls;if(c)if(c=c.kc()){var e=c.M(),g=c.K(),k=a.Yc/2,l=a.Nc/2,n=e/2;g/=2;var p=k-n,r=l-g;k+=n;l+=g;LE.set(p,r,k,r,k,l,p,l);d.Od(c);d.gd(LE);lF(a,b,e,g+16)}else lF(a,b,120,0);else lF(a,b,120,0)}function lF(a,b,d,c){const e=a.ua();e.Cl(e.kA);b?e.Af(1,0,0,1):e.Af(.118,.565,1,1);b=a.Yc/2;const g=a.Nc/2,k=d/2;jc(Pf,b-k,g-4+c,Math.floor(d*a.Ap),8);e.Rect(Pf);jc(Pf,b-k,g-4+c,d,8);Pf.offset(-.5,-.5);lc(Pf,.5,.5);e.Af(0,0,0,1);Of(e);lc(Pf,1,1);e.Af(1,1,1,1);Of(e)}
function mF(a,b){b?(b=a.Wh,Wb(Xg,1,0,0),b.hk(Xg)):(b=a.Wh,Wb(Xg,.6,.6,.6),b.hk(Xg));a.Wh.Go(Math.round(100*a.Ap)+"%");var d=a.Yc/2,c=a.Nc/2;b=d-150;var e=c-100;d+=150;c+=100;LE.set(b,e,d,e,d,c,b,c);b=a.ua();b.Od(a.Wh.kc());b.xl(LE,a.Wh.bk())}
function nF(a,b){const d=a.ua(),c=a.ih.$A,e=a.ih.dB,g=a.ih.jB,k=Date.now();0===a.xM&&(a.xz=k);const l=a.g.Ao()||a.g.t2&&!qF(a.g),n=l?0:200,p=l?0:3E3;let r=1;"fade-in"===a.al?r=Math.min((k-a.xz)/300,1):"fade-out"===a.al&&(r=Math.max(1-(k-a.wM)/300,0));d.Cl(d.kA);d.Af(.231*r,.251*r,.271*r,r);Pf.set(0,0,a.Yc,a.Nc);d.Rect(Pf);const w=Math.ceil(a.Yc),x=Math.ceil(a.Nc);let z;256<a.Nc?(d.Af(.302*r,.334*r,.365*r,r),z=Math.max(.005*x,2),jc(Pf,0,.8*x-z/2,w,z),d.Rect(Pf),b?d.Af(r,0,0,r):d.Af(.161*r,.953*r,.816*
r,r),b=w*a.Ap,jc(Pf,.5*w-b/2,.8*x-z/2,b,z),d.Rect(Pf),d.Af(r,r,r,r),Gf(d),e&&(b=1.5*ip.V(.22*x,105,.6*w),z=b/8,jc(Pf,.5*w-b/2,.2*x-z/2,b,z),d.Od(e),d.Rect(Pf)),c&&(z=b=Math.min(.395*x,.95*w),jc(Pf,.5*w-b/2,.485*x-z/2,b,z),d.Od(c),d.Rect(Pf)),g&&(b=1.5*ip.V(.22*x,105,.6*w),z=b/8,jc(Pf,.5*w-b/2,.868*x-z/2,b,z),d.Od(g),d.Rect(Pf))):(d.Af(.302*r,.334*r,.365*r,r),z=Math.max(.005*x,2),jc(Pf,0,.85*x-z/2,w,z),d.Rect(Pf),b?d.Af(r,0,0,r):d.Af(.161*r,.953*r,.816*r,r),b=w*a.Ap,jc(Pf,.5*w-b/2,.85*x-z/2,b,z),d.Rect(Pf),
d.Af(r,r,r,r),Gf(d),c&&(z=b=.55*x,jc(Pf,.5*w-b/2,.45*x-z/2,b,z),d.Od(c),d.Rect(Pf)));a.xM++;"fade-in"===a.al&&300<=k-a.xz&&2<=a.xM&&(a.al="wait",a.hU=k);"wait"===a.al&&k-a.hU>=p&&1<=a.Ap&&(a.al="fade-out",a.wM=k);("fade-out"===a.al&&k-a.wM>=300+n||l&&1<=a.Ap&&500>k-a.xz)&&a.vM()}
ip.YW=class extends ip.ra{constructor(a){super();this.g=a;this.ug=[];this.NS=!1;this.$h=this.Se=null;this.iK="high-performance";this.KS=!1;this.Mj=this.Nj=0;this.tD="";this.ln=this.kn=this.Vg=this.Wg=this.Nc=this.Yc=0;this.Ws="normalized";this.CS=0;this.gN=1;this.eN=1E4;this.Mr=!0;this.ld=this.ud=this.oU=0;this.SR=this.iS="letterbox-scale";this.W1=this.V1=0;this.AD=JE.create();this.Ci=this.aN="high";this.gs=!1;this.ku=[];this.IA=new Set;this.AF=self.C3_Shaders;this.Hy=ip.m(ip.R.nX,{nV:()=>[this.rl(),
this.ql()],oV:()=>{const b={jc:this.g.Rb};"low"===this.Ci&&(b.width=this.rl(),b.height=this.ql());return this.Mw(b)},NV:b=>{this.Vq(b)},getTime:()=>Rk(this.F()),MV:()=>this.F().Z()});this.Lh=this.kp=0;this.jp=NaN;this.XD=null;this.jL=new Map;this.Sy=NaN;this.eG=new Map;this.DF="";this.rM=1;this.dU=ip.m(ip.Rect);this.gA="";this.eU=this.fA=null;this.xz=0;this.gf=-1;this.Ap=0;this.oL=b=>this.Ap=b.progress;this.Wh=null;this.ih={$A:null,dB:null,jB:null};this.wM=this.hU=this.xM=0;this.al="fade-in";this.vM=
null;this.gU=new Promise(b=>this.vM=b)}async th(a){var b=a.canvas;this.ug.push({canvas:b,bV:null});Gm(this.g,"runtime","window-resize",c=>this.OI(c));Gm(this.g,"runtime","fullscreenchange",c=>{this.gs=!!c.isFullscreen;this.sd(c.innerWidth,c.innerHeight,!0);this.g.Z()});Gm(this.g,"runtime","fullscreenerror",c=>{this.gs=!!c.isFullscreen;this.sd(c.innerWidth,c.innerHeight,!0);this.g.Z()});b.addEventListener("webglcontextlost",c=>{console.log("[Construct] WebGL context lost");c.preventDefault();this.ku=
[];this.IA.clear();this.Hy.Nd();this.Se.Nd();this.g.du()});b.addEventListener("webglcontextrestored",()=>OE(this));this.gs=!!a.isFullscreen;this.tD=a.cssDisplayMode;var d=navigator.gpu&&this.NS;b=!1;if(d)try{await QE(this,!0)}catch(c){RE("WebGPU",c),this.$h=null}if(!this.ua())try{await SE(this,!0)}catch(c){RE("WebGL",c),this.Se=null}this.ua()||(b=!0);if(!this.ua()&&d)try{await QE(this,!1)}catch(c){RE("WebGPU",c),this.$h=null}if(!this.ua())try{await SE(this,!1)}catch(c){RE("WebGL",c),this.Se=null}d=
this.ua();if(!d)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");d.nK=!!b;this.$h&&(this.$h.aO=()=>{console.log("[Construct] WebGPU device lost");this.ku=[];this.IA.clear();this.Hy.Nd();this.g.du()},this.$h.bO=()=>TE(this));"normalized"===this.Ws?d.Ws=!1:(d.Ws=!0,d.$H(this.CS));this.sd(a.windowInnerWidth,a.windowInnerHeight,!0);await this.Fl()}async Fl(){this.$h?await UE(this):this.Se&&await VE(this);const a=this.ua();a.dI(this.Mr);a.Ch()&&(this.jp=0);for(const b of this.g.aJ){for(const d of b.gi())d.Fl(a);
b.Fl(a);b.Fh()}new self.qY(this.g,a)}j(){this.Se=this.g=null;this.ug.length=0}fd(){return this.g.fd()}OI(a){const b=this.g;if(null===b.wd){var d=a.devicePixelRatio;this.fd()&&(self.devicePixelRatio=d);null===b.wd&&(b.Ol=d);this.gs=!!a.isFullscreen;this.tD=a.cssDisplayMode;this.sd(a.innerWidth,a.innerHeight);b.Z();d=new ip.Event("window-resize");d.data=a;ed(b.Ua(),d);a=new ip.Event("resize");a.Cfa=this.Yc;a.Bfa=this.Nc;a.Nfa=this.Wg;a.Mfa=this.Vg;b.Jg(a);b.Hb&&(Rv(b)||self.di.A8())&&b.Yq()}}sd(a,b,
d=!1){a=Math.floor(a);b=Math.floor(b);if(0>=a||0>=b)throw Error("invalid size");if(this.Nj!==a||this.Mj!==b||d){this.Nj=a;this.Mj=b;d=WE(this);if("letterbox-scale"===d){var c=this.g.Hm(),e=this.g.Ji,g=this.g.Ii,k=e/g;a/b>k?(this.Yc=Math.round(b*k),this.Nc=b,this.kn=Math.floor((a-this.Yc)/2),this.ln=0):(this.Yc=a,this.Nc=Math.round(a/k),this.kn=0,this.ln=Math.floor((b-this.Nc)/2));this.Wg=Math.round(this.Yc*c);this.Vg=Math.round(this.Nc*c);rF(this.g,e,g)}else"letterbox-integer-scale"===d?(c=this.g.Hm(),
1!==c&&(a+=1,b+=1),e=this.g.Ji,g=this.g.Ii,k=e/g,k=a/b>k?b*k*c/e:a/k*c/g,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),this.Wg=Math.round(e*k),this.Vg=Math.round(g*k),this.Yc=this.Wg/c,this.Nc=this.Vg/c,this.kn=Math.max(Math.floor((a-this.Yc)/2),0),this.ln=Math.max(Math.floor((b-this.Nc)/2),0),rF(this.g,e,g)):"off"===d?(c=this.g.Hm(),this.Yc=this.g.Zf,this.Nc=this.g.Qe,this.Wg=Math.round(this.Yc*c),this.Vg=Math.round(this.Nc*c),this.gs?(this.kn=Math.floor((a-this.Yc)/2),this.ln=Math.floor((b-this.Nc)/
2)):this.ln=this.kn=0,rF(this.g,this.g.Zf,this.g.Qe)):(c=this.g.Hm(),this.Yc=a,this.Nc=b,this.Wg=Math.round(this.Yc*c),this.Vg=Math.round(this.Nc*c),this.ln=this.kn=0,a=this.Wi(),rF(this.g,this.Yc/a,this.Nc/a));"high"===this.aN?(this.ud=this.Wg,this.ld=this.Vg,this.Ci="high"):("off"===WE(this)?(a=this.g.Zf,b=this.g.Qe):(a=this.g.Ji,b=this.g.Ii),this.Wg<a||this.Vg<b?(this.ud=this.Wg,this.ld=this.Vg,this.Ci="high"):(this.ud=a,this.ld=b,this.Ci="low","scale-inner"===d?(d=a/b,a=this.Nj/this.Mj,a<d?this.ud=
this.ld*a:a>d&&(this.ld=this.ud/a)):"scale-outer"===d&&(d=a/b,a=this.Nj/this.Mj,a>d?this.ud=this.ld*a:a<d&&(this.ld=this.ud/a))));for(var {canvas:l}of this.ug)l.width=this.Wg,l.height=this.Vg;Uc(this.g,"canvas","update-size",{marginLeft:this.kn,marginTop:this.ln,styleWidth:this.Yc,styleHeight:this.Nc,displayScale:this.Wi()});l=this.ua();l.sd(this.Wg,this.Vg,!0);for(var n of this.ku)l.PO(n);ip.G(this.ku);Cf(this.ua(),this.AD,this.rl()/this.ql());n=this.g.hb;Fq(n);Gq(n)}}F(){return this.g}Sw(){return this.iS}rl(){return this.ud}ql(){return this.ld}dI(a){this.Mr=
!!a}bx(){return this.Se}Jq(){return this.$h}ua(){return this.$h||this.Se}Gt(){return"low"===this.Ci?1/this.g.Hm():this.Wi()}Wi(){const a=WE(this);if("off"===a||"crop"===a)return 1;const b=this.g.Ji,d=this.g.Ii,c=b/d,e=this.Wg/this.Vg;return"scale-inner"!==a&&e>c||"scale-inner"===a&&e<c?this.Nc/d:this.Yc/b}Qw(){return"low"===this.Ci?1:this.Wi()}Pw(){return"low"===this.Ci?1:this.g.Hm()}IB(){return this.kn}JB(){return this.ln}Tw(){return this.ug.length}Mw(a){a.depth=this.g.fl;const b=this.ku,d=b.findIndex(e=>
e.vP(a));let c;-1!==d?(c=b[d],b.splice(d,1)):c=this.ua().NO(a);this.IA.add(c);return c}Vq(a){if(!this.IA.has(a))throw Error("render target not in use");this.IA.delete(a);this.ku.push(a)}QB(){return this.jp}NQ(a,b,d,c,e,g){this.DF=a;this.rM=b;jc(this.dU,d,c,e,g);return this.fA?this.fA:this.fA=new Promise(k=>{this.eU=k})}};"use strict";const Y=self.A,sF=self.di,tF={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let uF=!0;
function Uc(a,b,d,c){a.Bz.postMessage({type:"event",component:b,handler:d,data:c,responseId:null},void 0)}function Qk(a,b){return b&&-1!==b.Ud?a.Lr*b.Ud:a.Fy}function Rk(a){return a.WD.U()}function Sk(a,b,d,c){const e=a.M2++,g=new Promise((k,l)=>{a.Nz.set(e,{resolve:k,reject:l})});a.Bz.postMessage({type:"event",component:b,handler:d,data:c,responseId:e},void 0);return g}
function cl(a,b,d,c,e,g,k){if(k&&a.Oi){const l=Lu(a.Oi,b,k);if(l)return b=yp(a,l,d,!1,c,e,!1,g,void 0,g),Mu(a.Oi,b,k),b}return yp(a,b,d,!1,c,e,!1,g,void 0,g)}function gl(a){if(a.$D){for(const b of a.np){const d=b.I();d.ti(b);for(const c of d.yi)c.ti(b),c.Yr=!0}Y.G(a.np);a.Qb.Tt(!0);for(const [b,d]of a.nE.entries())vF(a,b,d),d.clear();a.nE.clear();a.Qb.Tt(!1);a.$D=!1;a.Z()}}
function Gm(a,b,d,c){let e=a.NJ.get(b);e||(e=new Map,a.NJ.set(b,e));if(e.has(d))throw Error(`[Runtime] Component '${b}' already has handler '${d}'`);e.set(d,c)}function xo(a,b){b=Math.floor(b);if(0>b||b>=a.jd.length)throw new RangeError("invalid index");return a.jd[b]}
function tp(a,b){if(!a.es.has(b)){var d=b.I(),c=a.nE.get(d);if(c){if(c.has(b))return;c.add(b)}else c=new Set,c.add(b),a.nE.set(d,c);a.Hb&&sF.p8(b);b.KI();a.$D=!0;if(b.yc())for(const e of b.od)tp(a,e);for(const e of b.children())e.Ow()&&tp(a,e);0<a.hb.dv||a.pj||(d=a.Ca(),dl(d,!0),b.g.da(rB(b.Ia()).H.wZ,b,null),dl(d,!1));a=0<a.hb.dv;b.Fd&&(d=new El.Event("destroy"),d.d4=a,b.Jg(d));if(TC(b,"instancedestroy")){d=b.I();c=new El.Event("instancedestroy");c.instance=bl(b);c.d4=a;d.Jg(c);for(const e of d.yi)e.Jg(c);
b.g.Jg(c)}}}
function yp(a,b,d,c,e,g,k,l,n,p){var r=null;let w=null;b instanceof Y.iC?(w=b,w.Oa&&(r=w.fp,w=r[Math.floor(a.Nv()*r.length)]),r=w.Hr):(r=b,w=xo(a,r[1]));b=w.Ia().Sd;if(a.Ph&&b&&!w.WK)return null;const x=d;b||(d=null);var z=c&&!k&&r&&!a.ds.has(r[2])?r[2]:a.Gz++;const F=r?r[0]:null,D=Y.m(Y.Instance,{Ad:a,$N:w,Zs:d,oW:F,sV:r?r[3]:null,uid:z});a.ds.set(z,D);z=null;b&&(z=D.C(),"undefined"!==typeof e&&"undefined"!==typeof g&&(z.mk(e),z.nk(g)),w.Yx=!0);if(d){p||d.ti(D,!0);if(1!==d.ef||1!==d.ff)w.Zx=!0;$p(d.xc(),
w)}a.ML++;let G=!0;n&&(n=n.I(),n.yc()&&w.yc()&&w.Kh===n.Kh&&(G=!1));if(w.yc()&&!c&&!k&&G){for(var J of w.Kh.cm)J!==w&&(n=yp(a,J,x,!1,z?z.Da():e,z?z.Ea():g,!0,!1,void 0,p),D.od.push(n));for(var M of D.od){M.od.push(D);for(const P of D.od)M!==P&&M.od.push(P)}}b&&!c&&l&&wF(a,D,F,z,d,e,g,p);if(w.yc()&&!c&&!k&&l)for(const P of D.od)if(c=P.C())J=P.Ia(),M=P.I().Hr[0],J.Sd?wF(a,P,M,c,d,c.Da(),c.Ea(),p):wF(a,P,M,c,d,void 0,void 0,p);!k&&l&&("undefined"===typeof e&&(e=F[0]),"undefined"===typeof g&&(g=F[1]),
d=z.uo(),e=e-z.Da()+d.Da(),g=g-z.Ea()+d.Ea(),Tl(d,e,g));w.Yr=!0;g=r?Y.pN(r[5]):null;r=r?r[4].map(P=>Y.pN(P)):null;b&&F&&F[13]&&(D.D|=2);D.KC(g,r);a.np.push(D);a.$D=!0;a.Hb&&sF.o8(D);return D}function vp(a){return a.qn.length?a.qn.at(-1):a.Pb()}function hp(a){return a.Hb&&a.ua().Ch()&&hp(sF)}function gq(a,b){return a.LL.get(b)||null}function hq(a){a.ds.clear();for(const b of a.jd)if(!b.Oa)for(const d of b.qa())a.ds.set(d.Ob,d)}function xF(a,b){return"low"===a.T.Ci||b.cj()&&(a.Vs||a.fl)}
function Jr(a,b){if(a.pj)throw Error("cannot call while loading state - wait until afterload event");return a.ds.get(b)||null}function Lv(a){if(!a.qn.length)throw Error("layout stack empty");a.qn.pop()}function Nv(a,b){return a.Lf?Nv(sF,b):Promise.resolve()}function Rv(a){return a.Hb?Rv(sF):!1}function Cw(a){return a.Hb&&Cw(sF)}function Sw(a){return a.Lf?sF.f6():!1}function nx(a,b){b?a.GJ--:a.GJ++;a.Lf=a.Hb&&a.E1&&0===a.GJ}
function sx(a,b){b=Math.floor(b);a=a.cF;if(0>b||b>=a.length)throw Error("invalid object reference");return a[b]}function*fA(a,b){for(const d of a.np)b.Oa?PA(d.I(),b)&&(yield d):d.I()===b&&(yield d)}function ZA(a){a.mE=new WeakMap;Y.G(a.cz)}function $A(a,b="full",d=null){a.cz.sort(a.Q_);for(const c of a.cz)c.tg(a.mE.get(c),b,d);for(const c of a.cz)c.LI(a.mE.get(c),b,d);ZA(a)}function dD(a,b,d){d?a.cv.has(b)||(d=Y.m(Y.Pt),d.ZG(a.WD),a.cv.set(b,d)):a.cv.delete(b)}
function rF(a,b,d){if(a.Zf!==b||a.Qe!==d)a.Zf=b,a.Qe=d,a=a.hb,Fq(a),Gq(a)}async function PE(a){await Yp(a.Pb(),null,a.ua());a.Qb.dispatchEvent(Y.m(Y.Event,"renderercontextrestored"));yF(a,!1);a.Z()}async function fF(a,b){var d=d||2048;var c=c||2048;return a.fd()?(await Sk(a,"runtime","raster-svg-image",{blob:b,imageWidth:2048,imageHeight:2048,surfaceWidth:d,surfaceHeight:c,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(b,2048,2048,d,c)}
function qF(a){return"cordova"===a.Bk}
async function zF(a){const b=Y.m(Y.ox);var d=[];const c=new Map;for(const e of a.Xc)for(const g of e.Qd){const k=g.Dd().nd;c.has(k)||(c.set(k,null),d.push(b.Bb(async()=>{const l=await Pn(k);c.set(k,l)})))}await Promise.all(d);d=[];for(const e of a.Xc)for(const g of e.Qd)d.push(b.Bb(async()=>{var k=g.Dd();const l=c.get(k.nd);k=await fC(k,l);return{J3:await createImageBitmap(k)}}));a=await Promise.all(d);for(const e of c.values())e instanceof ImageBitmap&&e.close&&e.close();return{HN:a}}
async function AF(a,b){return await a.IG("OpusDecode",{arrayBuffer:b},[b])}
function BF(a,b){if(a.MS){var d=b.component,c=b.handler,e=b.data,g=b.dispatchOpts,k=!(!g||!g.dispatchRuntimeEvent);g=!(!g||!g.dispatchUserScriptEvent);var l=b.responseId;if("runtime"===d&&(k&&(b=new Y.Event(c),b.data=e,ed(a.Qb,b)),g)){b=new Y.Event(c,!0);for(const [n,p]of Object.entries(e))b[n]=p;a.Jg(b)}if(b=a.NJ.get(d))if(b=b.get(c)){k=null;try{k=b(e)}catch(n){console.error(`Exception in '${d}' handler '${c}':`,n);null!==l&&CF(a,l,!1,""+n);return}null!==l&&(k&&k.then?k.then(n=>CF(a,l,!0,n)).catch(n=>
{console.error(`Rejection from '${d}' handler '${c}':`,n);CF(a,l,!1,""+n)}):CF(a,l,!0,k))}else k||g||console.warn(`[Runtime] No DOM handler '${c}' for component '${d}'`);else k||g||console.warn(`[Runtime] No DOM event handlers for component '${d}'`)}else a.$M.push(b)}function CF(a,b,d,c){a.Bz.postMessage({type:"result",responseId:b,isOk:d,result:c})}
async function DF(a){if(!a.cb.lU["audio/webm; codecs=opus"]){var b=null;try{b=a.OS&&a.cb.Cn?await xn(a.cb,a.xT,"buffer"):await a.cb.Iw(a.xT)}catch(d){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",d);return}b?a.oz.av.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b]):a.oz.av.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"});await EF(a,[a.Q2])}}
async function FF(a,b){b=b.project;a.nF=b[0];a.KT=b[16];a.bM=b[31];var d=b[39]||"loading-logo.png";a.Dn=!!b[9];a.Ji=a.Zf=b[10];a.Ii=a.Qe=b[11];DE(a.vk,a.Ji,a.Ii);a.gF=a.Ji/2;a.hF=a.Ii/2;a.Tu=b[37];a.fl=!!b[40];a.Rb=b[14];a.Vs=b[15];a.AU=b[42];a.UM=b[17];a.YF=!!b[18];a.uv=b[19];a.Gz=b[21];a.GT=b[22];const c=a.cb;sn(c,b[45]);En(c,b[7],b[25]);c.nT=b[8];c.yS=b[28];hn.Bd(c.bN,b[29]);c.bN.length&&c.TE.push(Cn(c));if(0===a.uv){let n="";a.Ao()?tn(c,d)&&(n=vn(c,d)):n="flat"===c.Ai?c.yS+d:d;n&&(a.ls=c.hC({url:n}))}a.T&&
(XE(a.T,ZE(b[12])),YE(a.T,b[23]?"high":"low"),a.T.dI(0!==b[24]),a.T.iK=b[34],a.T.oU=b[41],a.T.NS=!!b[13],a.T.Ws=b[30],NE(a.T,b[46],b[47]),a.T.CS=b[26],a.T.KS=!!b[48]);(d=b[43])&&await GF(a,d);HF(a);XB(a.Qo);a.cF=self.IO();d=b[2];for(var e of d[1])YB(a.Qo,e);for(const n of d[0])WB(a.Qo,n);a.cF=self.IO();IF(a);ZB(a.Qo);for(var g of b[3])e=Y.iC.ya(a,a.jd.length,g),a.jd.push(e),a.Hz.set(e.fa().toLowerCase(),e),a.LL.set(e.fb,e);for(const n of b[4])xC(a.jd[n[0]],n);for(var k of b[27])g=k.map(n=>a.jd[n]),
a.o1.push(Y.m(Y.fX,a,g));JF(a);for(const n of a.jd)yC(n);for(const n of b[5])a.hb.ya(n);if(k=b[1])if(k=Dq(a.hb,k))a.hb.LD=k;for(var l of b[35])a.KM.ya(l);for(const n of b[33])a.Mb.ya(n);for(const n of b[44])a.Oi.ya(n);Ku(a.Oi)||(a.Oi.j(),a.Oi=null);for(const n of b[49])a.xd.ya(n);a.xd.nH()||(a.xd.j(),a.xd=null);for(const n of b[6])a.La.ya(n);a.La.ec();KF(a);Y.G(a.cF);gl(a);l="any";b=b[20];1===b?l="portrait":2===b&&(l="landscape");Uc(a,"runtime","set-target-orientation",{targetOrientation:l})}
async function LF(a,b){a.T&&(await a.T.th(b),hF(a.T,a.uv))}async function MF(a,b){try{await b(a.$g)}catch(d){console.error("[C3 runtime] Error in runOnStartup function: ",d)}}
async function GF(a,b){const d=b.format;"image-sequence"===d?a.wd=new self.h6(a,b):"image-sequence-gif"===d?a.wd=new self.g6(a,b):"webm"===d?a.wd=new self.j6(a,b):"mp4"===d&&(a.wd=new self.i6(a,b));a.Tu="unlimited-frame";XE(a.T,"off");a.Ol=1;self.devicePixelRatio=1;await Sk(a,"runtime","set-exporting-to-video",{message:a.wd.K7(0),duration:a.wd.Gy})}function HF(a){a.$g=new self.rY(a);a.yU={tick:NF(a,"tick")}}function IF(a){for(const b of self.WW){const d=Y.first(Object.keys(b));a.QS.push(d)}}
function JF(a){const b={};for(const d of a.jd)b[d.ak()]={value:d.Ft(),enumerable:!0,writable:!1};Object.defineProperties(a.$g.u4,b)}function KF(a){const b={};for(const d of a.Ca().bJ)b[d.ak()]=Iv(d);Object.defineProperties(a.$g.X3,b)}function OF(a,b){a.WC.push(b)}
async function EF(a,b){b=await Promise.all(b.map(async d=>{const c=Y.dC(d)&&(new URL(d)).origin!==location.origin,e=qF(a)&&a.cb.Cn;return c||e||a.Ao()||"playable-ad"===a.Bk?(d=await a.cb.Gm(d),URL.createObjectURL(d)):Y.Oq(d)?(new URL(d,a.iM)).toString():d}));a.oz.av.postMessage({type:"_import_scripts",scripts:b})}function PF(a){a.da(Y.B.yb.H.MZ,null,null);Uc(a,"runtime","register-sw")}function*QF(a){for(const b of a.jd)b.Oa||(yield*b.TA())}
function RF(a){-1!==a.gf&&(self.cancelAnimationFrame(a.gf),a.gf=-1);-1!==a.hm&&(Y.XW(a.hm),a.hm=-1)}function SF(a){const b=a.h3;"vsync"===a.Tu?-1===a.gf&&(a.gf=self.requestAnimationFrame(b.FV)):"unlimited-tick"===a.Tu?(-1===a.hm&&(a.hm=Y.SH(b.P4)),-1===a.gf&&(a.gf=self.requestAnimationFrame(b.G4))):-1===a.hm&&(a.hm=Y.SH(b.FV))}
function wF(a,b,d,c,e,g,k,l){var n=(n=HD.get(c))?n.zO:NaN;var p=SC(c);c=b.C();ID.set(c,n);if(p){"undefined"===typeof g&&(g=d[0]);"undefined"===typeof k&&(k=d[1]);n=new Set;c=d[0];d=d[1];for(const D of p){var r=D[0],w=D[1],x=D[2];p=D[3];var z=!!D[4];const G=D[5];var F=D[6];w=F?F:(a.hb.uz.get(r)||null).Y(w).yK.get(x);r=xo(a,w[1]);x=!!aD(b,r);F=n.has(r);x&&!F&&z?(z=aD(b,r),z.C().vo(w[0]),x=g+w[0][0]-c,w=k+w[0][1]-d,Tl(z.C(),x,w),w=z.C(),ID.set(w,G),b.Wj(z,{lt:!!(p>>0&1),mt:!!(p>>1&1),sq:!!(p>>2&1),rq:!!(p>>
3&1),it:!!(p>>4&1),mw:!!(p>>5&1),nt:!!(p>>6&1),jt:!!(p>>7&1),kt:!!(p>>8&1)}),n.add(r)):(r=yp(a,w,e,!1,g+w[0][0]-c,k+w[0][1]-d,!1,!0,b,l),z=r.C(),ID.set(z,G),b.Wj(r,{lt:!!(p>>0&1),mt:!!(p>>1&1),sq:!!(p>>2&1),rq:!!(p>>3&1),it:!!(p>>4&1),mw:!!(p>>5&1),nt:!!(p>>6&1),jt:!!(p>>7&1),kt:!!(p>>8&1)}))}}}
function vF(a,b,d){for(const e of d){var c=a.Nr.instancedestroy;c.instance=e;a.Qb.dispatchEvent(c);a.ds.delete(e.Ob);a.cv.delete(e);if(c=e.C())gE(c),up(c),c.KI();a.es.add(e);a.ML--}Y.ai(b.qa(),d);b.Yr=!0;a.oE.add(b);0===b.qa().length&&(b.Zx=!1);for(const e of b.yi)Y.ai(e.qa(),d),e.Yr=!0,a.oE.add(e);if(b.Ia().Sd){a=new Set([...d].map(e=>e.C().Y()));for(const e of a)0!==d.size&&0<X.ai(e.J,d)&&(0===e.J.length&&(e.an=!1),zo(e))}}
function yF(a,b){if(null===a.wd){var d=a.Bo();a.Vv+=b?1:-1;0>a.Vv&&(a.Vv=0);b=a.Bo();!d&&b?(console.log("[Construct] Suspending"),RF(a),a.Qb.dispatchEvent(Y.m(Y.Event,"suspend")),a.da(Y.B.yb.H.b_,null,null)):d&&!b&&(console.log("[Construct] Resuming"),d=performance.now(),a.PE=d,a.Sr=d,a.PD=0,a.Qu=0,a.PF=0,a.IM=0,a.UE=0,a.Fn=0,a.Qb.dispatchEvent(Y.m(Y.Event,"resume")),a.da(Y.B.yb.H.YZ,null,null),Rv(a)||a.Xe(d))}}
function*TF(a){const b=globalThis.jx;Jd(a.Jl,!0);for(const d of a.Jl){let c;c=d instanceof b?d.uA():d.Xe();Y.Pm(c)&&(yield*c)}Jd(a.Jl,!1)}function*UF(a){Jd(a.hn,!0);for(const b of a.hn)Y.Pm()&&(yield*void 0);Jd(a.hn,!1)}function*VF(a){const b=globalThis.jx;Jd(a.Kl,!0);for(const d of a.Kl){let c;c=d instanceof b?void 0:d.Gx();Y.Pm(c)&&(yield*c)}Jd(a.Kl,!1)}
function WF(a){if(0!==a.es.size){var b=a.Qb;b.Tt(!0);for(var d of a.oE)d.Zk.Xq(a.es);a.oE.clear();d=a.La;var c=a.es;for(const e of d.Xh)e.Xq(c);for(const e of a.es)e.j();a.es.clear();b.Tt(!1)}}
async function XF(a){const b=a.La,d=a.Hb;gl(a);dl(b,!0);a.qn.push(a.Pb());d&&sF.Yt();if(a.Lf)await aw(b);else if(b.Xh.length){var c=b.kg(),e=!1;b.Pn++;for(let k=0,l=b.Xh.length;k<l;++k){const n=b.Xh[k];if(bw(n)){mB(n,c);var g=n.Ak;g.rk(c,c.Ye)&&xw(g);n.jn&&n.jn.li()&&ix(n.jn,n.by);Tv(n.Me);n.dA=!0}n.dA&&(e=!0)}e&&($v(b),c.Tb(null));b.Pn--}d&&sF.xW();Lv(a);dl(b,!1);gl(a);dl(b,!0)}
async function YF(a){const b=a.Hb,d=a.Lf,c=a.Qb,e=a.Nr,g=a.yU;b&&sF.Yt();if(d)await ZF(a,TF(a));else{const k=globalThis.jx;Jd(a.Jl,!0);for(const l of a.Jl)l instanceof k?l.uA():l.Xe();Jd(a.Jl,!1)}if(d)await ZF(a,UF(a));else{Jd(a.hn,!0);for(const k of a.hn);Jd(a.hn,!1)}b&&sF.uW();b&&sF.Yt();d?await ZF(a,fd(a.Qb,e.tick)):c.dispatchEvent(e.tick);b&&sF.yW();dl(a.La,!1);a.Jg(g.tick)}
async function $F(a){a.Zz&&(gl(a),await aG(a,a.Zz),bG(a));a.wz&&(await cG(a,a.wz),bG(a),a.Hb&&sF.Gda());if(null!==a.$l){gl(a);try{await dG(a,a.$l),a.ks=a.$l,await a.Wc(Y.B.yb.H.XP,null),a.ks=""}catch(b){console.error("[Construct] Failed to load state from JSON string: ",b),await a.Wc(Y.B.yb.H.YP,null)}bG(a)}}async function eG(a){const b=a.hb;let d=0;for(;b.Ki&&10>d++;)await fG(a,b.Ki)}
async function gG(a){const b=a.La,d=a.Qb,c=a.Nr,e=a.Hb,g=a.Lf;e&&sF.Yt();if(g)await Mv(b,a.hb);else{var k=a.hb;for(const n of b.gu)n.Wu=!1;b.Pn++;for(var l of Eq(k))if(k=l.md)b.g.qn.push(l),k.Aa(),Lv(b.g);b.Pn--}e&&sF.xW();rE.G(a.vk.Uz);WF(a);a.SK=!1;dl(b,!0);e&&sF.Yt();if(g)await ZF(a,VF(a));else{l=globalThis.jx;Jd(a.Kl,!0);for(const n of a.Kl)n instanceof l||n.Gx();Jd(a.Kl,!1)}e&&sF.uW();e&&sF.Yt();g?await ZF(a,fd(a.Qb,c.tick2)):d.dispatchEvent(c.tick2);e&&sF.yW();dl(b,!1);g&&await Sv(b)}
async function ZF(a,b){if(b)for(const d of b)await Nv(a,d)}async function fG(a,b){const d=a.Qb,c=a.hb.Pb();await wq(c);if(b!==c&&a.ua())for(const e of c.Pi)e.wf()||b.$r.has(e)||(e.Wq(),c.Pi.delete(e));c===b&&yq(a.La);rE.G(a.vk.Uz);WF(a);d.dispatchEvent(a.Nr.beforelayoutchange);Y.Ew.HQ(!0);await Yp(b,c,a.ua());Y.Ew.HQ(!1);await nq(b,!1);d.dispatchEvent(a.Nr.layoutchange);a.Z();a.SK=!0;gl(a);a.wd&&Ur(a.wd.mb.ii())}
function hG(a,b){if(!a.xS.has(b)){var d=()=>{He(a.Tn,b)};a.xS.set(b,d);b.Ua().addEventListener("animationframeimagechange",d)}d=Ge(a.Tn,b);d.pK||Le(d).then(()=>a.Z());return d}async function aG(a,b){const d=await iG(a);try{await jG(a).setItem(b,d),console.log("[Construct] Saved state to storage ("+d.length+" chars)"),a.ks=d,await a.Wc(Y.B.yb.H.ZZ,null),a.ks=""}catch(c){console.error("[Construct] Failed to save state to storage: ",c),await a.Wc(Y.B.yb.H.$Z,null)}}
function bG(a){a.Zz="";a.wz="";a.$l=null}async function cG(a,b){try{const d=await jG(a).getItem(b);if(!d)throw Error("empty slot");console.log("[Construct] Loaded state from storage ("+d.length+" chars)");await dG(a,d);a.ks=d;await a.Wc(Y.B.yb.H.XP,null);a.ks=""}catch(d){console.error("[Construct] Failed to load state from storage: ",d),await a.Wc(Y.B.yb.H.YP,null)}}
async function dG(a,b){var d=a.hb;b=JSON.parse(b);if(b.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!b.c3save)throw Error("not valid C3 save data");if(1<b.version)throw Error("C3 save data from future version");ZA(a);a.Qb.dispatchEvent(Y.m(Y.Event,"beforeload"));for(var c of QF(a))uC(c.I(),ly.ta.FH)||c.cu();c=b.rt;a.WD.Set(c.time);c.hasOwnProperty("timeRaw")&&a.Ry.Set(c.timeRaw);a.NA.Set(c.walltime);a.Ud=c.timescale;a.Qi=c.tickcount;a.JF=Date.now()-c.start_time_offset;var e=
c.running_layout;a.pj=!0;var g=!1;if(e!==a.Pb().fb)if(g=d.uz.get(e)||null)await fG(a,g),g=!0;else return;for(const [p,r]of Object.entries(b.layouts))(e=d.uz.get(parseInt(p,10))||null)&&e.pa(r);for(const [p,r]of Object.entries(b.types))e=gq(a,parseInt(p,10)),!e||e.Oa||uC(e,ly.ta.FH)||e.pa(r);for(var k of a.hb.gj)for(const p of k.jw())Ao(p,!1),zo(p),ro(p),p.CE=!0,p.mz=!0,p.nz=!0;gl(a);hq(a);a.pj=!1;if(g){for(const p of QF(a))qq(p);for(var [l]of Object.entries(b.types))k=gq(a,parseInt(l,10)),!k||k.Oa||
uC(k,ly.ta.FH)||k.Ux()}a.Gz=c.next_uid;a.La.pa(b.events);for(const p of a.jd)if(!p.Oa&&p.yc())for(const r of p.qa()){l=jq(r);for(const w of p.Kh.cm)if(w!==p){k=w.qa();if(0>l||l>=k.length)throw Error("missing sibling instance");r.od.push(k[l])}}a.Mb.pa(b.timelines);Fq(d);Gq(d);a.Qb.dispatchEvent(Y.m(Y.Event,"afterload"));a.Jg(NF(a,"afterload"));$A(a);for(var [n]of Object.entries(b.types))if(d=gq(a,parseInt(n,10)))d.RE=null;n=NF(a,"load");n.saveData=b.user_script_data;await a.nl(n);a.Z()}
function jG(a){a.kM||(a.kM=localforage.rN({name:"c3-savegames-"+a.bM,description:a.nF}));return a.kM}
async function iG(a){const b={c3save:!0,version:1,rt:{time:Rk(a),timeRaw:a.Ry.U(),walltime:a.NA.U(),timescale:a.Ud,tickcount:a.Qi,next_uid:a.Gz,running_layout:a.Pb().fb,start_time_offset:Date.now()-a.JF},types:{},layouts:{},events:a.La.oa(),timelines:a.Mb.oa(),user_script_data:null};for(var d of a.jd)d.Oa||uC(d,ly.ta.FH)||(b.types[d.fb.toString()]=d.oa());for(const c of a.hb.gj)b.layouts[c.fb.toString()]=c.oa();d=NF(a,"save");d.saveData=null;await a.nl(d);b.user_script_data=d.saveData;return JSON.stringify(b)}
function NF(a,b){b=Y.m(Y.Event,b,!1);b.Ad=a.$g;return b}
Y.BQ=class extends Y.ra{constructor(a){a=Object.assign({},tF,a);super();this.Bz=a.messagePort;this.iM=a.runtimeBaseUrl;this.z2=!!a.isInWorker;uF=a.ife;this.Bk=a.exportType;this.OS=!!a.isiOSCordova;this.D2=!!a.isiOSWebView;this.t2=!!a.isFBInstantAvailable;this.Q2=a.opusWasmScriptUrl;this.xT=a.opusWasmBinaryUrl;this.Lf=this.E1=this.Hb=!("preview"!==this.Bk||!a.isDebug);this.GJ=0;this.WC=[];this.m1=[];this.bM=this.KT=this.nF="";this.Ii=this.Ji=0;this.Ol=self.devicePixelRatio;this.uv=this.Qe=this.Zf=
this.hF=this.gF=0;this.YF=!1;this.Ph=!0;this.UM=this.AU=this.Vs=!1;this.ls=null;this.cb=Y.m(Y.FW,this,a);this.hb=Y.m(Y.$Y,this);this.La=Y.m(Y.sX,this);this.Qo=Y.m(Y.Cb,this,a.wrapperComponentIds);this.vk=Y.m(Y.ZW,this);this.Mb=Y.m(Y.g0,this);this.KM=Y.m(Y.i0,this);this.Oi=Y.m(Y.Z_,this);this.xd=Y.m(Y.CX,this);this.Tn=Y.m(Y.a0,{U3:d=>{const c=[];for(const e of d.Xc)for(const g of e.Qd)d=g.Dd(),c.push({source:g,width:d.M(),height:d.K(),tag:g.Wf});return{HN:c}},T3:d=>zF(d)});this.xS=new Map;this.jd=
[];this.Hz=new Map;this.LL=new Map;this.aS=0;this.o1=[];this.aJ=new Set;this.qn=[];this.np=[];this.nE=new Map;this.$D=!1;this.Gz=this.ML=0;this.ds=new Map;this.es=new Set;this.oE=new Set;this.cF=[];this.QS=[];this.T=null;this.fl=!1;this.Tu="vsync";this.Rb="trilinear";this.Dn=!1;this.GL=!0;this.XK=this.GT=!1;this.wd=null;this.h3={FV:d=>{this.hm=this.gf=-1;this.Xe(d)},P4:d=>{this.hm=-1;this.Xe(d,!1,"skip-render")},G4:()=>{this.gf=-1;this.Yq()}};this.hm=this.gf=-1;this.$p=this.Qi=0;this.uS=this.zE=this.bE=
!1;this.SK=!0;this.Vv=0;this.Nv=()=>Math.random();this.Fy=this.Lr=this.PE=this.JF=0;this.Ud=1;this.uL=1/30;this.xL=0;this.WD=Y.m(Y.Pt);this.Ry=Y.m(Y.Pt);this.NA=Y.m(Y.Pt);this.cv=new Map;this.PD=-1;this.Qu=this.Sr=0;this.PF=-1;this.UE=this.Fn=this.IM=0;this.pj=!1;this.wz=this.Zz="";this.$l=null;this.ks="";this.kM=this.aM=null;this.Qb=Y.m(Y.Event.Ua);this.NJ=new Map;this.Nz=new Map;this.M2=0;this.MS=!1;this.$M=[];this.Nr={pretick:Y.m(Y.Event,"pretick",!1),tick:Y.m(Y.Event,"tick",!1),tick2:Y.m(Y.Event,
"tick2",!1),instancedestroy:Y.m(Y.Event,"instancedestroy",!1),beforelayoutchange:Y.m(Y.Event,"beforelayoutchange",!1),layoutchange:Y.m(Y.Event,"layoutchange",!1)};this.Nr.instancedestroy.instance=null;this.lf=Y.m(Y.Event.Ua);this.yU=null;const b=(d,c)=>{{var e=globalThis.jx;d=d instanceof e?this.Jk.get(d):d.ky;c=c instanceof e?this.Jk.get(c):c.ky;var g=d.$;e=c.$;const k=g.I().Ha(),l=e.I().Ha();k!==l?d=k-l:(g=g.LT,e=e.LT,d=g!==e?g-e:d.sg()-c.sg())}return d};this.Jl=Y.m(Y.Uq,b);this.hn=Y.m(Y.Uq,b);
this.Kl=Y.m(Y.Uq,b);this.oz=Y.m(Y.TY,this,a.jobScheduler);a.canvas&&(this.T=Y.m(Y.YW,this));this.Bz.onmessage=d=>this._OnMessageFromDOM(d.data);Gm(this,"runtime","visibilitychange",d=>{d=d.hidden;yF(this,d);d||this.Z()});Gm(this,"runtime","wrapper-extension-message",d=>{if(-1!==d.asyncId){const c=d.asyncId;this.Nz.get(c).resolve(d.params);this.Nz.delete(c)}else BF(this,{component:"wrapper-extension:"+d.componentId,handler:d.messageId,data:d.params,responseId:null})});Gm(this,"runtime","opus-decode",
d=>AF(this,d.arrayBuffer));Gm(this,"runtime","get-remote-preview-status-info",()=>{const d=this.ua();return{fps:this.Qu,tps:this.IM,cpu:this.UE,gpu:this.QB(),layout:this.Pb()?this.Pb().fa():"",renderer:d.cj()?d.GA:dj(d)}});Gm(this,"runtime","js-invoke-function",d=>this.PC(d));Gm(this,"runtime","go-to-last-error-script",self.goToLastErrorScript);Gm(this,"runtime","offline-audio-render-completed",d=>{this.wd.j$(d)});this.Qb.addEventListener("window-blur",d=>this.NI(d));this.Qb.addEventListener("window-focus",
()=>{this.XK&&(yF(this,!1),this.XK=!1)});this.Mb.JG();this.Oi.JG();this.$g=null;this.Jk=new WeakMap;this.Cr={keyboard:null,UN:null,bW:null,$V:null,GV:null};this.mE=new WeakMap;this.cz=[]}static ya(a){return Y.m(Y.BQ,a)}j(){Y.G(this.jd);this.Hz.clear();this.LL.clear();this.hb.j();this.hb=null;this.La.j();this.La=null;this.Qo.j();this.Qo=null;this.cb.j();this.cb=null;this.vk.j();this.vk=null;this.Mb.j();this.Mb=null;this.KM.j();this.KM=null;this.Oi.j();this.Oi=null;this.xd.j();this.xd=null;this.Tn.j();
this.Tn=null;this.T&&(this.T.j(),this.T=null);this.Qb.j();this.Qb=null}_OnMessageFromDOM(a){var b=a.type;if("event"===b)BF(this,a);else if("result"===b){b=a.responseId;const d=a.isOk;a=a.result;const c=this.Nz.get(b);d?c.resolve(a):c.reject(a);this.Nz.delete(b)}else throw Error(`unknown message '${b}'`);}async vo(a){Y.aX(this);this.Hb?await sF.vo(this):self.di&&self.di.m8(this);var [b]=await Promise.all([this.cb.XO("data.json"),DF(this),this.oz.vo()]);await FF(this,b);await LF(this,a);this.Ao()||
console.info("Made with Construct, the game and app creator :: https://www.construct.net");this.bx()?(b=this.bx(),console.info(`[C3 runtime] Hosted in ${this.fd()?"worker":"DOM"}, rendering with WebGL ${b.Tc} [${b.GA}]`)):this.Jq()&&console.info(`[C3 runtime] Hosted in ${this.fd()?"worker":"DOM"}, rendering with WebGPU [${dj(this.Jq())}]`);this.ua().nK&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");
this.MS=!0;for(const d of this.$M)BF(this,d);Y.G(this.$M);this.T&&oF(this.T);for(const d of a.runOnStartupFunctions)this.WC.push(MF(this,d));await Promise.all([Bn(this.cb),...this.WC]);Y.G(this.WC);if(this.cb.mK)this.T&&iF(this.T);else return this.T&&await pF(this.T),await dd(this.Qb,new Y.Event("beforeruntimestart")),await this.Tm(),this.Bz.postMessage({type:"runtime-ready"}),this}async Tm(){this.bE=!0;this.JF=Date.now();let a=null;const b=new Promise(c=>a=c);if(this.YF){for(var d of this.jd)d.Oa||
d.WK||!d.Sd||d.Vc();(async()=>{await Bn(this.cb);await b;this.Ph=!1;PF(this)})()}else this.Ph=!1;this.cb.qS=!0;this.Hb&&sF.Gba(uF);for(const c of this.hb.gj)uq(c);null!==this.wd&&await this.wd.vo({width:this.T.Wg,height:this.T.Vg});d=Cq(this.hb);await Yp(d,null,this.ua());await nq(d,!0);this.Sr=performance.now();a();this.YF||PF(this);(await Sk(this,"runtime","before-start-ticking")).isSuspended&&null===this.wd?this.Vv++:this.Xe()}ak(a){a=Math.floor(a);const b=this.QS;if(0>a||a>=b.length)throw Error("invalid prop reference");
return b[a]}fd(){return this.z2}Ca(){return this.La}Hd(){return this.La.Hd()}kg(){return this.La.kg()}$b(){return this.La.$b()}tf(){return this.La.tf()}Nw(){return this.La.Nw()}Zw(){return this.Qo.Zw()}Ua(){return this.Qb}Jg(a){a.Ad=this.$g;const b=this.Hb&&!fl(this.La);b&&sF.pI();this.lf.dispatchEvent(a);b&&sF.KG()}nl(a){a.Ad=this.$g;return dd(this.lf,a)}Hm(){return this.Ol}rl(){return this.T?this.T.rl():this.Zf}ql(){return this.T?this.T.ql():this.Qe}Gt(){return this.T?this.T.Gt():1}Wi(){return this.T?
this.T.Wi():1}Qw(){return this.T?this.T.Qw():1}Pw(){return this.T?this.T.Pw():1}IB(){return this.T?this.T.IB():0}JB(){return this.T?this.T.JB():0}Sw(){return this.T?this.T.Sw():"off"}Mw(a){return this.T?this.T.Mw(a):null}Vq(a){this.T&&this.T.Vq(a)}QB(){return this.T?this.T.QB():NaN}Nq(){return"nearest"!==this.Rb}Pb(){return this.hb.Pb()}hC(a){return this.cb.hC(a)}du(){this.Qb.dispatchEvent(Y.m(Y.Event,"renderercontextlost"));yF(this,!0);for(var a of this.jd)!a.Oa&&0<a.Zv&&a.Wq();(a=this.Pb())&&a.du();
Y.cC.Rt();Y.rH.Rt()}NI(a){this.Ao()&&this.GT&&!Y.W.yo&&!a.data.parentHasFocus&&(yF(this,!0),this.XK=!0)}Bo(){return 0<this.Vv}async Xe(a,b,d){this.uS=!0;const c="background-wake"===d;d="background-wake"!==d&&"skip-render"!==d;var e=this.hb,g=this.T;if(this.bE&&(!this.Bo()||b||c)){b=performance.now();this.zE=!0;a=a||0;var k=0;null!==this.wd?this.Lr=k=1/this.wd.SX():0!==this.PE&&(k=Math.max(a-this.PE,0)/1E3,.5<k&&(k=0),this.Lr=Y.V(k,this.xL,this.uL));this.PE=a;this.Fy=this.Lr*this.Ud;this.WD.Bb(this.Fy);
this.Ry.Bb(k*this.Ud);this.NA.Bb(this.Lr);for(const [n,p]of this.cv)p.Bb(this.Lr*n.Ud);this.T&&(k=this.T,k.Se&&k.Se.Ch()&&bF(k),k.$h&&k.$h.Ch()&&cF(k));if(1E3<=a-this.Sr){this.Sr+=1E3;1E3<=a-this.Sr&&(this.Sr=a);this.Qu=this.PD;this.PD=0;this.IM=this.PF;this.PF=0;this.UE=Math.min(this.Fn/1E3,1);this.Fn=0;if(this.T&&(a=this.T,k=a.ua(),k.Ch()&&0===a.Lh)){a.Lh=k.If;a.Sy=NaN;for(var l of aF(a))l.kG=NaN}this.Hb&&sF.zea()}this.PF++;WF(this);l=XF(this);this.Lf&&await l;l=this.Nr.pretick;l=(a=cd(this.Qb,
l.type,!1))?Yc(a,l):!0;l instanceof Promise&&await l;l=YF(this);this.Lf&&await l;(this.Zz||this.wz||null!==this.$l)&&await $F(this);e.Ki&&await eG(this);l=gG(this);this.Lf&&await l;l=e.Pb();a=l.UL;e=!1;-1!==a&&(l.UL=-1,g.Tw()!==a&&(g=pq(this.T,a),this.fd()&&(e=!0,await g)));d&&this.Yq();e&&Uc(this,"canvas","cleanup-html-layers");if(null!==this.wd&&(d=this.Qi/this.wd.SX(),await this.wd.l5(this.T.ug[0].canvas,d),Rk(this)>=this.wd.Gy)){this.wd.no();return}this.Bo()||c||SF(this);this.Qi++;this.$p++;this.zE=
!1;this.Fn+=performance.now()-b}}Z(){this.GL=!0}bx(){return this.T?this.T.bx():null}Jq(){return this.T?this.T.Jq():null}ua(){return this.T?this.T.ua():null}Yq(){const a=this.T;if(a&&!a.ua().ek()){var b=this.ua(),d=b.Ch(),c=d&&b.cj();d=d&&b.Ld();if(c)for(var e of b.XC){var g=e,k=b.If;for(var l of g.le){if(l.If>=k)break;if(l.qp)break;l.VG()}}if(this.GL||null!==this.wd){l=this.hb.Pb();this.PD++;b.Tm();(e=this.Hb)&&sF.Yt();this.GL=!1;g=null;c&&(c=g=Lh(a.XD),b.Ch()&&(k=ei(b),k.wa=18,k.Xf=c,b.ic=0));c=
null;if(d){c=2*(1+l.Hc.length);if(!b.Ch())throw Error("GPU profiling not supported");if(b.Gk)throw Error("already started frame timing");b.xA=!1;b.HM.clear();b.Gk=ki.m(ki.R.G0,b,c);c=b.Gk;Oi(b,0,1)}this.fl&&"low"===a.Ci?b.GQ(a.rl(),a.ql()):b.EQ();k=this.ua();Gf(k);k.xx();k.Af(1,1,1,1);k.$d(null);k.Od(null);k.We(this.fl);xF(this,k)&&Aq(l,k);var n=l.Tw();for(var p=1;p<n;++p){var r=l,w=k,x=p,z=null;xF(r.g,w)&&(z=r.Ze);w.$d(z);w.ei(0,0,0,0);r.g.fl&&w.WG();var F=ap(r,x);Cp(w,z,F,!0);z=r;F=w;xF(z.g,F)&&
(F.We(!1),F.$d(null),Gf(F),F.vB(z.Ze));w.ie();r=r.g.T;x>=r.ug.length||(w=r.ug[0].canvas,x=r.ug[x].bV,ME(r)?x.transferFromImageBitmap(w.transferToImageBitmap()):(x.globalCompositeOperation="copy",x.drawImage(w,0,0)));k.Ld()&&Ji(k)}xF(this,k)||Aq(l,k);k.$d(l.Ze);k.he(Xp(l));l.g.fl&&k.WG();n=ap(l,0);Cp(k,l.Ze,n,!0);k.Ld()&&Oi(k,0,1);l.Zt()&&(k.We(!1),n=l.Ze,p=l.g,0===l.Ma.Gh.length?(k.$d(null),Gf(k),k.vB(n),k.Lq(n),p.Vq(n)):(Gp.set(0,0,p.Zf,p.Qe),l.Kg().Yq(k,null,{qN:l,Am:3,devicePixelRatio:l.g.Pw(),
YA:l.g.Qw()*l.ge,XA:l.Ra(),$s:Gp,oG:null,IN:!0})));l.Ze=null;g&&ji(b,g);d&&(b.xA&&(Ni(b),b.xA=!1),d=this.T,d.eG.set(d.$h.If,c));b.no();e&&(sF.i5(),sF.Bea());a&&dF(a)}else b.If++}}da(a,b,d){if(!this.bE)return!1;var c=!this.zE&&!(0<this.La.Ge);let e=0;c&&(e=performance.now());const g=this.Hb;g&&nx(this,!1);a=this.La.Vx(this.hb,a,b,d);c&&(c=performance.now()-e,this.Fn+=c,g&&sF.x5(c));g&&nx(this,!0);return a}async Wc(a,b,d){if(!this.Lf)return this.da(a,b,d);if(!this.bE)return!1;if(Rv(this))return Pv(this.La,
a,b,d);if(!this.Pb())return Ov(this.La,a,b,d);const c=performance.now();a=this.La.Mx(this.hb,a,b,d);for(b=a.next();!b.done;)await Nv(this,b.value),b=a.next();this.Bo()||0<this.La.Ge||(await Sv(this.La),this.uS&&!this.zE&&SF(this));this.Fn+=performance.now()-c;return b.value}Ex(a){if(isNaN(a)||0>a)a=0;this.Ud=a}Ao(){return"preview"===this.Bk}Te(a){return this.ua().Te(a||this.Qe)}EH(a){this.$l=a}Q_(a,b){return a.C().yA-b.C().yA}IG(a,b,d,c){return this.oz.IG(a,b,d,null,null,c)}tH(a,b){Uc(this,"runtime",
"invoke-download",{url:a,filename:b})}PC(a){return this.La.PC(a.name,a.params)}};self.C3_CreateRuntime=Y.BQ.ya;self.C3_InitRuntime=(a,b)=>a.vo(b);"use strict";const kG=self.A;
function lG(a,b){var d=b.data,c=d.type;b=d.jobId;switch(c){case "result":d=d.result;c=a.tp.get(b);if(!c)throw Error("invalid job ID");c.iG||c.resolve(d);a.tp.delete(b);break;case "progress":d=d.progress;a=a.tp.get(b);if(!a)throw Error("invalid job ID");!a.iG&&a.progress&&a.progress(d);break;case "error":d=d.error;c=a.tp.get(b);if(!c)throw Error("invalid job ID");c.iG||c.reject(d);a.tp.delete(b);break;case "ready":a.fz&&(a.fz=!1,a.pz++,a.pz<a.iT?mG(a):a.av.postMessage({type:"_no_more_workers"}));break;
default:throw Error(`unknown message from worker '${c}'`);}}async function mG(a){if(!(a.pz>=a.iT||a.fz||a.oS||nG(a)<=a.pz))try{a.fz=!0,(await Sk(a.g,"runtime","create-job-worker")).outputPort.onmessage=b=>lG(a,b)}catch(b){a.oS=!0,a.fz=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${a.pz} so far)`,b)}}function nG(a){let b=0;a=[...a.tp.values()].sort((d,c)=>(d.RN||Infinity)-(c.RN||Infinity));for(const d of a)b<(d.RN||Infinity)&&b++;return b}
kG.TY=class extends kG.ra{constructor(a,b){super();this.g=a;this.tp=new Map;this.O2=0;this.av=b.inputPort;b.outputPort.onmessage=d=>lG(this,d);this.iT=b.maxNumWorkers;this.pz=1;this.oS=this.fz=!1}async vo(){}IG(a,b,d,c,e,g){d||(d=[]);if("number"===typeof g&&(g=Math.floor(g),0>=g))throw Error("invalid maxWorkerNum");const k=this.O2++;a={type:a,isBroadcast:!1,maxWorkerNum:g,jobId:k,params:b,transferables:d};b=new Promise((l,n)=>{this.tp.set(k,{resolve:l,progress:c,reject:n,iG:!1,RN:g})});e&&zd(e,()=>
{const l=this.tp.get(k);l&&(l.iG=!0,l.resolve=null,l.progress=null,l.reject=null,this.av.postMessage({type:"_cancel",jobId:k}))});this.av.postMessage(a,d);mG(this);return b}};self.C3_Shaders={};
self.C3_Shaders.blurhorizontal={FN:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelWidth = pixelSize.x;\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, sum, intensity);\n}",GN:"",
nW:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelWidth : f32 = c3_getPixelSize(textureFront).x;\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar sum : vec4<f32> =\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\nfront * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06;\nvar output : FragmentOutput;\noutput.color = mix(front, sum, shaderParams.intensity);\nreturn output;\n}",
VU:!1,kW:!1,jV:8,kV:0,aV:!1,DV:!1,JV:!1,YV:!1,SU:!1,parameters:[["intensity",0,"percent"]]};
self.C3_Shaders.blurvertical={FN:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelHeight = pixelSize.y;\nmediump float halfPixelHeight = pixelHeight / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\ngl_FragColor = mix(front, sum, intensity);\n}",GN:"",
nW:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelHeight : f32 = c3_getPixelSize(textureFront).y;\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar sum : vec4<f32> =\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 7.5)) * 0.06 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 5.5)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 3.5)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 1.5)) * 0.16 +\nfront * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 1.5)) * 0.16 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 3.5)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 5.5)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 7.5)) * 0.06;\nvar output : FragmentOutput;\noutput.color = mix(front, sum, shaderParams.intensity);\nreturn output;\n}",
VU:!1,kW:!1,jV:0,kV:8,aV:!1,DV:!1,JV:!1,YV:!1,SU:!1,parameters:[["intensity",0,"percent"]]};"use strict";const oG=self.A;let pG=null,qG="",rG="",sG=[],tG="",uG="",vG="";const wG=oG.m(oG.BW);function xG(a,b){a=a[1];b=b[1];if("number"===typeof a&&"number"===typeof b)return a-b;a=""+a;b=""+b;return a<b?-1:a>b?1:0}function yG(a,b){pG&&a===qG&&b===rG||(pG=new RegExp(a,b),qG=a,rG=b);pG.lastIndex=0;return pG}
function zG(a,b,d){if(a===tG&&b===uG&&d===vG)return sG;const c=yG(b,d);sG=a.match(c);tG=a;uG=b;vG=d;return sG}async function AG(a,b,d){if(d.length){a.Zr+=d.length;var c=[];for(const e of d)c.push($p(b,e));await oG.p_(c,()=>{a.Zy++});a.Zy++;a.Zy===a.Zr&&(a.Zy=0,a.Zr=0,a.g.da(oG.B.yb.H.EZ,null,null))}}
function*BG(a,b){var d=a.g.Ca();a=d.Hd();const c=tv(a),e=c.$b();var g=e.Jd(),k=wv(c);const l=a.ab(e);d=d.gh;const n=d.ab();if(k)for(k=0;k<b&&!n.ad;++k)Vv(g),n.na=k,yield*$w(e,c,l),Wv(g);else for(g=0;g<b&&!n.ad;++g)n.na=g,yield*$w(e,c,l);a.Ya();d.Ya();return!1}
function*CG(a){var b=a.g.Ca();a=b.Hd();const d=tv(a),c=d.$b();var e=c.Jd(),g=wv(d);const k=a.ab(c);b=b.gh;const l=b.ab();if(g)for(g=0;!l.ad;++g)Vv(e),l.na=g,(yield*$w(c,d,k))||l.hd(),Wv(e);else for(e=0;!l.ad;++e)l.na=e,(yield*$w(c,d,k))||l.hd();a.Ya();b.Ya();return!1}
function*DG(a,b,d,c){var e=a.g.Ca();a=e.Hd();const g=tv(a),k=g.$b();var l=k.Jd();const n=wv(g),p=a.ab(k);e=e.gh;const r=e.ab();r.BC(b);if(c<d)if(n)for(b=d;b>=c&&!r.ad;--b)Vv(l),r.na=b,yield*$w(k,g,p),Wv(l);else for(l=d;l>=c&&!r.ad;--l)r.na=l,yield*$w(k,g,p);else if(n)for(b=d;b<=c&&!r.ad;++b)Vv(l),r.na=b,yield*$w(k,g,p),Wv(l);else for(l=d;l<=c&&!r.ad;++l)r.na=l,yield*$w(k,g,p);a.Ya();e.Ya();return!1}
function*EG(a,b){var d=b.ca();const c=d.qa();if(0===c.length)return!1;var e=a.g.Ca();a=e.Hd();const g=tv(a),k=g.$b(),l=k.Jd(),n=wv(g),p=a.ab(k);e=e.gh;const r=e.ab(),w=b.yc(),x=wG.ab();oG.Bd(x,c);if(n)for(let z=0,F=x.length;z<F&&!r.ad;++z)Vv(l),d=x[z],nv(b.ca(),d),w&&vw(d),r.na=z,yield*$w(k,g,p),Wv(l);else{d.kb=!1;b=d.J;oG.G(b);b.push(null);for(let z=0,F=x.length;z<F&&!r.ad;++z)d=x[z],b[0]=d,w&&vw(d),r.na=z,yield*$w(k,g,p)}a.Ya();e.Ya();oG.G(x);wG.Ya();return!1}
function*FG(a,b,d){const c=b.ca(),e=c.qa();if(0===e.length)return!1;var g=a.g.Ca();a=g.Hd();const k=g.tf(),l=tv(a),n=l.$b(),p=n.Jd(),r=wv(l),w=a.ab(n);g=g.gh;const x=g.ab(),z=b.yc(),F=wG.ab();oG.G(F);for(let D=0,G=e.length;D<G;++D)F.push([e[D],k.Ba[1].U(D)]);F.sort(xG);1===d&&F.reverse();if(r)for(let D=0,G=F.length;D<G&&!x.ad;++D)Vv(p),d=F[D][0],nv(b.ca(),d),z&&vw(d),x.na=D,yield*$w(n,l,w),Wv(p);else{c.kb=!1;b=c.J;oG.G(b);b.push(null);for(let D=0,G=F.length;D<G&&!x.ad;++D)d=F[D][0],b[0]=d,z&&vw(d),
x.na=D,yield*$w(n,l,w)}a.Ya();g.Ya();oG.G(F);wG.Ya();return!1}function GG(a,b,d){let c=a.kS.get(b);if(c)return c;if(!d)return null;c={oq:null,FG:new Map};a.kS.set(b,c);return c}function*HG(a,b,d,c){yield*lx(a.we(),b,a.dh);d&&Wv(c)}oG.B.yb=class extends oG.Bl{constructor(a){super(a);this.gh=this.g.Ca().gh;this.qe=this.g.Ca().Hd();this.Zy=this.Zr=0;this.kS=new Map;this.oM=[]}j(){super.j()}Z(){this.g.Z()}da(a){this.g.da(a,null,null)}};const IG=self.A;
IG.B.yb.Eh=class extends IG.ra{constructor(a){super();this.L=a;this.g=a.F();this.Li=a.Ia()}Vc(){}j(){this.Li=this.g=this.L=null}};const JG=self.A;JG.B.yb.Instance=class extends JG.ra{constructor(a){super();this.$=a;this.L=this.$.I();this.wb=this.L.wb;this.g=this.$.F()}j(){this.g=this.wb=this.L=this.$=null}};const KG=self.A,LG=[];
KG.B.yb.H={uX(){return!0},WP(){return!0},JZ(){return!0},b_(){return!0},YZ(){return!0},Bo(){return this.g.Bo()},qX(){const a=this.g.kg();return a.cp?!1:!a.Uh},j0(){const a=this.g.tf().Nm();let b=a.get("TriggerOnce_lastTick");"undefined"===typeof b&&(b=-1,a.set("TriggerOnce_lastTick",-1));const d=this.g.Qi;a.set("TriggerOnce_lastTick",d);return this.g.SK||b!==d-1},i7(a){const b=this.g.tf().Nm(),d=b.get("Every_lastTime")||0,c=Rk(this.g);b.has("Every_seconds")||b.set("Every_seconds",a);const e=b.get("Every_seconds");
if(c>=d+e)return b.set("Every_lastTime",d+e),c>=b.get("Every_lastTime")+.04&&b.set("Every_lastTime",c),b.set("Every_seconds",a),!0;c<d-.1&&b.set("Every_lastTime",c);return!1},Mt(a){return(a=this.g.Ca().jK.get(a.toLowerCase())||null)&&a.Mt()},Ao(){return this.g.Ao()},yo(){return KG.W.yo},MZ(){return!0},tZ(){return!0},d7(){return!0},ZZ(){return!0},$Z(){return!0},XP(){return!0},YP(){return!0},W9(a){return!!Jr(this.g,a)},V8(a){switch(a){case 0:return"browser"===KG.W.Em;case 1:return"iOS"===KG.W.Md;case 2:return"Android"===
KG.W.Md;case 8:return"cordova"===KG.W.Em;case 9:return"scirra-arcade"===this.g.Bk;case 10:return"nwjs"===KG.W.Em;case 13:return"windows-uwp"===this.g.Bk;default:return!1}},xaa(a,b,d){return yG(b,d).test(a)},v6(a,b,d){return KG.compare(a,b,d)},x6(a,b,d){return a>=b&&a<=d},cX(a,b,d){return KG.compare(a.ed(),b,d)},bX(a){return!!a.ed()},G6(a,b){const d=Rk(this.g);return 0===a?(a=this.g.tf().Nm(),!a.get("CompareTime_executed")&&d>=b?(a.set("CompareTime_executed",!0),!0):!1):KG.compare(d,a,b)},S8(a){return isNaN(a)},
AW(a,b,d){return KG.Xs(KG.ib(a),KG.ib(d))<=KG.ib(b)},JY(a,b){return KG.Fg(KG.ib(a),KG.ib(b))},HY(a,b,d){a=KG.ib(a);b=KG.ib(b);d=KG.ib(d);return KG.Fg(d,b)?KG.Fg(a,b)&&!KG.Fg(a,d):!(!KG.Fg(a,b)&&KG.Fg(a,d))},g9(a,b){return"number"===typeof a?0===b:1===b},h7(a){return!!a},a_(a){return a.toLowerCase()===this.oM.at(-1)},I$(a,b,d,c){if(!a)return!1;const e=wG.ab(),g=a.ca();KG.Bd(e,g.qa());g.kb&&KG.G(g.ub);const k=this.g.tf();let l=0;for(let n=0,p=e.length;n<p;++n){const r=e[n];e[l]=r;b=k.Ba[1].U(n);c=k.Ba[3].U(n);
KG.compare(b,d,c)?++l:g.ub.push(r)}KG.eg(e,l);ov(g,e);b=!!e.length;KG.G(e);wG.Ya();gx(a);return b},J$(a,b){if(!a)return!1;const d=wG.ab(),c=a.ca();KG.Bd(d,c.qa());c.kb&&KG.G(c.ub);const e=this.g.tf();let g=0;for(let k=0,l=d.length;k<l;++k){const n=d[k];d[g]=n;(b=e.Ba[1].U(k))?++g:c.ub.push(n)}KG.eg(d,g);ov(c,d);b=!!d.length;KG.G(d);wG.Ya();gx(a);return b},K$(a,b,d){if(!a)return!1;const c=a.ca(),e=c.qa();if(0===e.length)return!1;const g=this.g.tf();let k=null,l=0;for(let n=0,p=e.length;n<p;++n){const r=
e[n];d=g.Ba[2].U(n);if(null===k||0===b&&d<l||1===b&&d>l)l=d,k=r}sv(c,k);gx(a);return!0},P$(a,b){if(!a)return!1;const d=a.ca(),c=d.qa();b=Math.floor(b);if(b>=c.length)return!1;sv(d,c[b]);gx(a);return!0},T$(a){if(!a)return!1;const b=a.ca(),d=b.qa(),c=Math.floor(this.g.Nv()*d.length);if(c>=d.length)return!1;sv(b,d[c]);gx(a);return!0},H$(a){if(!a||!a.J.length)return!1;a.ca().kb=!0;gx(a);return!0},R$(a,b,d){if(!a)return!1;const c=a.ca();var e=c.qa();const g=this.g.$b().Ie,k=this.g.tf().oj;c.kb?(KG.Bd(LG,
e),lv(c),c.kb=!1):g?(KG.Bd(LG,c.ub),KG.G(c.ub)):(KG.Bd(LG,c.J),KG.G(c.J));for(let l=0,n=LG.length;l<n;++l)e=LG[l],KG.xor(Wl(e.C(),b,d),k)?c.J.push(e):c.ub.push(e);gx(a);return KG.xor(!!c.J.length,k)},O$(a){if(!a)return!1;var b=a.Oa;let d=null;const c=this.g.np;for(let e=c.length-1;0<=e;--e){const g=c[e];if(b){if(PA(g.I(),a)){d=g;break}}else if(g.I()===a){d=g;break}}d||(b=a.qa(),b.length&&(d=b.at(-1)));if(!d)return!1;sv(a.ca(),d);gx(a);return!0},Daa(a){if(this.g.Lf)a=BG(this,a);else{var b=this.g.Ca();
const e=b.Hd(),g=tv(e),k=g.$b();var d=k.Jd(),c=wv(g);const l=e.ab(k);b=b.gh;const n=b.ab();if(c)for(c=0;c<a&&!n.ad;++c)Vv(d),n.na=c,Zw(k,g,l),Wv(d);else for(d=0;d<a&&!n.ad;++d)n.na=d,Zw(k,g,l);e.Ya();b.Ya();a=!1}return a},Uea(){if(this.g.Lf)var a=CG(this);else{var b=this.g.Ca();a=b.Hd();const e=tv(a),g=e.$b();var d=g.Jd(),c=wv(e);const k=a.ab(g);b=b.gh;const l=b.ab();if(c)for(c=0;!l.ad;++c)Vv(d),l.na=c,Zw(g,e,k)||l.hd(),Wv(d);else for(d=0;!l.ad;++d)l.na=d,Zw(g,e,k)||l.hd();a.Ya();b.Ya();a=!1}return a},
y7(a,b,d){if(this.g.Lf)d=DG(this,a,b,d);else{var c=this.g.Ca();const g=c.Hd(),k=tv(g),l=k.$b();var e=l.Jd();const n=wv(k),p=g.ab(l);c=c.gh;const r=c.ab();r.BC(a);if(d<b)if(n)for(a=b;a>=d&&!r.ad;--a)Vv(e),r.na=a,Zw(l,k,p),Wv(e);else for(e=b;e>=d&&!r.ad;--e)r.na=e,Zw(l,k,p);else if(n)for(a=b;a<=d&&!r.ad;++a)Vv(e),r.na=a,Zw(l,k,p),Wv(e);else for(e=b;e<=d&&!r.ad;++e)r.na=e,Zw(l,k,p);g.Ya();c.Ya();d=!1}return d},z7(a){if(this.g.Lf)var b=EG(this,a);else{{const w=a.ca(),x=w.qa();if(0!==x.length){var d=this.g.Ca();
b=d.Hd();var c=tv(b),e=c.$b(),g=e.Jd(),k=wv(c),l=b.ab(e);d=d.gh;var n=d.ab(),p=a.yc(),r=wG.ab();oG.Bd(r,x);if(k)for(let z=0,F=r.length;z<F&&!n.ad;++z)Vv(g),k=r[z],nv(a.ca(),k),p&&vw(k),n.na=z,Zw(e,c,l),Wv(g);else{w.kb=!1;a=w.J;oG.G(a);a.push(null);for(let z=0,F=r.length;z<F&&!n.ad;++z)g=r[z],a[0]=g,p&&vw(g),n.na=z,Zw(e,c,l)}b.Ya();d.Ya();oG.G(r);wG.Ya()}b=!1}}return b},A7(a,b,d){if(this.g.Lf)b=FG(this,a,d);else{{const z=a.ca(),F=z.qa();if(0!==F.length){var c=this.g.Ca();b=c.Hd();var e=c.tf(),g=tv(b),
k=g.$b(),l=k.Jd(),n=wv(g),p=b.ab(k);c=c.gh;var r=c.ab(),w=a.yc(),x=wG.ab();oG.G(x);for(let D=0,G=F.length;D<G;++D)x.push([F[D],e.Ba[1].U(D)]);x.sort(xG);1===d&&x.reverse();if(n)for(let D=0,G=x.length;D<G&&!r.ad;++D)Vv(l),d=x[D][0],nv(a.ca(),d),w&&vw(d),r.na=D,Zw(k,g,p),Wv(l);else{z.kb=!1;a=z.J;oG.G(a);a.push(null);for(let D=0,G=x.length;D<G&&!r.ad;++D)d=x[D][0],a[0]=d,w&&vw(d),r.na=D,Zw(k,g,p)}b.Ya();c.Ya();oG.G(x);wG.Ya()}b=!1}}return b},u9(a){return a?a.Uc():!1},p9(a){return a?Co(a):!1},q9(a){return a?
a.js:!1},o9(a){return a?!a.J.length:!1},n9(a,b,d){return a?KG.compare(100*a.ac(),b,d):!1},s9(a){const b=this.g.Pb();return b?!!wp(b,a):!1},EZ(){return!0},M8(){return 0<this.Zr},cea(a,b){const d=this.g.Oi;return d&&b?!!Lu(d,a,b):!1}};const MG=self.A;function NG(a,b){const d=a[0]-b[0];return 0!==d?d:a[1]-b[1]}function OG(a,b){return a[1]-b[1]}const PG=[],QG=[],RG=MG.m(MG.Rect),SG=MG.m(MG.gb);
MG.B.yb.Sa={N_(a,b){a.ae(b)},y5(a,b){a.zo()&&"number"!==typeof b&&(b=parseFloat(b));a.ae(a.ed()+b)},Uda(a,b){a.zo()&&a.ae(a.ed()-b)},E_(a,b){a.ae(!!b)},h0(a){a.ae(!a.ed())},tba(a){a.ae(a.yn)},uba(a){var b=this.g.Ca();for(const d of b.bJ)d.Dc=d.yn;if(a)for(const d of b.pR)d.tl()&&(d.Dc=d.yn)},LO(a,b,d,c,e,g){if(a&&b&&(d=cl(this.g,a,b,d,c,e,g))){e&&no(b,d);b=this.g.Ca();dl(b,!0);el(d);dl(b,!1);b=new Map;YC(d,b,a,e);for(const [k,l]of b)pv(k.ca(),l)}},T6(a,b,d,c,e,g){a&&b&&(a=this.g.Hz.get(a.toLowerCase())||
null)&&MG.B.yb.Sa.LO.call(this,a,b,d,c,e,g)},tx(a,b,d,c,e,g,k,l,n,p){if(a){var r=vp(this.g);if(g&&(r=Dq(this.g.hb,g),!r))return;g=null;if("number"!==typeof k||0<=k)if(g=r.Y(k),!g)return;RG.set(b,d,c,e);b=r.tx(a,RG,g,l,n,p);ov(a.ca(),b);gx(a)}},Ida(){const a=this.gh;0<=a.na&&a.Bt().hd()},Vt(a,b){(a=this.g.Ca().jK.get(a.toLowerCase())||null)&&(0===b?a.Vt(!1):1===b?a.Vt(!0):a.Vt(!a.Mt()))},jda(a){this.g.Ex(a)},Xca(a,b){0>b&&(b=0);if(a){a=a.ca().qa();for(const d of a)d.Ex(b)}},zba(a){if(a){a=a.ca().qa();
for(const b of a)b.Ud=-1,CC(b.I())&&dD(b.g,b,!1)}},vI(a){if(!(0>a)){var b=Zv(this.g.Ca());b.wa="timer";b.Nx();b.Gd=Rk(b.La.F())+a;return!0}},Kea(a){var b=Zv(this.g.Ca());b.wa="signal";b.Nx();b.eA=a.toLowerCase();return!0},Jea(){const a=this.g.Ca();var b=Zv(a);const d=Promise.all(a.dn);a.dn=[];nB(b,d);return!0},Ada(a){a=a.toLowerCase();this.oM.push(a);this.g.da(MG.B.yb.H.a_,null);this.oM.pop();for(const b of this.g.Ca().Xh)"signal"===b.wa&&b.eA===a&&(b.hv=!0)},async NQ(a,b,d,c,e,g){const k=this.g.T;
k&&(this.Z(),await k.NQ(0===a?"image/png":"image/jpeg",b/100,d,c,e,g),await this.g.Wc(MG.B.yb.H.tZ,null))},$ba(a,b){if(!(0>=a||0>=b)){rF(this.g,a,b);qo(vp(this.g));var d=this.g.T;if(d){if("off"!==WE(d)){var c=this.g;if(c.Ji!==a||c.Ii!==b)c.Ji=a,c.Ii=b,a=c.hb,Fq(a),Gq(a)}d.sd(d.Nj,d.Mj,!0);this.g.Z()}}},sca(a){const b=this.g.T;b&&"off"!==WE(b)&&(YE(b,0!==a?"high":"low"),b.sd(b.Nj,b.Mj,!0))},$q(a){this.g.Zz=a},z9(a){this.g.wz=a},A9(a){this.g.EH(a)},tca(){},vba(){for(const a of this.g.hb.gj)a.Jp={},
a.hs=!0},$ca(a){var b=this.g;a=0!==a;b.Dn!==a&&(b.Dn=a,Gq(b.hb),b.Z())},pca(a,b){this.g.uL=Math.max(1/a,0);this.g.xL=Math.max(1/b,0)},eca(a,b){this.g.xL=Math.max(a,0);this.g.uL=Math.max(b,0)},qca(a){var b=this.g;a=["vsync","unlimited-tick","unlimited-frame"][a];b.Tu!==a&&(b.Tu=a,-1!==b.gf||-1!==b.hm)&&(RF(b),SF(b))},Dda(a,b){if(a){var d=a.ca().qa(),c=vp(this.g),e=a.Oa;a=a.nj;for(let l=0,n=d.length;l<n;++l){var g=d[l];const p=g.C();if(p){var k=void 0;e?(k=g.I().Lu[a],k=ut(g,b+k)):k=ut(g,b);PG.push([p.Y().Ha(),
Vl(p)]);QG.push([g,k])}}if(PG.length){PG.sort(NG);QG.sort(OG);b=!1;for(let l=0,n=PG.length;l<n;++l)d=QG[l][0],e=xp(c,PG[l][0]),a=PG[l][1],g=e.J,g[a]!==d&&(g[a]=d,cq(d.C(),e,!0),zo(e,d),b=!0);b&&this.g.Z();MG.G(PG);MG.G(QG)}}},FQ(a,b){a=Math.floor(a);b=Math.floor(b);0>=a||0>=b||!Number.isFinite(a)||!Number.isFinite(b)||this.g.vk.FQ(a,b)},aY(a){if(!this.g.Ph){var b=this.g.hb;b.Ki||(b.Ki=a)}},Q7(a){if(!this.g.Ph){var b=this.g.hb;!b.Ki&&(a=Dq(b,a))&&(b.Ki=a)}},S9(a){if(!this.g.Ph){var b=this.g.hb;if(!b.Ki){var d=
b.gj,c=d.indexOf(b.Pb());if(!a||0!==c)if(a||c!==d.length-1)b.Ki=d[c+(a?-1:1)]}}},xba(){if(!this.g.Ph){var a=this.g.hb;if(!a.Ki){a.Ki=a.Pb();a=this.g.Ca();for(const b of a.cJ)b.Vt(b.QK)}}},Jca(a,b){a&&a.Bh(b)},Cca(a,b){a&&(a.gv=!!b)},Bca(a,b){a&&rl(a,b)},Dca(a,b){a&&a.De(b/100)},Fca(a,b){a&&sl(a,b)},Gca(a,b){a&&tl(a,b)},wca(a,b){a&&a.Be(MG.ib(+b))},Hca(a,b,d){a&&(wl(a,!0),a.kk(b),a.lk(d))},yba(a){a&&wl(a,!1)},Eca(a,b,d){if(a&&(b/=100,d/=100,a.ef!==b||a.ff!==d)&&(a.ef=b,a.ff=d,ro(a),a.g.Z(),1!==a.ef||
1!==a.ff))for(const c of a.J)c.I().Zx=!0},Kca(a,b){a&&a.Rg(+b)},xca(a,b){a&&(cc(SG,b),SG.V(),a=a.gn,$b(a,SG)||(Yb(a,SG),this.Z()))},Ica(a,b){a&&ul(a,b)},yca(a,b){a&&a.Ce(b)},K_(a,b,d){a&&(d=Mr(a.Ma,d))&&(b=1===b,d.Nb!==b&&(d.Nb=!!b,a.Fh(),this.g.Z()))},zca(a,b,d,c){if(a&&(a=a.Ma,b=Mr(a,b))){d=Math.floor(d);var e=b.ye().Ww(d);e&&("color"===e?(cc(SG,c),c=SG):"percent"===e&&(c/=100),a.yx(b.Ha(),d,c)&&b.Nb&&this.g.Z())}},Aca(a,b){a&&vl(a,b)},Pca(a){vp(this.g).kI(+a)},Lca(a){vp(this.g).Be(MG.ib(+a))},
Mca(a,b){const d=vp(this.g);if(b=Mr(d.Ma,b))a=1===a,b.Nb!==a&&(b.Nb=!!a,d.Fh(),this.g.Z())},Nca(a,b,d){const c=vp(this.g).Ma;if(a=Mr(c,a)){b=Math.floor(b);var e=a.ye().Ww(b);e&&("color"===e?(cc(SG,d),d=SG):"percent"===e&&(d/=100),c.yx(a.Ha(),b,d)&&a.Nb&&this.g.Z())}},Qca(a,b){var d=vp(this.g);a/=100;b/=100;if(d.ZF!==a||d.$F!==b)d.ZF=a,d.$F=b,d.eh||(Op(d),Pp(d),d.g.Z())},Oca(a){const b=vp(this.g);0===a?jl(b):kl(b)},Pba(a){vp(this.g).kk(a)},Qba(a){vp(this.g).lk(a)},Nba(a,b){const d=vp(this.g);d.kk(a);
d.lk(b)},Oba(a){if(a&&(a=Az(a))&&(a=a.C())){var b=vp(this.g);b.kk(a.Da());b.lk(a.Ea())}},CO(a,b,d){const c=vp(this.g);try{c.CO(a,b,d)}catch(e){console.warn("[Construct] Cannot add layer: ",e)}},LP(a,b,d){if(a){var c=vp(this.g);try{c.LP(a,b,d)}catch(e){console.warn("[Construct] Cannot move layer: ",e)}}},qQ(a){a&&vp(this.g).qQ(a)},PH(){vp(this.g).PH()},async aZ(a){const b=this.g.Pb();b&&a&&!this.g.Ph&&await AG(this,b,a.Oa?a.fp:[a])},async y9(a){await MG.B.yb.Sa.aZ.call(this,this.g.Hz.get(a.toLowerCase())||
null)},q0(a){const b=this.g.Pb();if(b&&a){a=a.Oa?a.fp:[a];for(const d of a)0===d.J.length&&aq(b,d)}},wea(a){MG.B.yb.Sa.q0.call(this,this.g.Hz.get(a.toLowerCase())||null)},xea(){const a=this.g.Pb();if(a){var b=[...a.Pi];for(const d of b)0===d.J.length&&aq(a,d)}},async w9(a){const b=this.g.Pb();a&&b&&!this.g.Ph&&await AG(this,b,[...a.$r])},async x9(a){const b=this.g.Pb();(a=Dq(this.g.hb,a))&&b&&!this.g.Ph&&await AG(this,b,[...a.$r])},yC(a){var b=this.qe.ID;if(b=0===b.length?null:b.at(-1))switch(b.lS){case 1:"number"===
typeof a&&b.yC(a);break;case 2:"string"===typeof a&&b.yC(a);break;case 3:b.yC(a)}},E9(a,b,d){var c=GG(this,a.toLowerCase(),!0);const e=c.FG,g=b.toLowerCase();e.has(g)&&console.warn(`[Construct] Function map '${a}' string '${b}' already in map; overwriting entry`);(c=MG.first(e.values())||c.oq)&&0!==c.Yk!==(0!==d.Yk)?console.error(`[Construct] Function map '${a}' string '${b}' function return type not compatible with other functions in the map; entry ignored`):e.set(g,d)},F9(a,b){const d=GG(this,a.toLowerCase(),
!0);d.oq&&console.warn(`[Construct] Function map '${a}' already has a default; overwriting entry`);const c=MG.first(d.FG.values())||d.oq;c&&0!==c.Yk!==(0!==b.Yk)?console.error(`[Construct] Function map '${a}' default: function return type not compatible with other functions in the map; entry ignored`):d.oq=b},l6(a,b,d){d=Math.floor(d);var c=GG(this,a.toLowerCase(),!1);if(c){var e=c.FG.get(b.toLowerCase());if(!e)if(c.oq)e=c.oq,d=0;else{console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; call ignored (consider setting a default)`);
return}if(e.Wb())if(0!==e.Yk)console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has a return type so cannot be called`);else{var g=this.g,k=g.Ca().$b();a=k.Kd();(b=0<a.length)&&(e.dh?Vv(a):Uv(a));c=[];if(k=ew(k)){k=k.Zg;for(let n=d,p=k.length;n<p;++n)c.push(k[n].ed())}d=e.Zg;for(let n=c.length,p=d.length;n<p;++n)c.push(d[n].yn);if(g.Lf)a=HG(e,c,b,a);else{d=e.we();var l=e.dh;e=d.Kd();g=0<e.length;k=d.qe;const n=d.g.Ca(),p=1<++n.Ge;p&&n.de.ab();dx(d.hf,c);g&&(l?Vv(e):Uv(e));c=
k.ab(d);ax(d,c)&&(c.Ef=d,Vw(d,c));k.Ya();p&&n.de.Ya();g&&Wv(e);--n.Ge;b&&Wv(a);a=void 0}return a}}else console.warn(`[Construct] Call mapped function: map name '${a}' not found; call ignored`)}};const TG=self.A;
TG.B.yb.rf={yga:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Vfa:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},ko(a){return a.toString()},ZA(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Nv()*a:this.g.Nv()*(b-a)+a},v3(...a){return a[Math.floor(this.g.Nv()*a.length)]},wfa(a,...b){"number"!==typeof a&&(a=0);a=TG.V(Math.floor(a),0,b.length-1);return b[a]},uha(){return Math.PI},wga(){return Infinity},
sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},round(a){return Math.round(a)},Wha(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(TG.ib(a))},cos(a){return Math.cos(TG.ib(a))},tan(a){return Math.tan(TG.ib(a))},asin(a){return TG.Vj(Math.asin(a))},acos(a){return TG.Vj(Math.acos(a))},atan(a){return TG.Vj(Math.atan(a))},exp(a){return Math.exp(a)},
l4(a){return Math.log(a)},log10(a){return Math.log10(a)},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b>e&&(b=e)}return b},V(a,b,d){return TG.V(a,b,d)},ci(a,b,d,c){return TG.uN(a,b,d,c)},angle(a,b,d,c){return TG.Vj(TG.kN(a,b,d,c))},qf(a,b,d){return TG.qf(a,b,d)},GG(a,b,d){return TG.GG(a,b,d)},zG(a,b,
d,c){return TG.zG(a,b,d,c)},cV(a,b,d,c,e){return TG.cV(a,b,d,c,e)},ZU(a,b,d){return TG.ZU(a,b,d)},jfa(a,b){return TG.Vj(TG.Xs(TG.ib(a),TG.ib(b)))},kfa(a,b,d){return TG.Vj(TG.iN(TG.ib(a),TG.ib(b),d))},lfa(a,b,d){return TG.Vj(TG.jN(TG.ib(a),TG.ib(b),TG.ib(d)))},gia(a,b,d){b|=0;return(a|0)&~(1<<b)|(0!==d?1:0)<<b},zia(a,b){return(a|0)^1<<(b|0)},pga(a,b){return(a|0)&1<<(b|0)?1:0},iha(){return"\n"},Hia(a){return"string"===typeof a?a.toUpperCase():""},bha(a){return"string"===typeof a?a.toLowerCase():""},
left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,d){return"string"!==typeof a?"":0>d?a.substr(b):a.substr(b,d)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},Aia(a,b,d){if("string"!==typeof a||"string"!==typeof d)return"";a=a.split(d);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Bia(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(TG.Gw(b),"i")):-1},Ufa(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(TG.Gw(b),"")):-1},replace(a,b,d){return"string"===typeof a&&"string"===typeof b&&"string"===typeof d?a.replace(new RegExp(TG.Gw(b),"gi"),d):"string"===typeof a?a:""},pia(a,...b){for(let d=0,c=b.length;d<c;++d)a=a.replaceAll(`{${d}}`,b[d].toString());return a},Hha(a,b,d){b=yG(b,d);return a?a.search(b):-1},Gha(a,b,d,c){b=yG(b,d);return a?a.replace(b,c):""},Fha(a,b,d){return(a=
zG(a.toString(),b,d))?a.length:0},Eha(a,b,d,c){c=Math.floor(c);a=zG(a.toString(),b,d);return!a||0>c||c>=a.length?"":a[c]},Zia(a,b){let d=0>a?"-":"";0>a&&(a=-a);d+="0".repeat(Math.max(b-a.toString().length,0));return d+a.toString()},Jia(a){return encodeURIComponent(a)},Iia(a){return decodeURIComponent(a)},wN(){return this.g.Fy},xia(){return this.g.Ud},Wia(){return(Date.now()-this.g.JF)/1E3},Fia(){return Date.now()},time(){return Rk(this.g)},tia(){return this.g.Qi},mha(){return this.g.ML},M3(){return this.g.Qu},
Afa(){return this.g.UE},qga(){return this.g.QB()},Yia(){return this.g.T.Wg},Xia(){return this.g.T.Vg},qha(){return this.g.Ji},pha(){return this.g.Ii},oha(){return this.g.Ji},nha(){return this.g.Ii},Yha(){return vp(this.g).wh()},Zha(){return vp(this.g).xh()},Wga(){return vp(this.g).fa()},Xga(){return vp(this.g).ge},Uga(){return TG.Vj(vp(this.g).Ra())},Yga(){return vp(this.g).M()},Vga(){return vp(this.g).K()},Lia(){return 100*Lo(vp(this.g))},Mia(){return 100*Mo(vp(this.g))},Qia(a){return(a=vp(this.g).Y(a))?
Jo(a).aa:0},Uia(a){return(a=vp(this.g).Y(a))?Jo(a).X:0},Tia(a){return(a=vp(this.g).Y(a))?Jo(a).la:0},Oia(a){return(a=vp(this.g).Y(a))?Jo(a).ga:0},Via(a){return(a=vp(this.g).Y(a))?Jo(a).width():0},Pia(a){return(a=vp(this.g).Y(a))?Jo(a).height():0},Ria(a){return(a=vp(this.g).Y(a))?(a=Jo(a),(a.aa+a.la)/2):0},Sia(a){return(a=vp(this.g).Y(a))?(a=Jo(a),(a.X+a.ga)/2):0},tfa(a,b,d){return(a=vp(this.g).Y(a))?Ho(a,b,d)[0]:0},ufa(a,b,d){return(a=vp(this.g).Y(a))?Ho(a,b,d)[1]:0},Nga(a,b,d){return(a=vp(this.g).Y(a))?
Vm(a,b,d)[0]:0},Oga(a,b,d){return(a=vp(this.g).Y(a))?Vm(a,b,d)[1]:0},Pga(a,b,d,c){const e=vp(this.g);a=e.Y(a);b=e.Y(b);if(!a||!b||a===b)return d;const [g,k]=Vm(a,d,c);return Ho(b,g,k)[0]},Qga(a,b,d,c){const e=vp(this.g);a=e.Y(a);b=e.Y(b);if(!a||!b||a===b)return c;const [g,k]=Vm(a,d,c);return Ho(b,g,k)[1]},Jga(a){return(a=vp(this.g).Y(a))?a.ge:0},Ega(a){return(a=vp(this.g).Y(a))?TG.Vj(a.Df):0},Gga(a){return(a=vp(this.g).Y(a))?100*a.ac():0},Kga(a){return(a=vp(this.g).Y(a))?a.Ej:0},Lga(a){return(a=vp(this.g).Y(a))?
a.wh():0},Mga(a){return(a=vp(this.g).Y(a))?a.xh():0},Hga(a){return(a=vp(this.g).Y(a))?100*a.ef:0},Iga(a){return(a=vp(this.g).Y(a))?100*a.ff:0},Rga(a){return(a=vp(this.g).Y(a))?a.jb():0},Fga(a){return(a=vp(this.g).Y(a))?a.Ha():-1},sfa(){const a=this.g.T;return a?a.gA:""},aha(a){var b=this.gh;if(!(0<=b.na))return 0;if(a){a:{const d=b.xb;for(b=b.na;0<=b;--b){const c=d[b];if(c.fa()===a){a=c;break a}}a=null}return a?a.Ha():0}return b.Bt().Ha()},Xha(){return this.g.ks},rfa(a,b,...d){var c=GG(this,a.toLowerCase(),
!1);if(!c)return console.warn(`[Construct] Call mapped function: map name '${a}' not found; returning 0`),0;let e=c.FG.get(b.toLowerCase());if(!e)if(c.oq)e=c.oq;else return console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=e.Yk;const g=jw(e);if(0===c)return console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),
0;if(!e.Wb())return g;a=this.g.Ca().$b().Kd();(b=0<a.length)&&(e.dh?Vv(a):Uv(a));var k=e.Zg;for(let l=d.length,n=k.length;l<n;++l)d.push(k[l].yn);k=e.we();d=k.TH(k.Kd(),e.dh,c,g,...d);b&&Wv(a);return d},$ga(){return this.g.cb.LE},uga(){return 0===this.Zr?1:this.Zy/this.Zr},qq(){return this.g.Jq()?"webgpu":"webgl"},Kha(){return this.g.Jq()?dj(this.g.Jq()):this.g.bx().GA},vga(){let a=this.g.ua().eH();return Math.round(100*a/1048576)/100},Lha(a,b,d){return TG.i_(a,b,d)},Oha(a,b,d){return TG.hQ(a/100,
b/100,d/100)},Mha(a,b,d,c){return TG.mC(a/100,b/100,d/100,c/100)},Pha(a,b,d){return TG.hQ(a/255,b/255,d/255)},Nha(a,b,d,c){return TG.mC(a/255,b/255,d/255,c/255)},zha(){return this.g.nF},Aha(){return this.g.KT},Efa(){return this.g.$b().md.fa()},Dfa(){return this.g.$b().Fu}};"use strict";const UG=self.A;UG.B.dc=class extends UG.Bl{constructor(a){super(a)}j(){super.j()}};const VG=self.A,WG=[];function XG(a){for(const b of al(a.L))YG(W(b))}
function ZG(a,b){b=EC(a.I(),b);const d=a.F();jC(b,0).Dd().Qq(d.ua(),{jc:d.Rb}).then(()=>XG(a))}function $G(a,b,d){var c=DC(a.L,b);if(!c)throw Error(`cannot find animation name '${b}'`);d=mC(c,d);0>d&&(d+=nm(c)+1);b=VG.nB.wB(a.F());kC(c,b,d);c=a.F();b.Dd().Qq(c.ua(),{jc:c.Rb}).then(()=>XG(a));for(const e of al(a.L))aH(W(e))}
VG.B.dc.Eh=class extends VG.Rm{constructor(a){super(a);this.Xc=a.Xc}j(){VG.G(this.Xc);super.j()}Vc(){for(const d of this.Xc){var a=d,b=this.g;for(const c of a.Qd)eC(c.Dd(),b)}}Qt(a){const b={jc:this.g.Rb};return Promise.all(this.Xc.map(d=>iC(d,a,b)))}Wq(){for(const a of this.Xc)for(const b of a.Qd)b.Dd().yl()}kC(){XG(this)}Kw(a){VG.B.dc.yX(this,a)}OG(){WG.push({ZN:null,$U:!1,TA:[]})}LG(){const a=WG.pop(),b=a.ZN,d=a.$U;if(b){var c=new Map;for(const e of a.TA)YC(e,c,b,d);for(const [e,g]of c)pv(e.ca(),
g)}}xe(){return self.tY}};const bH=new WeakMap;self.tY=class extends self.Lt{constructor(a){super(a);bH.set(this,a.wb)}};const cH=self.A,dH=self.fg,eH=cH.m(cH.Rect),fH=cH.m(cH.gd),gH=cH.m(cH.er);function YG(a){const b=a.Ee.Dd();a.$e=b.kc();a.FJ=b.bk();a.xy=b.WB();a.C().Eb(65536,!0)}function aH(a){if(!a.mn&&-1===a.wu){var b=a.Ee,d=jC(a.Fb,cH.V(a.Kb,0,nm(a.Fb)-1));b!==d&&hH(a,b,d);1<nm(a.Fb)&&0<a.wi&&a.Bf()}}
function iH(a,b){const d=a.Ee;var c=DC(a.L,a.mn);a.mn="";!c||c===a.Fb&&XC(a.$,2)||(a.Fb=c,WC(a.$,1,0<=c.Ks),a.wi=Math.abs(c.Ks),a.zu=c.UT,a.Kb=cH.V(a.Kb,0,nm(a.Fb)-1),1===a.uJ&&(a.Kb=0),WC(a.$,2,!0),a.Fk=a.Ro.U(),c=jC(a.Fb,a.Kb),hH(a,d,c,b))}function jH(a){const b=a.Ee;var d=a.Kb;a.Kb=cH.V(Math.floor(a.wu),0,nm(a.Fb)-1);a.wu=-1;d!==a.Kb&&(d=jC(a.Fb,a.Kb),hH(a,b,d),a.Fk=a.Ro.U())}
function kH(a,b){a.Kb=b?0:nm(a.Fb)-1;WC(a.$,2,!1);a.fJ=a.Fb.fa();WC(a.$,4,!0);a.Bq("animationend",!1,{animationName:a.fJ});a.da(cH.B.dc.H.mZ);a.da(cH.B.dc.H.lZ);WC(a.$,4,!1);a.Hl=0}
function hH(a,b,d,c){if(b!==d){var e=a.C(),g=b.Dd();b=d.Dd();var k=g.M();g=g.K();var l=b.M(),n=b.K();c&&c.v4?c.v4(e,k,g,l,n):(k!==l&&e.qg(e.M()*(l/k)),g!==n&&e.zh(e.K()*(n/g)));e.Qk=+d.$i();e.Rk=+d.aj();jE(e,d.zr);Sl(e);a.Ee=d;a.$e=b.kc();a.FJ=b.bk();a.xy=b.WB();d=a.ia().td;for(let p=0,r=d.length;p<r;++p);a.Bq("framechange",!1,{animationName:a.Fb.fa(),TU:a.Kb});a.da(cH.B.dc.H.CZ);a.g.Z()}}function lH(a){return a.mn?a.mn:a.Fb.fa()}
function mH(a,b){if("string"===typeof b)if(String(Number(b))===b)b=Number(b);else{const d=DC(a.L,lH(a));if(!d)return;b=lC(d,b);if(-1===b)return}isFinite(b)&&(a.wu=b,XC(a.$,4)||jH(a))}function nH(a,b){b=Math.floor(b);a=a.C();var d=PD(a);const c=d.ve.length/2;b===c&&(b=0);if(0>b||b>=c)return[0,0];d=d.ve;return[d[2*b]+a.Da(),d[2*b+1]+a.Ea()]}
cH.B.dc.Instance=class extends cH.YH{constructor(a,b){super(a);let d=!0,c="",e=0,g=!0;b&&(d=!!b[0],c=b[1],e=b[2],g=b[3]);this.Fb=DC(this.L,c)||this.L.Xc[0];this.Kb=cH.V(e,0,nm(this.Fb)-1);this.Ee=jC(this.Fb,this.Kb);b=this.Ee.Dd();this.$e=b.kc();this.FJ=b.bk();this.xy=b.WB();CB(this);WC(a,2,!0);WC(a,1,0<=this.Fb.Ks);this.wi=Math.abs(this.Fb.Ks);this.zu=this.Fb.UT;this.Ro=cH.m(cH.Pt);this.Hl=this.Fk=0;this.fJ="";this.wu=-1;this.mn="";this.uJ=0;a=this.C();this.D1=ND(a);a.Bh(d);hE(a,g);a.Qk=+this.Ee.$i();
a.Rk=+this.Ee.aj();jE(a,this.Ee.zr);Sl(a);1===this.L.Xc.length&&1===nm(this.L.Xc[0])||0===this.wi||this.Bf()}j(){this.Ro=this.$e=this.Ee=this.Fb=null;super.j()}hi(){return this.Ee.Dd()}mi(){return!0}Rt(){this.$e=null}bQ(){YG(this)}Zj(a){var b=this.$e;null!==b&&(a.Od(b),b=this.C(),vA(b)?this.DI(b,a):this.EI(b,a))}EI(a,b){let d=this.D1;this.g.Dn&&(d=iE(a,d));b.NH(d,this.xy)}DI(a,b){const d=kE(a);if(0!==(a.D&65536)){JD(a,eH,fH,!1);let c=fH;this.g.Dn&&(c=iE(a,c));Wf(d,wA(a),c,this.xy);a.Eb(65536,!1)}d.Zj(b)}Xe(){this.mn&&
iH(this);0<=this.wu&&jH(this);const a=this.wi;if(XC(this.$,2)&&0!==a){this.Ro.Bb(Qk(this.g,this.$));var b=this.Ro.U(),d=this.Ee,c=d.Gy/a;if(!(b<this.Fk+c)){var e=this.Fb,g=this.zu,k=nm(e),l=e.ji(),n=e.pp,p=e.DP();XC(this.$,1)?this.Kb++:this.Kb--;this.Fk+=c;this.Kb>=k&&(p?(WC(this.$,1,!1),this.Kb=k-2):n?this.Kb=g:(this.Hl++,this.Hl>=l?kH(this,!1):this.Kb=g));0>this.Kb&&(p?(this.Kb=1,WC(this.$,1,!0),n||(this.Hl++,this.Hl>=l&&kH(this,!0))):n?this.Kb=g:(this.Hl++,this.Hl>=l?kH(this,!0):this.Kb=g));this.Kb=
cH.V(this.Kb,0,k-1);c=jC(e,this.Kb);b>this.Fk+c.Gy/a&&(this.Fk=b);hH(this,d,c)}}else this.Zm()}kc(){return this.$e}bk(){return this.FJ}WB(){return this.xy}hH(){return this.Ee.hH()}ro(a){const b=this.Ee,d=this.C();if("string"===typeof a)a=b.AS.get(a.toLowerCase())||null;else if("number"===typeof a)a=Math.floor(a-1),a=0>a||a>=b.eE.length?null:b.eE[a];else throw new TypeError("expected string or number");let c=op(d);if(!a)return[d.Da(),d.Ea(),c];gH.xa(a.XL);if(vA(d)){const [e,g,k]=Zf(wA(d),gH.ma,gH.ea);
gH.set(e,g);c+=k}gH.offset(-b.$i(),-b.aj());gH.scale(d.M(),d.K());gH.rotate(d.Ra());gH.offset(d.Da(),d.Ea());return[gH.ma,gH.ea,c]}rd(){const a={a:this.Fb.fb};0!==this.Fk&&(a.fs=this.Fk);var b=this.Ro.U();0!==b&&(a.at=b);0!==this.Kb&&(a.f=this.Kb);0!==this.wi&&(a.cas=this.wi);1!==this.Hl&&(a.ar=this.Hl);0!==this.zu&&(a.rt=this.zu);XC(this.$,2)||(a.ap=XC(this.$,2));XC(this.$,1)||(a.af=XC(this.$,1));b=this.C();b.dk()&&(a.ce=b.dk());return a}zc(a){var b=this.I();if(!b.Xc)throw Error("no animations");
if(b=b.ju.get(a.a)||null)this.Fb=b;this.Fk=a.hasOwnProperty("fs")?a.fs:0;this.Ro.Set(a.hasOwnProperty("at")?a.at:0);b=a.hasOwnProperty("f")?a.f:0;this.Kb=cH.V(b,0,nm(this.Fb)-1);this.wi=a.hasOwnProperty("cas")?a.cas:0;this.Hl=a.hasOwnProperty("ar")?a.ar:1;b=a.hasOwnProperty("rt")?a.rt:0;this.zu=cH.V(b,0,nm(this.Fb)-1);b=a.hasOwnProperty("ap")?!!a.ap:!0;WC(this.$,2,b);b=a.hasOwnProperty("af")?!!a.af:!0;WC(this.$,1,b);this.Ee=b=jC(this.Fb,this.Kb);YG(this);const d=this.C();d.Qk=+b.$i();d.Rk=+b.aj();
jE(d,b.zr);hE(d,!!a.ce);XC(this.$,2)&&this.Bf()}dd(a){const b=this.C();switch(a){case 3:return b.dk();case 2:return cH.V(this.Kb,0,nm(this.Fb)-1);case 1:return this.Fb.fa()}}si(a,b,d){var c=this.C();switch(a){case 3:hE(c,!!b);break;case 2:WC(this.$,2,!1);a=nm(this.Fb)-1;c=b=cH.V(b,0,a);b=jC(this.Fb,this.Kb);const e=jC(this.Fb,c);hH(this,b,e,d);this.Kb=cH.V(c,0,a);break;case 1:this.mn=b,iH(this,d),1<nm(this.Fb)&&0<this.Fb.Ks?this.Bf():this.Zm()}}xe(){return self.mg}};const rH=new WeakMap;
self.mg=class extends self.kx{constructor(){super();rH.set(this,W(self.je.$t()))}get animation(){return rH.get(this).Fb.i2}get animationName(){return lH(rH.get(this))}set TU(a){dH.Ae(a);mH(rH.get(this),a)}get TU(){return rH.get(this).Kb}get imageWidth(){return rH.get(this).hi().M()}get imageHeight(){return rH.get(this).hi().K()}};const sH=self.A;
sH.B.dc.H={s8(a){return sH.pf(lH(this),a)},A6(a,b){return sH.compare(this.Kb,a,b)},B6(a,b){return"string"!==typeof b?!1:sH.compare(this.Ee.Wf.toLowerCase(),a,b.toLowerCase())},w6(a,b){return sH.compare(XC(this.$,1)?this.wi:-this.wi,a,b)},lZ(a){return sH.pf(this.fJ,a)},mZ(){return!0},CZ(){return!0},O8(){return 0>this.C().M()},G8(){return 0>this.C().K()},fQ(){return!0},d_(){return!0},dk(){return this.C().dk()}};const tH=self.A;
tH.B.dc.Sa={Eda(a,b,d,c,e){if(a&&b){var [g,k]=this.ro(d);if(d=cl(this.g,a,b,g,k,c,e))c&&no(b,d),a.Ia().Qm()&&(b=d.C(),b.Be(this.C().Ra()),Sl(b)),b=this.g.Ca(),dl(b,!0),el(d),dl(b,!1),a!==this.g.Nw().I()&&(b=WG.at(-1),b.ZN=a,b.$U=c,b.TA.push(d))}},W_(){WC(this.$,2,!1)},S_(a){WC(this.$,2,!0);this.Fk=this.Ro.U();1===a&&0!==this.Kb&&(this.wu=0,XC(this.$,4)||jH(this));this.Bf()},A_(a,b){this.mn=a;this.uJ=b;this.Bf();XC(this.$,4)||iH(this)},B_(a){mH(this,a)},C_(a){this.wi=Math.abs(a);WC(this.$,1,0<=a);
0<this.wi&&this.Bf()},Wba(a){a:{if("string"===typeof a&&(a=lC(this.Fb,a),-1===a))break a;this.zu=a=cH.V(Math.floor(a),0,nm(this.Fb)-1)}},s5(a,b){try{if(0===a)ZG(this.wb,b);else{var d=this.wb;for(const l of al(d.L)){var c=W(l);if(cH.pf(b,lH(c))){var e=FC(c.L).fa();c.mn=e;c.uJ=1;c.Bf();iH(c)}}var g=d.I();const k=DC(g,b);if(!k)throw Error(`animation name '${b}' does not exist`);if(1===g.Xc.length)throw Error("cannot remove last animation");g.Xc.splice(g.Xc.indexOf(k),1);g.iu.delete(k.fa().toLowerCase());
g.ju.delete(k.fb);k.j()}}catch(k){console.error(`[Construct] Error ${0===a?"adding":"removing"} animation: `,k)}},t5(a,b,d){try{if(0===a)$G(this.wb,b,d);else{var c=this.wb;const g=DC(c.L,b);if(!g)throw Error(`cannot find animation name '${b}'`);if(1===nm(g))throw Error(`cannot remove last frame from animation '${b}'`);var e=mC(g,d);0>e&&(e+=nm(g));b=g;e=Math.floor(e);if(0>e||e>=b.Qd.length)throw new RangeError("invalid frame");b.Qd[e].j();b.Qd.splice(e,1);for(const k of al(c.L))aH(W(k))}}catch(g){console.error(`[Construct] Error ${0===
a?"adding":"removing"} animation frame: `,g)}},Wca(a){const b=this.C(),d=b.M();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.qg(a),Sl(b))},lca(a){const b=this.C(),d=b.K();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.zh(a),Sl(b))},kI(a){const b=this.Ee.Dd(),d=this.C();var c=0>d.M()?-1:1;const e=0>d.K()?-1:1;c*=b.M()*a;a=b.K()*a*e;if(d.M()!==c||d.K()!==a)d.sd(c,a),Sl(d)},async B9(a,b){const d=this.Ee.Dd(),c=this.C(),e=this.g,g=this.wb;if(d.Jj===a)0===b&&(c.sd(d.M(),d.K()),Sl(c)),this.da(tH.B.dc.H.fQ);else{var k=tH.m(tH.cC);
try{if(k.nd)throw Error("already loaded asset");k.Jj=a;const l={};$B.dC(a)&&(l.vw="remote");eC(k,e,l);await In(k.nd);if(!k.zH())throw Error("image failed to load");if(this.Jo()){k.j();return}await k.Qq(e.ua(),{jc:e.Rb})}catch(l){console.error("Load image from URL failed: ",l);this.Jo()||this.da(tH.B.dc.H.d_);return}if(this.Jo())k.j();else{if(k===d)throw Error("cannot replace with self");d.hK++;d.yl();d.Jj=k.Jj;d.im=k.im;d.ss=k.ss;d.ts=k.ts;d.P=k.P;d.S=k.S;d.rp=k.rp;d.Uy=k.Uy;d.nd=k.nd;d.lm=k.lm;d.Mi=
k.Mi;d.Bs=k.Bs;cC(d);XG(g);g.I().Ua().dispatchEvent(new tH.Event("animationframeimagechange"));e.Z();0===b&&(c.sd(d.M(),d.K()),Sl(c));await this.Wc(tH.B.dc.H.fQ)}}},aca(a){hE(this.C(),a)},lI(a,b){this.C().lI(0===a,b)},F_(a){this.C().Ce(a);this.g.Z()}};
self.A.B.dc.rf={H5(){return this.Kb},J5(){return this.Ee.Wf},I5(){return nm(this.Fb)},K5(){return this.Fb.fa()},L5(){return XC(this.$,1)?this.wi:-this.wi},v$(){return this.Fb.Ks},i8(a){return this.ro(a)[0]},j8(a){return this.ro(a)[1]},k8(a){return this.ro(a)[2]},h8(){return this.hH()},l8(){return this.hi().M()},g8(){return this.hi().K()},caa(a){return nH(this,a)[0]},daa(a){return nH(this,a)[1]},baa(){return PD(this.C()).ve.length/2}};"use strict";const uH=self.A;uH.B.Ig=class extends uH.Bl{constructor(a){super(a)}j(){super.j()}};
const vH=self.A;vH.B.Ig.Eh=class extends vH.Rm{constructor(a){super(a)}j(){super.j()}Vc(){}};const wH=self.A;async function xH(a,b,d,c){console.error(`[Construct] AJAX request to '${d}' (tag '${b}') failed: `,c);a.Ml=b;await a.Wc(wH.B.Ig.H.oZ);a.Ml=b;await a.Wc(wH.B.Ig.H.yZ)}async function yH(a,b){a.Ml=b;await a.Wc(wH.B.Ig.H.RP);a.Ml=b;await a.Wc(wH.B.Ig.H.uZ)}async function zH(a,b,d){d.lengthComputable&&(a.$L=d.loaded/d.total,a.Ml=b,await a.Wc(wH.B.Ig.H.WZ))}
function AH(a,b,d,c){if(a.AE){var e=a.uT,g=a.tT+d;e.existsSync(g)?e.readFile(g,{encoding:"utf8"},(k,l)=>{k?xH(a,b,d,k):(a.up=l.replace(/\r\n/g,"\n"),yH(a,b))}):xH(a,b,d,c)}else xH(a,b,d,c)}async function BH(a,b,d){const c=a.g.cb,e=a.Fz;a.Fz=null;try{if(e){const g=await xn(c,d,"buffer");e.D_(g);a.up=""}else a.up=(await xn(c,d,"text")).replace(/\r\n/g,"\n");a.sz=0;yH(a,b)}catch(g){xH(a,b,d,g)}}
function CH(a,b,d,c,e){return new Promise(g=>{const k=n=>{AH(a,b,d,n);g()},l=a.Fz;a.Fz=null;try{const n=new XMLHttpRequest;n.onreadystatechange=()=>{if(4===n.readyState){a.up=l?"":(n.responseText||"").replace(/\r\n/g,"\n");a.sz=n.status;if(400<=n.status)xH(a,b,d,n.status+n.statusText);else{const p=a.up.length||l&&n.response instanceof ArrayBuffer;a.AE&&!p||!a.AE&&0===n.status&&!p||(l&&l.D_(n.response),yH(a,b))}g()}};n.onerror=k;n.ontimeout=k;n.onabort=k;n.onprogress=p=>zH(a,b,p);n.open(c,d);0<=a.bq&&
"undefined"!==typeof n.timeout&&(n.timeout=a.bq);n.responseType=l?"arraybuffer":"text";e&&!a.ZE.has("Content-Type")&&("string"!==typeof e?n.setRequestHeader("Content-Type","application/octet-stream"):n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));for(const [p,r]of a.ZE)try{n.setRequestHeader(p,r)}catch(w){console.error(`[Construct] AJAX: Failed to set header '${p}: ${r}': `,w)}a.ZE.clear();if(a.$E){try{n.overrideMimeType(a.$E)}catch(p){console.error("[Construct] AJAX: failed to override MIME type: ",
p)}a.$E=""}a.IL&&(n.withCredentials=!0,a.IL=!1);e?n.send(e):n.send()}catch(n){k(n)}})}
wH.B.Ig.Instance=class extends wH.Zq{constructor(a){super(a);this.up="";this.sz=0;this.Ml="";this.$L=0;this.bq=-1;this.ZE=new Map;this.Fz=null;this.$E="";this.IL=!1;this.tT=this.vT=this.uT=null;if(this.AE="nwjs"===this.g.Bk)this.uT=require("fs"),this.vT=require("path"),this.tT=this.vT.dirname((self.process||nw.process).execPath)+"\\"}j(){super.j()}rd(){return{lastData:this.up,lastStatusCode:this.sz}}zc(a){this.up=a.lastData;this.sz=a.hasOwnProperty("lastStatusCode")?a.lastStatusCode:0;this.Ml="";
this.$L=0}};const DH=self.A;DH.B.Ig.H={uZ(a){return DH.pf(this.Ml,a)},RP(){return!0},yZ(a){return DH.pf(this.Ml,a)},oZ(){return!0},WZ(a){return DH.pf(this.Ml,a)}};const EH=self.A;
EH.B.Ig.Sa={async Request(a,b){qF(this.g)&&EH.Oq(b)&&this.g.cb.Cn?await BH(this,a,b):this.g.Ao()&&EH.Oq(b)?(b=vn(this.g.cb,b),await CH(this,a,b,"GET",null)):await CH(this,a,b,"GET",null)},async Faa(a,b){qF(this.g)&&this.g.cb.Cn?await BH(this,a,b):await CH(this,a,vn(this.g.cb,b),"GET",null)},async haa(a,b,d,c){await CH(this,a,b,c,d)},async iaa(a,b,d,c){d&&(d=Az(d,this.$))&&(d=W(d).E7(),await CH(this,a,b,c,d))},ida(a){this.bq=1E3*a},vca(a,b){this.ZE.set(a,b)},dda(a){a&&(a=Az(a,this.$))&&(this.Fz=W(a))},
x$(a){this.$E=a},yda(a){this.IL=!!a}};self.A.B.Ig.rf={YY(){return this.up},m9(){return this.sz},o_(){return this.$L},Tag(){return this.Ml}};"use strict";const FH=self.A;FH.B.qb=class extends FH.Bl{constructor(a){super(a)}j(){super.j()}};const GH=self.A;GH.B.qb.Eh=class extends GH.Rm{constructor(a){super(a)}j(){super.j()}Vc(){}};const HH=self.A;async function IH(a,b){b=!!b.isOnline;a.jz!==b&&(a.jz=b,a.jz?await a.Wc(HH.B.qb.H.PZ):await a.Wc(HH.B.qb.H.NZ))}
async function JH(a){await a.Wc(HH.B.qb.H.sZ)}
HH.B.qb.Instance=class extends HH.Zq{constructor(a){super(a,"browser");this.Wl="";this.jz=!1;this.RR=this.ST="";this.HS=!1;this.cN=this.ZT=this.$T=0;this.ez=!1;this.JR=new Map;this.RK=!1;this.bz="";this.aL=!1;xB(this,[["online-state",b=>IH(this,b)],["backbutton",()=>JH(this)],["sw-message",b=>{b=b.type;"downloading-update"===b?this.da(HH.B.qb.H.e_):"update-ready"===b||"update-pending"===b?this.da(HH.B.qb.H.f_):"offline-ready"===b&&this.da(HH.B.qb.H.OZ)}],["hashchange",b=>{this.Wl=b.location;this.da(HH.B.qb.H.DZ)}],
["install-available",()=>{this.RK=!0;this.da(HH.B.qb.H.FZ)}],["app-installed",()=>{this.RK=!1;this.da(HH.B.qb.H.rZ)}]]);a=this.F().Ua();this.bf=new HH.tt(HH.cd.Yd(a,"afterfirstlayoutstart",()=>{yB(this,"ready-for-sw-messages")}),HH.cd.Yd(a,"window-resize",()=>this.OI()),HH.cd.Yd(a,"suspend",()=>this.Rx()),HH.cd.Yd(a,"resume",()=>this.Qx()));OF(this.g,zB(this,"get-initial-state",{exportType:this.g.Bk}).then(b=>{this.Wl=b.location;this.jz=b.isOnline;this.ST=b.referrer;this.RR=b.title;this.HS=b.isCookieEnabled;
this.$T=b.screenWidth;this.ZT=b.screenHeight;this.cN=b.windowOuterWidth;this.ez=b.isConstructArcade}))}j(){super.j()}async OI(){await this.Wc(HH.B.qb.H.XZ)}Rx(){this.da(HH.B.qb.H.QZ)}Qx(){this.da(HH.B.qb.H.RZ)}};
self.A.B.qb.H={X8(){return this.jz},PZ(){return!0},NZ(){return!0},XZ(){return!0},O6(){return this.HS},I8(){return this.g.T.gs},sZ(){return!0},b9(a){return(this.g.T.Nj<=this.g.T.Mj?0:1)===a},e_(){return!0},f_(){return!0},OZ(){return!0},DZ(){return!0},FZ(){return!0},J8(){return this.RK},GZ(a){switch(a){case 0:return"accepted"===this.bz;case 1:return"dismissed"===this.bz;case 2:return"error"===this.bz;case 3:return!0;default:return!1}},rZ(){return!0},z6(a){const b=this.g.T.tD;switch(a){case 0:return"browser"===
b;case 1:return"minimal-ui"===b;case 2:return"standalone"===b;case 3:return"fullscreen"===b;default:return!1}},h9(){return this.aL},y$(){return!this.g.Bo()},QZ(){return!0},RZ(){return!0},T7(){return!1},D8(){return!1},i$(){return!1},k$(){return!1},N8(){return!1},y8(){return!0},Vda(){return!0}};const KH=self.A,LH="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");
KH.B.qb.Sa={A5(a){yB(this,"alert",{message:a.toString()})},r6(){this.ez||(this.g.Hb?self.di.s6():yB(this,"close"))},x7(){yB(this,"set-focus",{isFocus:!0})},e6(){yB(this,"set-focus",{isFocus:!1})},N7(){this.ez||yB(this,"navigate",{type:"back"})},O7(){this.ez||yB(this,"navigate",{type:"forward"})},P7(){},zaa(){if(!this.ez)if(this.g.Hb){var a=this.g;if(!a.Hb)throw Error("not in debug mode");Uc(a,"runtime","post-to-debugger",{type:"reload"})}else yB(this,"navigate",{type:"reload"})},bY(a,b){AB(this,"navigate",
{type:"url",url:a,target:b,exportType:this.g.Bk})},R7(a,b){AB(this,"navigate",{type:"new-window",url:a,tag:b,exportType:this.g.Bk})},Gaa(a,b){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=ZE(a);var d=this.g.T;if(!HE.has(a))throw Error("invalid fullscreen mode");d.SR=a;a=d.g.hb;Fq(a);Gq(a);AB(this,"request-fullscreen",{navUI:b})},m6(){AB(this,"exit-fullscreen")},Gea(a){a=a.split(",");for(let b=0,d=a.length;b<d;++b)a[b]=parseInt(a[b],10);AB(this,"vibrate",{pattern:a})},async tH(a,b){a&&b&&(a=await An(this.g.cb,
a),this.g.tH(a,b))},r8(a,b,d){d&&(a=`data:${b},${encodeURIComponent(a)}`,this.g.tH(a,d))},N6(a,b){b=b.toString();0===a?console.log(b):1===a?console.warn(b):2===a&&console.error(b)},L6(a){console.group(a)},M6(){console.groupEnd()},k7(a){try{eval(a)}catch(b){console.error("Error executing JavaScript: ",b)}},D9(a){a=Math.floor(a);0>a||a>=LH.length||AB(this,"lock-orientation",{orientation:LH[a]})},yea(){AB(this,"unlock-orientation")},JP(a){this.g.cb.JP(a)},async fca(a,b,d,c){await zB(this,"set-document-css-style",
{prop:KH.SG(a),value:b,selector:d,"is-all":0!==c})},async I7(a,b,d){a=await zB(this,"get-document-css-style",{prop:a,selector:b});a.isOk&&this.JR.set(d.toLowerCase(),a.result.trim())},uca(a){yB(this,"set-hash",{hash:a})},xda(a,b){yB(this,"set-window-size",{windowWidth:a,windowHeight:b})},wda(a,b){yB(this,"set-window-position",{windowX:a,windowY:b})},async Iaa(){this.bz=(await zB(this,"request-install")).result;this.da(KH.B.qb.H.GZ)},uda(a){a=!!a;this.aL!==a&&(this.aL=a,yB(this,"set-warn-on-close",
{enabled:a}))}};
self.A.B.qb.rf={URL(){return this.g.fd()?this.Wl:location.toString()},oaa(){return this.g.fd()?(new URL(this.Wl)).protocol:location.protocol},a7(){return this.g.fd()?(new URL(this.Wl)).hostname:location.hostname},gaa(){return this.g.fd()?(new URL(this.Wl)).port:location.port},A$(){return this.g.fd()?(new URL(this.Wl)).pathname:location.pathname},W7(){return this.g.fd()?(new URL(this.Wl)).hash:location.hash},pC(){return this.g.fd()?(new URL(this.Wl)).search:location.search},saa(a){const b=this.g.fd()?
(new URL(this.Wl)).search:location.search;return(a=RegExp("[?&]"+a+"=([^&]*)").exec(b))?decodeURIComponent(a[1].replace(/\+/g," ")):""},waa(){return this.ST},iea(){return this.RR},k9(){return navigator.language},W(){return navigator.platform},Cea(){return navigator.userAgent},j7(a){let b=0;try{b=eval(a)}catch(d){console.error("Error executing JavaScript: ",d)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},k6(a){return this.JR.get(a)||""},Q9(){return navigator.appName},
Fea(){return navigator.appVersion},naa(){return navigator.product},Eea(){return navigator.vendor},a6(){return 1},b6(){return Infinity},Z5(){const a=navigator.connection;return a?a.downlink||a.downlinkMax||a.bandwidth||Infinity:Infinity},ConnectionType(){const a=navigator.connection;return a?a.type||"unknown":"unknown"},W6(){return self.devicePixelRatio},Mba(){return this.$T},Lba(){return this.ZT},Yea(){return this.g.T.Nj},Xea(){return this.g.T.Mj},$ea(){return this.cN},Zea(){return this.cN},Z6(){return this.g.T.tD},
n8(){return this.bz}};"use strict";const MH=self.A;MH.B.Keyboard=class extends MH.Bl{constructor(a){super(a)}j(){super.j()}};const NH=self.A;NH.B.Keyboard.Eh=class extends NH.Rm{constructor(a){super(a)}j(){super.j()}Vc(){}xe(){return self.lY}};self.lY=class extends self.Lt{constructor(a){super(a);a.F().Cr.keyboard=this}};const OH=self.A;function PH(a){for(const b of a.mv)a.mv.delete(b),a.om=b,a.da(OH.B.Keyboard.H.SP),a.da(OH.B.Keyboard.H.VP),a.da(OH.B.Keyboard.H.UP);a.lv.clear()}
OH.B.Keyboard.Instance=class extends OH.Zq{constructor(a){super(a);this.lv=new Set;this.mv=new Set;this.om=0;this.BA=this.TF="";a=this.F().Ua();this.bf=new OH.tt(OH.cd.Yd(a,"keydown",b=>{var d=b.data;b=d.which;const c=d.code||b.toString();d=d.key;this.lv.has(c)||(this.lv.add(c),this.mv.add(b),this.TF=c,this.om=b,this.BA=d,this.da(OH.B.Keyboard.H.pZ),this.da(OH.B.Keyboard.H.HZ),this.da(OH.B.Keyboard.H.KZ),this.da(OH.B.Keyboard.H.IZ))}),OH.cd.Yd(a,"keyup",b=>{var d=b.data;b=d.which;const c=d.code||
b.toString();d=d.key;this.lv.delete(c);this.mv.delete(b);this.TF=c;this.om=b;this.BA=d;this.da(OH.B.Keyboard.H.SP);this.da(OH.B.Keyboard.H.VP);this.da(OH.B.Keyboard.H.LZ);this.da(OH.B.Keyboard.H.UP)}),OH.cd.Yd(a,"window-blur",()=>PH(this)),OH.cd.Yd(a,"keyboard-blur",()=>PH(this)))}j(){super.j()}AP(a){return this.lv.has(a)}rd(){return{tk:this.om,tkk:this.BA}}zc(a){this.om=a.tk;a.hasOwnProperty("tkk")&&(this.BA=a.tkk)}};const QH="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");
self.A.B.Keyboard.H={AP(a){return this.mv.has(a)},HZ(a){return this.om===a},pZ(){return!0},SP(){return!0},VP(a){return this.om===a},K8(a){a=Math.floor(a);return this.mv.has(a)},IZ(a){return this.om===a},UP(a){return this.om===a},KZ(a){return this.TF===QH[a]},LZ(a){return this.TF===QH[a]},L8(a){return this.lv.has(QH[a])}};self.A.B.Keyboard.Sa={};
function RH(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";
case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";
case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.A.B.Keyboard.rf={l9(){return this.om},Lda(a){return RH(a)},pea(){return this.BA}};"use strict";const SH=self.A;SH.B.qd=class extends SH.Bl{constructor(a){super(a)}j(){super.j()}};const TH=self.A;TH.B.qd.Eh=class extends TH.Rm{constructor(a){super(a)}j(){super.j()}Vc(){}xe(){return self.pY}};self.pY=class extends self.Lt{constructor(a){super(a);a.F().Cr.UN=this}};const UH=self.A;let VH=null;function WH(a,b,d){XH(a,b,d,1,0);XH(a,b,d,4,1);XH(a,b,d,2,2);XH(a,b,d,8,3);XH(a,b,d,16,4)}
function XH(a,b,d,c,e){!(b&c)&&d&c?(a.vr[e]=!0,a.da(UH.B.qd.H.nZ),a.Qs=e,a.UF=0,a.da(UH.B.qd.H.HH),a.da(UH.B.qd.H.$P)):b&c&&!(d&c)&&a.vr[e]&&(a.vr[e]=!1,a.Qs=e,a.da(UH.B.qd.H.aQ))}function YH(a,b){var d=a.g.Pb(),c=a.Cp;a=a.Dp;if("undefined"===typeof b){b=xp(d,0);d=b.ge;const e=b.Ej,g=b.ef,k=b.ff,l=b.Df;b.ge=1;b.Ej=1;b.ef=1;b.ff=1;b.Df=0;ro(b);c=Ho(b,c,a);b.ge=d;b.Ej=e;b.ef=g;b.ff=k;b.Df=l;ro(b);return c}return(b=d.Y(b))?Ho(b,c,a):[0,0]}
function ZH(a){var b;if(b=0<=a.Cp&&0<=a.Dp)b=a.g,b=a.Cp<(b.T?b.T.Yc:0);b&&(b=a.g,b=a.Dp<(b.T?b.T.Nc:0));return b}async function $H(a,b){if(!UH.W.yo&&b){var d=Az(b);d&&(b=d.C(),d=d.hi(),b&&d&&VH!==d&&(VH=d,b=`url(${await gC(d)}) ${Math.round(b.$i()*d.M())} ${Math.round(b.aj()*d.K())}, auto`,yB(a,"cursor",b)))}}function aI(a,b){a.aE!==b&&(a.aE=b,a.aE?a.da(UH.B.qd.H.UZ):a.da(UH.B.qd.H.VZ))}
UH.B.qd.Instance=class extends UH.Zq{constructor(a){super(a,"mouse");this.vr=[!1,!1,!1,!1,!1];this.OU=this.NU=this.MU=this.vU=this.UF=this.Qs=this.Dp=this.Cp=0;this.aE=!1;this.BL=this.AL=0;xB(this,[["pointer-lock-change",b=>{aI(this,b["has-pointer-lock"])}],["pointer-lock-error",b=>{aI(this,b["has-pointer-lock"]);this.da(UH.B.qd.H.TZ)}]]);a=this.F().Ua();this.bf=new UH.tt(UH.cd.Yd(a,"pointermove",b=>{b=b.data;this.AL=b.movementX;this.BL=b.movementY;this.da(UH.B.qd.H.ZP);this.BL=this.AL=0;"mouse"===
b.pointerType&&(this.Cp=b.pageX-this.g.IB(),this.Dp=b.pageY-this.g.JB(),WH(this,b.lastButtons,b.buttons))}),UH.cd.Yd(a,"pointerdown",b=>{b=b.data;"mouse"===b.pointerType&&(this.Cp=b.pageX-this.g.IB(),this.Dp=b.pageY-this.g.JB(),WH(this,b.lastButtons,b.buttons))}),UH.cd.Yd(a,"pointerup",b=>{b=b.data;"mouse"===b.pointerType&&WH(this,b.lastButtons,b.buttons)}),UH.cd.Yd(a,"dblclick",b=>{this.Qs=b.data.button;this.UF=1;this.da(UH.B.qd.H.HH);this.da(UH.B.qd.H.$P)}),UH.cd.Yd(a,"wheel",b=>{b=b.data;this.vU=
0>b.deltaY?1:0;this.MU=b.deltaX;this.NU=b.deltaY;this.OU=b.deltaZ;this.da(UH.B.qd.H.h_)}),UH.cd.Yd(a,"window-blur",()=>this.NI()))}j(){super.j()}NI(){for(let a=0,b=this.vr.length;a<b&&this.vr[a];++a)this.vr[a]=!1,this.Qs=a,this.da(UH.B.qd.H.aQ)}};const bI=self.A;
bI.B.qd.H={HH(a,b){return this.Qs===a&&this.UF===b},nZ(){return!0},IY(a){return this.vr[a]},aQ(a){return this.Qs===a},NY(a){const b=this.g.tf().oj,d=[];ZH(this)&&d.push([this.Cp,this.Dp]);return bI.xor(CE(this.g.vk,a,d,b),b)},$P(a,b,d){return a===this.Qs&&b===this.UF&&ZH(this)?CE(this.g.vk,d,[[this.Cp,this.Dp]],!1):!1},h_(a){return 2===a||this.vU===a},UZ(){return!0},VZ(){return!0},TZ(){return!0},U7(){return this.aE},ZP(){return!0}};const cI="auto pointer text crosshair move help wait none".split(" ");
self.A.B.qd.Sa={bca(a){a=cI[a];VH!==a&&(VH=a,yB(this,"cursor",a))},cca(a){$H(this,a)},Jaa(){AB(this,"request-pointer-lock")},yaa(){yB(this,"release-pointer-lock")}};self.A.B.qd.rf={ZQ(a){return YH(this,a)[0]},$Q(a){return YH(this,a)[1]},b5(){return this.Cp},c5(){return this.Dp},N9(){return this.AL},O9(){return this.BL},Rea(){return this.MU},Sea(){return this.NU},Tea(){return this.OU}};"use strict";const dI=self.A,eI=[];dI.B.Audio=class extends dI.Bl{constructor(a){super(a)}yI(a){eI.push(a)}j(){super.j()}};
const fI=self.A;fI.B.Audio.Eh=class extends fI.Rm{constructor(a){super(a)}j(){super.j()}Vc(){}xe(){return self.iY}};self.iY=class extends self.Lt{constructor(a){super(a)}};const gI=self.A,hI=["interactive","balanced","playback"];function bt(a){return null!==a.g.wd?"running":a.hJ}async function iI(a,b){const d=b.type;a.LM=b.tags;b=b.aiid;if("ended"===d){for(const c of a.Th)if(c.aiid===b){c.isPlaying=!1;break}await a.Wc(gI.B.Audio.H.xZ)}else"fade-ended"===d&&await a.Wc(gI.B.Audio.H.zZ)}
function jI(a,b){return a.VR?b.split(" ").filter(d=>!!d):b?[b]:[]}function kI(a,b){for(const d of b){b=!1;for(const c of a)if(gI.pf(c,d)){b=!0;break}if(!b)return!1}return!0}function lI(a,b){b=jI(a,b);for(const d of a.Th)if(kI(d.tags,b))return d;return null}function mI(a,b){const d=jI(a,b);return a.Th.some(c=>kI(c.tags,d)&&c.isPlaying)}
function nI(a,b,d,c,e,g){if(mI(a,d))return null;const k=a.CR.get(b);b={tags:jI(a,d),duration:k?k.duration:0,volume:g,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:b,bufferUrl:"",bufferType:"",isMusic:c,isLooping:e,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};a.Th.push(b);return b}
function oI(a){return a.Th.filter(b=>-1!==b.uid).map(b=>Jr(a.g,b.uid)).filter(b=>b).map(b=>{const d=b.C(),c=d.Y().Ra(),[e,g]=pI(d.Da(),d.Ea(),-c,a.Nf[0],a.Nf[1]);return{uid:b.Ob,x:e,y:g,z:op(d),angle:d.Ra()-c}})}function pI(a,b,d,c,e){if(0===d)return[a,b];const g=Math.sin(d);d=Math.cos(d);a-=c;b-=e;const k=a*g;a=a*d-b*g;b=b*d+k;return[a+c,b+e]}function qI(a,b,d){for(const c of a.HE)if(c.index===d&&gI.pf(c.tag,b))return c;return null}
function rI(a,b){for(const d of jI(a,b))b=d.toLowerCase(),a.ED.set(b,(a.ED.get(b)||0)+1)}
gI.B.Audio.Instance=class extends gI.Zq{constructor(a,b){super(a,"audio");this.Hi=0;this.LM=[];this.VR=!0;this.Yz=this.qU=0;this.xs=!1;this.QR=this.FT=1;this.Nf=[this.g.Zf/2,this.g.Qe/2,600];this.yp=[0,0,-1];this.zp=[0,1,0];this.OT=600;this.hT=1E4;this.WT=1;this.uj=null;this.SE=-1;this.zv=1;this.Sh=!1;this.XT=0;this.hJ="suspended";this.NL=0;this.ED=new Map;this.YL=this.ZL=0;this.CR=new Map;this.Nn=new Map;a="interactive";b&&(this.qU=b[0],this.Yz=b[1],this.xs=b[2],a=hI[b[3]],this.VR=b[4],this.FT=b[5],
this.QR=b[6],this.Nf[2]=b[7],this.OT=b[8],this.hT=b[9],this.WT=b[10]);this.Th=[];this.ov=[];this.HE=[];xB(this,[["state",g=>this.MI(g)],["audiocontext-state",g=>{this.hJ=g.audioContextState}],["fxstate",g=>{this.ov=g.fxstate}],["trigger",g=>iI(this,g)],["buffer-metadata",g=>{this.CR.set(g.originalUrl,{duration:g.duration})}]]);b=this.F().Ua();this.bf=new gI.tt(gI.cd.Yd(b,"instancedestroy",g=>{this.uj===g.instance&&(this.uj=null)}),gI.cd.Yd(b,"afterload",()=>this.tg()),gI.cd.Yd(b,"suspend",()=>this.Rx()),
gI.cd.Yd(b,"resume",()=>this.Qx()));b="Safari"===gI.W.qb;const d=this.g.D2,c=this.g.cb.Cn,e=b&&17.5<=gI.W.QG||d&&17.5<=parseFloat(gI.W.Sq);b=(b||d)&&(!e||c);OF(this.g,zB(this,"create-audio-context",{preloadList:Hn(this.g.cb).map(g=>({originalUrl:g.w4,url:g.url,type:g.type,fileSize:g.fileSize})),timeScaleMode:this.qU,latencyHint:a,panningModel:this.FT,distanceModel:this.QR,refDistance:this.OT,maxDistance:this.hT,rolloffFactor:this.WT,listenerPos:this.Nf,usePlayMusicAsSoundWorkaround:b}).then(g=>{this.XT=
g.sampleRate;this.hJ=g.audioContextState;this.NL=g.outputLatency}));this.Bf()}j(){this.uj=null;super.j()}yI(a){this.Ia().yI(a)}xt(a){return Math.pow(10,a/20)}Cd(a){a=this.xt(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}DH(a){return Math.log(a)/Math.log(10)*20}CH(a){return this.DH(Math.max(Math.min(a,1),0))}Rx(){this.xs||yB(this,"set-suspended",{isSuspended:!0})}Qx(){this.xs||yB(this,"set-suspended",{isSuspended:!1})}MI(a){const b=a.tickCount;this.NL=a.outputLatency;const d=this.Th.filter(c=>
c.hasOwnProperty("placeholder")&&(c.placeholder>b||-1===c.placeholder));this.Th=a.audioInstances;this.HE=a.analysers;0<d.length&&gI.ym(this.Th,d)}Xe(){const a={timeScale:this.g.Ud,gameTime:this.g.Ry.U(),instPans:oI(this),tickCount:this.g.$p};if(this.uj){const b=this.uj.C();this.Nf[0]=b.Da();this.Nf[1]=b.Ea();a.listenerPos=this.Nf;a.listenerOrientation=[...this.yp,...this.zp]}yB(this,"tick",a)}rd(){return{isSilent:this.Sh,masterVolume:this.zv,listenerZ:this.Nf[2],listenerForwardVec:this.yp,listenerUpVec:this.zp,
listenerUid:this.uj?this.uj.Ob:-1,remoteUrls:[...this.Nn.entries()],playing:this.Th.filter(a=>a.hasOwnProperty("placeholder")||3===this.Yz?!1:a.isMusic&&1===this.Yz?!1:a.isMusic||2!==this.Yz?!0:!1),effects:this.ov,analysers:this.HE}}zc(a){this.Sh=a.isSilent;this.zv=a.masterVolume;this.Nf[2]=a.listenerZ;this.uj=null;this.SE=a.listenerUid;a.hasOwnProperty("listenerForwardVec")?this.yp=a.listenerForwardVec:this.yp=[0,0,-1];a.hasOwnProperty("listenerUpVec")?this.zp=a.listenerUpVec:this.zp=[0,1,0];this.Nn.clear();
if(a.remoteUrls)for(const [b,d]of a.remoteUrls)this.Nn.set(b,d);this.Th=a.playing;for(const b of this.Th)b.hasOwnProperty("tag")&&!b.hasOwnProperty("tags")&&(b.tags=[b.tag].filter(d=>!!d));this.ov=a.effects;this.HE=a.analysers}tg(){if(-1!==this.SE&&(this.uj=Jr(this.g,this.SE),this.SE=-1,this.uj)){var a=this.uj.C();this.Nf[0]=a.Da();this.Nf[1]=a.Ea()}for(var b of this.Th)(a=Gn(this.g.cb,b.bufferOriginalUrl))?(b.bufferUrl=a.url,b.bufferType=a.type):b.bufferUrl=null;for(const d of Object.values(this.ov))for(const c of d)c.hasOwnProperty("bufferOriginalUrl")&&
(b=Gn(this.g.cb,c.bufferOriginalUrl))&&(c.bufferUrl=b.url,c.bufferType=b.type);yB(this,"load-state",{saveLoadMode:this.Yz,timeScale:this.g.Ud,gameTime:this.g.Ry.U(),listenerPos:this.Nf,listenerOrientation:[...this.yp,...this.zp],isSilent:this.Sh,masterVolume:this.zv,playing:this.Th.filter(d=>null!==d.bufferUrl),effects:this.ov})}};
self.A.B.Audio.H={xZ(a){return kI(this.LM,jI(this,a))},zZ(a){return kI(this.LM,jI(this,a))},laa(){return this.YL===this.ZL},z5(){return!0},d9(){return this.Sh},FY(){for(const a of this.Th)if(a.isPlaying)return!0;return!1},RY(a){return mI(this,a)}};const sI=self.A,tI="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
sI.B.Audio.Sa={Play(a,b,d,c,e){a=sI.B.Audio.Sa.cR.call(this,a,b,d,c,e);this.yI(a);return a},jQ(a,b,d,c){sI.B.Audio.Sa.cR.call(this,a,0,b,0,d,c)},async cR(a,b,d,c,e,g){if(!this.Sh){var k=a[1],l=Gn(this.g.cb,a[0]);if(l){var n=this.Hi;this.Hi=0;var p=nI(this,a[0],e,k,0!==b,this.Cd(d));try{await zB(this,"play",{originalUrl:a[0],url:l.url,type:l.type,isMusic:k,tags:jI(this,e),isLooping:0!==b,vol:this.Cd(d),stereoPan:sI.V(c/100,-1,1),pos:g||0,off:n,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&
(p.placeholder=this.g.$p)}}}},async Z$(a,b,d,c,e,g,k,l,n,p,r){if(!this.Sh){var w=a[1],x=Gn(this.g.cb,a[0]);if(x){var z=this.Hi;this.Hi=0;var F=nI(this,a[0],r,w,0!==b,this.Cd(d));try{await zB(this,"play",{originalUrl:a[0],url:x.url,type:x.type,isMusic:w,tags:jI(this,r),isLooping:0!==b,vol:this.Cd(d),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:e,z:g,angle:sI.ib(k),innerAngle:sI.ib(l),outerAngle:sI.ib(n),outerGain:this.Cd(p)}})}finally{F&&(F.placeholder=this.g.$p)}}}},async X$(a,
b,d,c,e,g,k,l){if(!this.Sh&&c&&(c=Az(c))&&c.C()){var n=c.C(),p=n.Y().Ra(),[r,w]=pI(n.Da(),n.Ea(),-p,this.Nf[0],this.Nf[1]),x=a[1],z=Gn(this.g.cb,a[0]);if(z){var F=this.Hi;this.Hi=0;var D=nI(this,a[0],l,x,0!==b,this.Cd(d));try{await zB(this,"play",{originalUrl:a[0],url:z.url,type:z.type,isMusic:x,tags:jI(this,l),isLooping:0!==b,vol:this.Cd(d),pos:0,off:F,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:w,z:op(n),angle:n.Ra()-p,innerAngle:sI.ib(e),outerAngle:sI.ib(g),outerGain:this.Cd(k),
uid:c.Ob}})}finally{D&&(D.placeholder=this.g.$p)}}}},async aaa(a,b,d,c,e,g){if(!this.Sh){a=1===a;var k=Gn(this.g.cb,b)||this.Nn.get(b.toLowerCase());if(k){var l=this.Hi;this.Hi=0;var n=nI(this,b,g,a,0!==d,this.Cd(c));try{await zB(this,"play",{originalUrl:b,url:k.url,type:k.type,isMusic:a,tags:jI(this,g),isLooping:0!==d,vol:this.Cd(c),stereoPan:sI.V(e/100,-1,1),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.$p)}}}},async $$(a,b,d,c,e,g,k,l,n,p,r,w){if(!this.Sh){a=
1===a;var x=Gn(this.g.cb,b)||this.Nn.get(b.toLowerCase());if(x){var z=this.Hi;this.Hi=0;var F=nI(this,b,w,a,0!==d,this.Cd(c));try{await zB(this,"play",{originalUrl:b,url:x.url,type:x.type,isMusic:a,tags:jI(this,w),isLooping:0!==d,vol:this.Cd(c),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:g,z:k,angle:sI.ib(l),innerAngle:sI.ib(n),outerAngle:sI.ib(p),outerGain:this.Cd(r)}})}finally{F&&(F.placeholder=this.g.$p)}}}},async Y$(a,b,d,c,e,g,k,l,n){if(!this.Sh&&!this.Sh&&e&&(e=
Az(e))&&e.C()){var p=e.C(),r=p.Y().Ra(),[w,x]=pI(p.Da(),p.Ea(),-r,this.Nf[0],this.Nf[1]);a=1===a;var z=Gn(this.g.cb,b)||this.Nn.get(b.toLowerCase());if(z){var F=this.Hi;this.Hi=0;var D=nI(this,b,n,a,0!==d,this.Cd(c));try{await zB(this,"play",{originalUrl:b,url:z.url,type:z.type,isMusic:a,tags:jI(this,n),isLooping:0!==d,vol:this.Cd(c),pos:0,off:F,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:w,y:x,z:op(p),angle:p.Ra()-r,innerAngle:sI.ib(g),outerAngle:sI.ib(k),outerGain:this.Cd(l),uid:e.Ob}})}finally{D&&
(D.placeholder=this.g.$p)}}}},L_(a,b){yB(this,"set-looping",{tags:jI(this,a),isLooping:0===b})},eI(a,b){yB(this,"set-muted",{tags:jI(this,a),isMuted:0===b})},Sm(a,b){yB(this,"set-volume",{tags:jI(this,a),vol:this.Cd(b)})},p7(a,b,d,c){yB(this,"fade-volume",{tags:jI(this,a),vol:this.Cd(b),duration:d,stopOnEnd:0===c})},hda(a,b){yB(this,"set-stereo-pan",{tags:jI(this,a),p:sI.V(b/100,-1,1)})},async jaa(a){const b=a[1],d=Gn(this.g.cb,a[0]);d&&(this.ZL++,await zB(this,"preload",{originalUrl:a[0],url:d.url,
type:d.type,isMusic:b}),this.YL++)},async kaa(a,b){a=1===a;const d=Gn(this.g.cb,b)||this.Nn.get(b.toLowerCase());d&&(this.ZL++,await zB(this,"preload",{originalUrl:b,url:d.url,type:d.type,isMusic:a}),this.YL++)},Qg(a,b){yB(this,"set-playback-rate",{tags:jI(this,a),rate:Math.max(b,0)})},hd(a){yB(this,"stop",{tags:jI(this,a)})},V_(){yB(this,"stop-all")},Zca(a,b){yB(this,"set-paused",{tags:jI(this,a),paused:0===b})},Rba(a,b){yB(this,"seek",{tags:jI(this,a),pos:b})},eda(a){2===a&&(a=this.Sh?1:0);a=0===
a;this.Sh!==a&&(this.Sh=a,yB(this,"set-silent",{isSilent:a}))},Uca(a){a=this.Cd(a);this.zv!==a&&(this.zv=a,yB(this,"set-master-volume",{vol:a}))},j5(a,b,d,c,e,g,k){b=tI[b];rI(this,a);yB(this,"add-effect",{type:"filter",tags:jI(this,a),params:[b,d,c,e,g,sI.V(k/100,0,1)]})},g5(a,b,d,c){rI(this,a);yB(this,"add-effect",{type:"delay",tags:jI(this,a),params:[b,this.Cd(d),sI.V(c/100,0,1)]})},k5(a,b,d,c,e,g){rI(this,a);yB(this,"add-effect",{type:"flanger",tags:jI(this,a),params:[b/1E3,d/1E3,c,e/100,sI.V(g/
100,0,1)]})},q5(a,b,d,c,e,g,k){rI(this,a);yB(this,"add-effect",{type:"phaser",tags:jI(this,a),params:[b,d,c,e,g,sI.V(k/100,0,1)]})},f5(a,b,d,c){const e=Gn(this.g.cb,b[0]);e&&(rI(this,a),yB(this,"add-effect",{type:"convolution",tags:jI(this,a),bufferOriginalUrl:b[0],bufferUrl:e.url,bufferType:e.type,params:[0===d,sI.V(c/100,0,1)]}))},m5(a,b){rI(this,a);yB(this,"add-effect",{type:"gain",tags:jI(this,a),params:[this.Cd(b)]})},v5(a,b){rI(this,a);yB(this,"add-effect",{type:"stereopan",tags:jI(this,a),
params:[sI.V(b/100,-1,1)]})},p5(a){rI(this,a);yB(this,"add-effect",{type:"gain",tags:jI(this,a),params:[0]})},w5(a,b,d){rI(this,a);yB(this,"add-effect",{type:"tremolo",tags:jI(this,a),params:[b,sI.V(d/100,0,1)]})},u5(a,b,d){rI(this,a);yB(this,"add-effect",{type:"ringmod",tags:jI(this,a),params:[b,sI.V(d/100,0,1)]})},h5(a,b,d,c,e,g){rI(this,a);yB(this,"add-effect",{type:"distortion",tags:jI(this,a),params:[this.xt(b),this.xt(d),c,this.xt(e),sI.V(g/100,0,1)]})},e5(a,b,d,c,e,g){rI(this,a);yB(this,"add-effect",
{type:"compressor",tags:jI(this,a),params:[b,d,c,e/1E3,g/1E3]})},d5(a,b,d){rI(this,a);yB(this,"add-effect",{type:"analyser",tags:jI(this,a),params:[b,d]})},Aaa(a){a=jI(this,a);for(const b of a)this.ED.set(b.toLowerCase(),0);yB(this,"remove-effects",{tags:a});this.ov={}},yx(a,b,d,c,e,g){yB(this,"set-effect-param",{tags:jI(this,a),index:Math.floor(b),param:d,value:c,ramp:e,time:g})},Rca(a){a&&(a=Az(a))&&a.C()&&(this.uj=a)},Tca(a){this.Nf[2]=a},Sca(a,b,d,c,e,g){this.yp[0]=a;this.yp[1]=b;this.yp[2]=-d;
this.zp[0]=c;this.zp[1]=e;this.zp[2]=-g},Kba(a){this.Hi=Math.max(a,0)},uea(a){const b=a[1];(a=Gn(this.g.cb,a[0]))&&yB(this,"unload",{url:a.url,type:a.type,isMusic:b})},vea(a,b){a=1===a;(b=Gn(this.g.cb,b)||this.Nn.get(b.toLowerCase()))&&yB(this,"unload",{url:b.url,type:b.type,isMusic:a})},tea(){yB(this,"unload-all")},r5(a,b,d){this.Nn.set(d.toLowerCase(),{url:a,type:b})}};
self.A.B.Audio.rf={kX(a){return(a=lI(this,a))?a.duration:0},kQ(a){return(a=lI(this,a))?a.playbackTime:0},IH(a){return(a=lI(this,a))?a.playbackRate:0},VQ(a){return(a=lI(this,a))?this.CH(a.volume):0},H9(){return this.CH(this.zv)},c7(a){return this.ED.get(a.toLowerCase())||0},D5(a,b){return(a=qI(this,a,Math.floor(b)))?a.binCount:0},C5(a,b,d){a=qI(this,a,Math.floor(b));if(!a)return 0;d=Math.floor(d);return 0>d||d>=a.binCount?0:a.freqBins[d]},E5(a,b){return(a=qI(this,a,Math.floor(b)))?a.peak:0},F5(a,b){return(a=
qI(this,a,Math.floor(b)))?a.rms:0},Jba(){return this.XT},U6(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3},w$(){return this.NL}};"use strict";const uI=self.A;function vI(a){a&&a.close&&a.close()}
uI.B.video=class extends uI.w_{constructor(a){super(a);this.IT=!1;this.DM={};this.XS=-1;this.LA=new Map;OF(this.g,Sk(this.g,"video","init",{isInWorker:this.g.fd()}).then(b=>{this.IT=b.postImageBitmaps;this.DM=b.supportedFormats}));uB(this,"playback-event",(b,d)=>wI(b,d));Gm(this.g,"video","state",b=>this.MI(b))}j(){super.j()}MI(a){const b=a.sequenceNumber;if(b<=this.XS)for(const d of Object.values(a.videoData))vI(d.imageBitmap);else{this.XS=b;for(const d of this.LA.values())vI(d.imageBitmap);this.LA.clear();
for(const [d,c]of Object.entries(a.videoData))this.LA.set(parseInt(d,10),c)}}};const xI=self.A;xI.B.video.Eh=class extends xI.Rm{constructor(a){super(a)}j(){super.j()}Vc(){}};const yI=self.A,zI=yI.m(yI.Rect),AI=yI.m(yI.gd),BI="webm-vp8 webm-vp9 webm-av1 mp4-h264 mp4-h265 mp4-av1".split(" ");async function wI(a,b){b=b.type;5===b?CI(a,!0):2===b?(CI(a,!1),a.YD=!0,a.BE=!1):6===b&&(CI(a,!1),a.BE=!0,a.YD=!1);a.NR=b;await a.Wc(yI.B.video.H.SZ)}
function DI(a){let b="";const d=a.Ia();d.DM[a.mF]&&a.Sz?b=a.Sz:d.DM[a.zF]&&a.$z&&(b=a.$z);return b?yI.Oq(b)?zn(a.g.cb,b):b:b}function EI(a){a.um&&(a.g.ua().uh(a.um),a.um=null)}function CI(a,b){a.Rh=!!b;a.Rh?(a.Bf(),a.BE=!1,a.YD=!1):a.Zm()}function FI(a){return a.Ia().LA.get(a.bp)||null}
yI.B.video.Instance=class extends yI.v_{constructor(a,b){super(a);this.Sz="";this.mF="mp4-h264";this.$z="";this.zF="webm-vp9";this.wR=2;this.YM=this.xs=!1;this.um=null;this.NR=-1;this.VK=this.pp=this.YD=this.BE=this.Rh=!1;this.gl=0;b&&(this.Sz=b[0],this.mF=BI[b[1]],this.$z=b[2],this.zF=BI[b[3]],this.wR=b[4],this.xs=b[5],this.C().Bh(b[6]));a=this.g.Ua();this.bf=new yI.tt(yI.cd.Yd(a,"renderercontextlost",()=>this.du()),yI.cd.Yd(a,"suspend",()=>this.Rx()),yI.cd.Yd(a,"resume",()=>this.Qx()));HB(this,
{src:DI(this),autoplay:this.wR})}j(){this.Ia().LA.delete(this.bp);EI(this);super.j()}dP(){return{}}xt(a){return Math.pow(10,a/20)}Cd(a){a=this.xt(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}DH(a){return Math.log(a)/Math.log(10)*20}CH(a){return this.DH(Math.max(Math.min(a,1),0))}du(){this.um=null}Rx(){!this.xs&&this.Rh&&(this.YM=!0,AA(this,"pause"))}Qx(){!this.xs&&this.YM&&(AA(this,"play"),this.YM=!1)}Zj(a){const b=this.C();var d=this.Ia().IT;if(d){var c=FI(this);if(!c)return;var e=c.imageBitmap;
c.imageBitmap=null;var g=c.videoWidth;c=c.videoHeight}else{e=self.C3Video_GetElement(this.bp);if(!e)return;g=e.videoWidth;c=e.videoHeight}if(!(0>=g||0>=c)){a:{var k=g,l=c;if(this.um){if(this.um.M()===k||this.um.K()===l)break a;EI(this)}this.um=a.ut(k,l,{jc:this.g.Rb,Cm:!1})}e&&(a.uI(e,this.um),d&&e.close&&e.close());l=g/c;g=b.M();d=b.K();e=c=0;g/d>l?(k=d*l,l=d,c=Math.max(Math.floor((g-k)/2),0)):(k=g,l=g/l,e=Math.max(Math.floor((d-l)/2),0));a.Od(this.um);jc(zI,b.Da()+c,b.Ea()+e,k,l);AI.dg(zI);a.gd(AI)}}Xe(){this.g.Z()}};
self.A.B.video.H={IsPlaying(){return this.Rh},Nt(){return this.BE},S7(){return this.YD},Q8(){return this.VK},SZ(a){return this.NR===a}};const GI="webm-vp8 webm-vp9 webm-av1 mp4-h264 mp4-h265 mp4-av1".split(" ");
self.A.B.video.Sa={fda(a,b){this.Sz=a;this.mF="webm-vp8";this.$z=b;this.zF="mp4-h264";AA(this,"set-source",{src:DI(this)});EI(this)},gda(a,b,d,c){this.Sz=a;this.mF=GI[b];this.$z=d;this.zF=GI[c];AA(this,"set-source",{src:DI(this)});EI(this)},ada(a){AA(this,"set-playback-time",{time:a})},Qg(a){AA(this,"set-playback-rate",{rate:a})},L_(a){a=0!==a;this.pp!==a&&(this.pp=a,AA(this,"set-looping",{isLooping:a}))},eI(a){a=0!==a;this.VK!==a&&(this.VK=a,AA(this,"set-muted",{isMuted:a}))},Sm(a){this.gl!==a&&
(this.gl=a,AA(this,"set-volume",{volume:this.Cd(a)}))},B$(){AA(this,"pause")},Play(){Yl(this,"play")}};self.A.B.video.rf={kQ(){const a=FI(this);return a?a.currentTime:0},IH(){const a=FI(this);return a?a.playbackRate:1},kX(){const a=FI(this);return a?a.duration:0},VQ(){return this.gl},Iea(){const a=FI(this);return a?a.videoWidth:0},Hea(){const a=FI(this);return a?a.videoHeight:0}};"use strict";const HI=self.A;HI.B.Text=class extends HI.Bl{constructor(a){super(a)}j(){super.j()}};const II=self.A;
II.B.Text.Eh=class extends II.Rm{constructor(a){super(a)}j(){super.j()}Vc(){}Qt(){}Wq(){}};const JI=self.A,KI=self.fg,LI=[0,0,0],MI=["left","center","right"],NI=["top","center","bottom"],OI=["ltr","rtl"],PI=new JI.Rect,QI=new JI.gd;new JI.gb;const RI=JI.m(JI.er),SI=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]);
function TI(a,b){b&&(b.Oa||b.Ia().constructor!==JI.B.dc)||b===a.yg||(a.yg&&a.yg.Ua().removeEventListener("animationframeimagechange",a.vR),a.yg=b,a.yg&&a.yg.Ua().addEventListener("animationframeimagechange",a.vR),UI(a),a.iz=!1,a.g.Z())}
function UI(a){const b=a.sb;b.Go(a.wc);var d=a.Pl;d=!!d;b.Mh!==d&&(b.Mh=d,d=b.Mh?"alphabetic":"top",b.bd&&(b.bd.textBaseline=d),b.xj&&(b.xj.textBaseline=d),ch(b));a.sb.Mh&&a.yg?a.sb.Ax(hG(a.F(),a.yg)):a.sb.Ax(null);d="nearest"!==a.g.Rb;d=!!d;b.tK!==d&&(b.tK=d,b.Jr=!0);lh(b,a.Rl);b.aI(a.Zl);mh(b,a.Nh);nh(b,a.Oh);b.hk(a.rb);qh(b,MI[a.Di]);rh(b,NI[a.nh]);d=a.co?"word":"character";if(!$g.has(d))throw Error("invalid word wrap mode");b.dN!==d&&(b.dN=d,ch(b));b.LQ(OI[a.jh])}
function VI(a){if(a.sF){let b=a.wc;a.Pl&&(b=b.replace(fe,""));a.Qn?a.Qn.Go(b):a.Qn=JI.m(JI.z_,a.g,b)}else a.Qn&&(a.Qn.j(),a.Qn=null)}function WI(a){a.ew=-1;a.pm=-1;a.CA=0;oh(a.sb,-1);a.Zm()}function XI(a){const b=a.C();a.sb.xC(a.em);var d=a.sb;if(b.vf()){var c=b.Ga;c=Math.min(jD(c),kD(c))}else c=1;d.OD!==c&&(d.OD=c,ch(d));d=b.Y();d=d.Gt()*No(d,op(b));vA(b)&&d!==a.sb.iw&&b.Eb(65536,!0);a.sb.sd(b.M(),b.K(),d)}
function YI(a){const b=a.Ub-Math.round(a.Ub),d=a.Vb-Math.round(a.Vb);if(0===b&&0===d)return a;QI.xa(a);QI.offset(-b,-d);return QI}function ZI(a,b){a.wc!==b&&(a.wc=b,a.sb.Go(b),VI(a),a.iz=!1,a.g.Z())}function $I(a,b){a.Rl!==b&&(a.Rl=b,lh(a.sb,b),a.g.Z())}function aJ(a,b){a.Zl!==b&&(a.Zl=b,UI(a),a.g.Z())}function bJ(a,b){b=!!b;a.Nh!==b&&(a.Nh=b,mh(a.sb,b),a.g.Z())}function cJ(a,b){b=!!b;a.Oh!==b&&(a.Oh=b,nh(a.sb,b),a.g.Z())}function dJ(a,b){a.Di!==b&&(a.Di=b,UI(a),a.g.Z())}
function eJ(a,b){a.nh!==b&&(a.nh=b,UI(a),a.g.Z())}function fJ(a,b){b=!!b;a.co!==b&&(a.co=b,UI(a),a.g.Z())}function gJ(a,b,d){XI(a);var c=a.C();RI.set(b-c.Da(),d-c.Ea());RI.rotate(-c.Ra());RI.offset(c.M()*c.$i(),c.K()*c.aj());RI.il(c.M(),c.K());RI.scale(a.sb.M(),a.sb.K());a:{c=a.sb;a=RI.ma;b=RI.ea;sh(c);d=ph(c);c=c.Oj.tj;for(e of c)if(c=e.Tl*d,b>=e.Np-e.K()*d+c&&b<e.Np+c)for(const g of e.pq())if(a>=g.Mp&&a<g.Mp+g.M()*d){var e=g;break a}e=null}return e&&(e=Ce(e,"tag"))?e.bg:""}
function hJ(a,b,d){XI(a);d=Math.floor(d);a:{var c=a.sb;for(var e of vh(c,b)){if(0===d){b=e;break a}--d}b=null}var g=b;if(!g)return null;b=a.C();const k=ph(a.sb);c=g.Mp;e=g.Np-(g.K()-g.Tl)*k;d=g.M()*k/a.sb.M()*b.M();g=g.K()*k/a.sb.K()*b.K();RI.set(c,e);RI.il(a.sb.M(),a.sb.K());RI.scale(b.M(),b.K());RI.offset(-b.M()*b.$i(),-b.K()*b.aj());RI.rotate(b.Ra());RI.offset(b.Da(),b.Ea());return{x:RI.ma,y:RI.ea,width:d,height:g}}
function iJ(a){a=SI.get(a);if(null===a)return"";a||(a="span");return`</${a||"span"}>`}
function jJ(a,b){let d=SI.get(a);if(null===d)return"";d||(d="span");switch(a){case "color":return`<${d} style="color: ${b}">`;case "font":return`<${d} style="font-family: '${b}'">`;case "opacity":return`<${d} style="opacity: ${b}%">`;case "size":return`<${d} style="font-size: ${b}pt">`;case "background":return`<${d} style="background-color: ${b}">`;case "hide":return`<${d} style="visibility: hidden">`;case "class":return`<${d} class="${b}">`;case "tag":return`<${d} data-tag="${b}">`;default:return`<${d}>`}}
async function kJ(a){if(a.iz)return a.cE;var b=ne(new JI.wq(a.wc));const d=new Map;let c='<span class="c3-text"';var e=[];e.push(`font-family: '${a.Rl}';`);a.Nh&&e.push("font-weight: bold;");a.Oh&&e.push("font-style: italic;");a.co||e.push("word-break: break-all;");c+=` style="${e.join(" ")}">`;e=a.yg?hG(a.F(),a.yg):null;if(a.yg){var g=JI.m(JI.ox),k=[];const w=new Map;for(var l of b)if(l.xo()){const x=re(l,e);if(x){const z=x.hA.Dd().nd;w.has(z)||(w.set(z,null),k.push(g.Bb(async()=>{const F=await Pn(z);
w.set(z,F)})))}}await Promise.all(k);l=[];for(var n of b)if(n.xo()){const x=re(n,e);if(x){const z=x.hA,F=z.Dd().nd;l.push(g.Bb(async()=>{const D=await gC(z.Dd(),w.get(F));d.set(x,D)}))}}await Promise.all(l);for(var p of w.values())p instanceof ImageBitmap&&p.close&&p.close()}n=new Map;for(var r of b){l=De(r);b=[...n.keys()];b.reverse();for(const w of b)l.has(w)&&l.get(w)===n.get(w)||(n.delete(w),c+=iJ(w));for(const [w,x]of l)n.has(w)||(n.set(w,x),c+=jJ(w,x));r.ng()&&(c+=JI.ri(JI.TO(r.vg.join("")),
"\n","<br>"));if(r.xo()&&e&&(b=re(r,e))&&(p=d.get(b))){g=[];k="0.2em";if(l=l.get("iconoffsety"))l=l.trim(),k=l.endsWith("%")?parseFloat(l)/100+"em":l+"px";g.push(`top: ${k}`);"nearest"===a.g.Rb&&g.push("image-rendering: pixelated");c+=`<img class="c3-text-icon" data-icon="${r.Yy}" width="${b.M()}" height="${b.K()}" style="${g.join(";")}" src="${p}">`}}r=[...n.keys()];r.reverse();for(const w of r)c+=iJ(w);a.cE=c+"</span>";a.iz=!0;return a.cE}
JI.B.Text.Instance=class extends JI.YH{constructor(a,b){super(a);this.wc="";this.Pl=!0;this.Rl="Arial";this.em=12;this.Zl=0;this.Oh=this.Nh=!1;this.rb=JI.m(JI.gb);this.nh=this.Di=0;this.co=!0;this.jh=0;this.yg=null;this.cE="";this.sF=this.iz=!1;this.Qn=null;this.pm=this.ew=-1;this.CA=0;this.sb=JI.m(JI.R.rC,this.g.ua(),{timeout:5});this.sb.xG=()=>this.g.Z();this.vR=()=>{He(this.g.Tn,this.yg);this.g.Z();this.VL=!0};this.VL=!1;b&&(this.wc=b[0],this.Pl=!!b[1],this.Rl=b[2],this.em=b[3],this.Zl=b[4],this.Nh=
!!b[5],this.Oh=!!b[6],this.Di=b[8],this.nh=b[9],this.co=0===b[10],this.jh=b[11],TI(this,gq(this.g,b[12])),a=b[7],Wb(this.rb,a[0],a[1],a[2]),this.C().Bh(b[13]),this.sF=!!b[15]);UI(this);VI(this)}j(){TI(this,null);WI(this);this.Qn&&(this.Qn.j(),this.Qn=null);this.sb.j();this.sb=null;super.j()}Zj(a){var b=this.C();XI(this);this.VL&&(this.VL=!1,this.sb.Mh&&this.yg&&this.sb.Ax(hG(this.F(),this.yg)));const d=this.sb.kc();if(d){var c=b.Y();if(0===b.Ra()&&0===c.Ra()&&0===op(b)&&!vA(b)&&Po(c)){b=ND(b);const [k,
l]=qp(c,b.Ub,b.Vb),[n,p]=qp(c,b.Lc,b.Mc);b=k-Math.round(k);var e=l-Math.round(l);PI.set(k,l,n,p);PI.offset(-b,-e);QI.dg(PI);const [r,w]=a.Ht(a.bj());b=this.g.T;e=r;var g=w;e=e||b.ud;g=g||b.ld;const x=e/2+b.V1,z=g/2+b.W1;let F=b.AD;if(e!==b.ud||g!==b.ld)Cf(a,KE,e/g),F=KE;a.Dl(F);b=Ef(a,x,z,a.Te(g),x,z,g);a.cr(b);a.Od(d);a.xl(QI,this.sb.bk());fp(c,a)}else a.Od(d),vA(b)?this.DI(b,a):this.EI(b,a)}}EI(a,b){a=ND(a);this.g.Dn&&(a=YI(a));b.xl(a,this.sb.bk())}DI(a,b){const d=kE(a);if(0!==(a.D&65536)){JD(a,
PI,QI,!1);let c=QI;this.g.Dn&&(c=YI(c));Wf(d,wA(a),c,this.sb.bk());a.Eb(65536,!1)}d.Zj(b)}MB(){const a=this.sb.kc();return a?[a.M(),a.K()]:[100,100]}NB(){return this.sb.bk()}eC(){return!1}rd(){const a={t:this.wc,c:this.rb.toJSON(),fn:this.Rl,ps:this.em};this.Pl&&(a.bbc=this.Pl);0!==this.Di&&(a.ha=this.Di);0!==this.nh&&(a.va=this.nh);this.co||(a.wr=this.co);0!==this.Zl&&(a.lho=this.Zl);this.Nh&&(a.b=this.Nh);this.Oh&&(a.i=this.Oh);-1!==this.pm&&(a.tw={st:this.ew,en:this.pm,l:this.CA});this.yg&&(a.ioc=
this.yg.fb);return a}zc(a){WI(this);this.wc=a.t;fc(this.rb,a.c);this.Rl=a.fn;this.em=a.ps;this.Pl=a.hasOwnProperty("bbc")?a.bbc:!1;this.Di=a.hasOwnProperty("ha")?a.ha:0;this.nh=a.hasOwnProperty("va")?a.va:0;this.co=a.hasOwnProperty("wr")?a.wr:!0;this.Zl=a.hasOwnProperty("lho")?a.lho:0;this.Nh=a.hasOwnProperty("b")?a.b:!1;this.Oh=a.hasOwnProperty("i")?a.i:!1;if(a.hasOwnProperty("tw")){const b=a.tw;this.ew=b.st;this.pm=b.en;this.CA=b.l}a.hasOwnProperty("ioc")?(a=gq(this.F(),a.ioc))&&TI(this,a):TI(this,
null);UI(this);VI(this);this.iz=!1;-1!==this.pm&&this.Bf()}dd(a){switch(a){case 0:return this.wc;case 1:return this.Pl;case 2:return this.Rl;case 3:return this.em;case 4:return this.Zl;case 5:return this.Nh;case 6:return this.Oh;case 7:return LI[0]=this.rb.$a,LI[1]=this.rb.eb,LI[2]=this.rb.Za,LI;case 8:return this.Di;case 9:return this.nh;case 10:return this.co?1:0;case 15:return this.sF}}si(a,b){switch(a){case 0:ZI(this,b);break;case 1:if(this.Pl===!!b)break;this.Pl=!!b;UI(this);break;case 2:$I(this,
b);break;case 3:this.em!==b&&(this.em=b,this.g.Z());break;case 4:aJ(this,b);break;case 5:bJ(this,b);break;case 6:cJ(this,b);break;case 7:a=this.rb;if(a.$a===b[0]&&a.eb===b[1]&&a.Za===b[2])break;Wb(this.rb,b[0],b[1],b[2]);UI(this);break;case 8:dJ(this,b);break;case 9:eJ(this,b);break;case 10:fJ(this,0===b)}}Xe(){var a=this.g.NA.U();a>=this.pm?(WI(this),this.da(JI.B.Text.H.eQ),this.g.Z()):(a=JI.F4(this.ew,this.pm,a,this.CA),a=Math.floor(a),a!==this.sb.Kr&&(oh(this.sb,a),this.g.Z()))}xe(){return self.qH}};
const lJ=new WeakMap,mJ=new Map([["top",0],["center",1],["bottom",2]]);self.qH=class extends self.kx{constructor(){super();lJ.set(this,W(self.je.$t()))}get text(){return lJ.get(this).wc}set text(a){KI.ke(a);const b=lJ.get(this);WI(b);ZI(b,a)}set lineHeight(a){KI.Ae(a);aJ(lJ.get(this),a)}get lineHeight(){return lJ.get(this).Zl}set verticalAlign(a){KI.ke(a);a=mJ.get(a);if("undefined"===typeof a)throw Error("invalid mode");eJ(lJ.get(this),a)}get verticalAlign(){return NI[lJ.get(this).nh]}};
const nJ=self.A;nJ.B.Text.H={F6(a,b){return b?this.wc===a:nJ.pf(this.wc,a)},c9(){return-1!==this.pm},eQ(){return!0},V7(a,b,d){return(b=gJ(this,b,d))&&JI.pf(a,b)}};const oJ=self.A,pJ=oJ.m(oJ.gb);
oJ.B.Text.Sa={Go(a){WI(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);ZI(this,a.toString())},M5(a){WI(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&ZI(this,this.wc+a)},l0(a,b){WI(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();XI(this);ZI(this,a);this.ew=this.g.NA.U();this.pm=this.ew+b/Fl(this.ia());b=this.sb;sh(b);a=0;for(const d of b.Oj.tj)for(const c of d.pq())a+=c.Vw();this.CA=a;oh(this.sb,0);this.Bf()},oca(a,b){let d=
!1,c=!1;switch(b){case 1:d=!0;break;case 2:c=!0;break;case 3:c=d=!0}if(a!==this.Rl||d!==this.Nh||c!==this.Oh)$I(this,a),bJ(this,d),cJ(this,c)},xC(a){this.em!==a&&(this.em=a,this.g.Z())},nca(a){cc(pJ,a);pJ.V();$b(this.rb,pJ)||(Yb(this.rb,pJ),this.sb.hk(this.rb),this.g.Z())},vda(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},F_(a){this.C().Ce(a);this.g.Z()},qea(){-1!==this.pm&&(WI(this),this.da(JI.B.Text.H.eQ),this.g.Z())},aI(a){aJ(this,a)},I_(a){dJ(this,
a)},qda(a){eJ(this,a)},zda(a){fJ(this,0===a)},LQ(a){this.jh!==a&&(this.jh=a,UI(this),this.g.Z())},o6(a){TI(this,a)},Aea(){return kJ(this)},cda(a){this.sF=!!a;VI(this)}};
self.A.B.Text.rf={Text(){return this.wc},W$(){return this.Pl?this.wc.replace(fe,""):this.wc},l7(){return this.Rl},m7(){return this.em},fea(){XI(this);var a=this.sb;sh(a);return ye(a.Oj)},eea(){XI(this);var a=this.sb;sh(a);return ze(a.Oj)+a.Oj.tj.length*(a.xp+4)-a.xp},v9(){return this.Zl},Wda(a,b){return gJ(this,a,b)},Xda(a){XI(this);var b=this.sb;let d=0;for(const c of vh(b,a))++d;return d},$da(a,b){return(a=hJ(this,a,b))?a.x:0},aea(a,b){return(a=hJ(this,a,b))?a.y:0},Zda(a,b){return(a=hJ(this,a,b))?
a.width:0},Yda(a,b){return(a=hJ(this,a,b))?a.height:0},P5(){return this.cE}};"use strict";const qJ=self.A;qJ.ta.Va=class extends qJ.VH{constructor(a){super(a)}j(){super.j()}};const rJ=self.A;rJ.ta.Va.Eh=class extends rJ.XH{constructor(a){super(a)}j(){super.j()}Vc(){}};const sJ=self.A,tJ=sJ.ta.Va;
function Am(a,b,d=!1){var c=b.Xi();if(a.Cf.has(c)&&(c=a.Cf.get(c))){const e=c.indexOf(b);-1!==e&&c.splice(e,1)}b.hc||uJ(a,b)||(b.hd(d),d=b.Xi(),a.$f.has(d)||a.$f.set(d,[]),a.$f.get(d).push(b),a.Fi||a.SC())}function vJ(a){if(a.$f.size){for(const b of a.$f.values()){for(const d of b)d.hc||d.j();sJ.G(b)}a.$f.clear();a.Fi&&a.eu()}}function wJ(a){return a.AA[a.AA.length-1]}
function xJ(a,b){return b?(b=[...a.Cf.values()].flat(),a=[...a.$f.values()].flat(),b.concat(a).filter(d=>d).filter(d=>!d.hc)):[...a.Cf.values()].flat().filter(d=>d).filter(d=>!d.hc)}function yJ(a,b,d){if(d)return d=a.Cf.get(b),a=a.$f.get(b),d||(d=[]),a||(a=[]),d.concat(a).filter(c=>c).filter(c=>!c.hc);(a=a.Cf.get(b))||(a=[]);return a.filter(c=>c).filter(c=>!c.hc)}function zJ(a,b,d){if((a=d?yJ(a,d,!0):xJ(a,!0))&&a.length)for(const c of a)if(or(c,b))return c}
function*AJ(a,b,d,c=!1){if((a=d?yJ(a,d,c):xJ(a,c))&&a.length)for(const e of a)or(e,b)&&(yield e)}function*BJ(a,b){yield*AJ(a,b,void 0,!0)}function CJ(a){const b={};for(const [d,c]of a.Cf)b[d]=c.filter(e=>!e.hc).map(e=>e.oa());return b}function DJ(a){return a.Zo.filter(b=>!b.hc).map(b=>b.fa())}function EJ(a){const b={};for(const [d,c]of a.$f)b[d]=c.map(e=>e.oa());return b}
function FJ(a,b,d,c){if(b)for(const g in b){let k=d.get(g);k?sJ.G(k):k=[];var e=b[g];for(const l of e)GJ(k,l.name,c)?HJ(a,l.name,l,c):(e=zu({Ad:a.F(),json:l}),sJ.Dh.Eo(e,a.$.Ob),su(e,n=>IJ(a,n)),Lq(c,e),GJ(k,e,c));d.set(g,k)}}function GJ(a,b,d){if("string"===typeof b){if(b=Kq(d,b))return!!a.push(b)}else return!!a.push(b);return!1}function HJ(a,b,d,c){if("string"===typeof b){if(b=Kq(c,b))b.pa(d),sJ.Dh.Eo(b,a.$.Ob)}else b.pa(d),sJ.Dh.Eo(b,a.$.Ob)}
function IJ(a,b){JJ=a.Ck=b;let d,c;if(a.F())d=a.$,c=a.g,a.da(tJ.H.dQ),a.da(tJ.H.TP),Am(a,b);else{d=b.ia();if(!d||d&&Um(d))return;c=d.F();a:{var e=b.ia().td;for(g of e)if(e=g.jg(),e.az===a.constructor){var g=e;break a}g=void 0}a.da(tJ.H.dQ,c,d,g);a.da(tJ.H.TP,c,d,g);b.hd()}JJ=a.Ck=null;b.Eu&&tp(c,d)}
function KJ(a,b,d=!1){if(sJ.Jb(b)){var c=LJ[b];if(a.Cf.has(c)){c=a.Cf.get(c);var e=a.Ck;for(var g of c)g===e||g.hc||uJ(a,g)||(g.hd(d),g.j());sJ.G(c)}}else{g=a.Ck;for(c of xJ(a))c===g||c.hc||uJ(a,c)||(c.hd(d),c.j());for(e of a.Cf.keys())sJ.G(a.Cf.get(e)),a.Cf.delete(e);a.Cf.clear()}}function MJ(a,b,d){d=LJ[d];a.Cf.has(d)||a.Cf.set(d,[]);a.Cf.get(d).push(b)}
function NJ(a,b){var d=OJ(b.Hg,b.Uj,b.nf,b.Qj,b.Dm,a.$);const c=LJ[b.Hg];tJ.oi.GP(c)||KJ(a,b.Hg);d=zu({Ad:a.F(),id:c,ht:b.ht,time:b.time,instance:a.$,Cw:!!b.Cw,loop:!!b.loop,Aw:!!b.Aw,et:b.et,pw:b.pw,Bw:d});su(d,e=>IJ(a,e));MJ(a,d,b.Hg);return d}function uJ(a,b){const d=b.Xi();return a.$f.has(d)?a.$f.get(d).includes(b):!1}
tJ.Instance=class extends sJ.WH{constructor(a,b){super(a);this.Pd=!0;b&&(this.Pd=!!b[0]);this.Cf=new Map;this.Zo=[];this.$f=new Map;this.GU=this.LJ=this.nR=this.Ck=null;this.dS="";this.AA=[];this.pr=()=>this.tg();this.F().Ua().addEventListener("afterload",this.pr)}j(){this.F().Ua().removeEventListener("afterload",this.pr);this.pr=null;this.Ck&&(Am(this,this.Ck,!0),this.Ck=null);KJ(this,NaN,!0);sJ.G(this.Zo);this.Zo=null;vJ(this);this.AA=this.$f=null;super.j()}wC(a){this.Pd=!!a;a?this.$f&&this.$f.size&&
this.SC():this.eu();for(const b of xJ(this))a?this.Zo.includes(b)&&tm(b):((b.IsPlaying()||b.zg)&&this.Zo.push(b),b.hd());a&&sJ.G(this.Zo)}Wb(){return this.Pd}cc(){const a=this.$;return a?!Um(a):!1}rd(){return{s:!1,e:!!this.Pd,at:CJ(this),dt:DJ(this),wt:EJ(this),ft:this.Ck?this.Ck.fa():""}}zc(a,b="full"){a&&(this.nR=a.at,this.LJ=a.dt,this.GU=a.wt,this.dS=a.ft,this.Pd=!!a.e,"state"===b&&this.tg())}tg(){const a=this.F().Mb;FJ(this,this.nR,this.Cf,a);if(this.LJ){sJ.G(this.Zo);for(const b of this.LJ)GJ(this.Zo,
b,a)}FJ(this,this.GU,this.$f,a);this.Ck=Kq(a,this.dS);this.Pd?this.$f&&this.$f.size&&this.SC():this.eu()}Gx(){vJ(this)}dd(a){switch(a){case 0:return this.Pd}}si(a,b){switch(a){case 0:this.Pd=!!b}}da(a,b,d,c){return this.g?super.da(a):b.da(a,d,c)}xe(){return self.xY}};const PJ=self.A;let JJ=null;
PJ.ta.Va.H={Co(){return!0},Do(a){const b=wJ(this);return b?or(b,a):!1},vl(a){const b=wJ(this);return b?b.zb===a||2===a?!0:!1:!1},wl(a,b){const d=wJ(this);return d?d.zb===b||2===b?or(d,a):!1:!1},dQ(a){return or(JJ,a)},TP(){return!0},IsPlaying(a){return(a=[...BJ(this,a)],a.length)?a.some(PJ.Dh.IsPlaying):!1},FY(){const a=[...xJ(this,!0)];return a&&a.length?a.some(PJ.Dh.IsPlaying):!1},Nt(a){return(a=[...BJ(this,a)],a.length)?a.some(PJ.Dh.Nt):!1},t8(){const a=[...xJ(this,!0)];return a&&a.length?a.some(PJ.Dh.Nt):
!1},DP(a,b){return(a=[...BJ(this,a)],a.length)?0===b?a.some(PJ.Dh.CP):1===b?a.some(PJ.Dh.EP):!1:!1},u8(a){const b=[...xJ(this,!0)];return b&&b.length?0===a?b.some(PJ.Dh.CP):1===a?b.some(PJ.Dh.EP):!1:!1}};const QJ=self.Fm;
self.A.ta.Va.Sa={wC(a){this.wC(!!a)},async nea(...a){this.Wb()&&this.cc()&&(a=NJ(this,RJ(...a)),a.Play()&&await um(a))},async k0(...a){this.Wb()&&this.cc()&&(a=NJ(this,SJ(...a)),a.Play()&&await um(a))},async oea(...a){this.Wb()&&this.cc()&&(a=NJ(this,TJ(...a)),a.Play()&&await um(a))},D$(a){if(this.Wb()&&this.cc())for(const b of AJ(this,a))b.hd()},C$(){if(this.Wb()&&this.cc())for(const a of xJ(this))a.hd()},Bba(a){if(this.Wb()&&this.cc())for(const b of AJ(this,a))tm(b)},Aba(){if(this.Wb()&&this.cc())for(const a of xJ(this))tm(a)},
Jda(a){if(this.Wb()&&this.cc())for(const b of AJ(this,a))Am(this,b)},Hda(){if(this.Wb()&&this.cc())for(const a of xJ(this))Am(this,a)},Yca(a,b,d){if(this.Wb()&&this.cc()){b=UJ[b];for(const c of AJ(this,a))vu(c,[b]),wu(c,d,b)}},pda(a,b,d,c){if(this.Wb()&&this.cc()){b=VJ.ni(b)?WJ[b]:WJ[LJ[b]];for(const e of AJ(this,a))vu(e,b),wu(e,d,b[0]),wu(e,c,b[1])}},sda(a,b){if(this.Wb()&&this.cc())for(const d of AJ(this,a,"value"))tu(d,b,"value")},rda(a,b){if(this.Wb()&&this.cc())for(const d of AJ(this,a,"value"))vu(d,
["value"]),wu(d,b,"value")},mda(a,b){if(this.Wb()&&this.cc()){b=QJ.Im(b);for(const d of AJ(this,a))d.og(b)}},Tba(a){if(this.Wb()&&this.cc()){a=QJ.Im(a);for(const b of xJ(this))b.og(a)}},oda(a,b){if(this.Wb()&&this.cc())for(const d of AJ(this,a))d.Ah(b)},Vba(a){if(this.Wb()&&this.cc())for(const b of xJ(this))b.Ah(a)},nda(a,b){if(this.Wb()&&this.cc())for(const d of AJ(this,a))d.Qg(b)},Uba(a){if(this.Wb()&&this.cc())for(const b of xJ(this))b.Qg(a)},lda(a,b){if(this.Wb()&&this.cc())for(const d of AJ(this,
a))d.Eu=!!b},Sba(a){if(this.Wb()&&this.cc())for(const b of xJ(this))b.Eu=!!a}};self.A.ta.Va.rf={gea(a){return(a=zJ(this,a))?a.za():0},o_(a){return(a=zJ(this,a))?a.za()/a.pc():0},IH(a){return(a=zJ(this,a))?a.Qc:0},Dea(a){return(a=zJ(this,a,"value"))?a.Ed("value").Db().ed():0},bea(){let a=this.Ck;return a?nr(a):(a=wJ(this))?nr(a):""}};"use strict";
const VJ=self.A,XJ=self.Fm,YJ=["position","size","scale"],UJ="offsetX offsetY offsetWidth offsetHeight offsetAngle offsetOpacity offsetColor offsetZElevation offsetScaleX offsetScaleY".split(" "),LJ=[].concat(YJ).concat(UJ).concat(["value"]),ZJ={position:["offsetX","offsetY"],size:["offsetWidth","offsetHeight"],scale:["offsetScaleX","offsetScaleY"]},WJ=Object.assign({},LJ.reduce((a,b)=>Object.assign({},a,{[b]:[b]}),{}),ZJ);
VJ.ta.Va.oi=class{constructor(){}static Im(a){return[...XJ.hP()][a]}static OY(a){return!!ZJ[a]}static uH(a){return"offsetColor"===a}static EY(a){return"offsetAngle"===a}static GP(a){return"value"===a}};"use strict";const $J=self.A,aK=$J.ta.Va,bK=new Map;
function OJ(a,b,d,c,e,g){var k=tJ.eX;if(0===bK.size){const l=aK.nQ,n=aK.s0;cK(l.gQ,k.a1,n.HI);cK(l.COLOR,k.W0,n.X0);cK(l.AO,k.V0,n.b1);cK(l.UQ,k.c1,n.HI);cK(l.QP,k.Y0,n.HI)}k=dK(a);k=bK.get(k);$J.Jb(a)&&(a=LJ[a]);return k.A3(a,k.mW(b),k.mW(d),c,e,g)}function cK(a,b,d){bK.set(a,{name:a,A3:b,mW:d})}
aK.eX=class{constructor(){}static a1(a,b,d,c,e){return ZJ[a].map((g,k)=>({Dw:"world-instance",Hg:g,type:"float",valueType:"numeric",Uj:b[k],nf:d[k],Qj:aK.oi.Im(c),Dm:e}))}static W0(a,b,d,c,e,g){return $J.B.Text&&g.Ia()instanceof $J.B.Text?{Dw:"plugin",L4:[7],Hg:"color",type:"color",valueType:"color",Uj:b,nf:d,Qj:aK.oi.Im(c),Dm:e}:{Dw:"world-instance",Hg:a,type:"color",valueType:"color",Uj:b,nf:d,Qj:aK.oi.Im(c),Dm:e}}static V0(a,b,d,c,e){return{Dw:"world-instance",Hg:a,type:"angle",valueType:"angle",
Uj:b,nf:d,Qj:aK.oi.Im(c),Dm:e}}static Y0(a,b,d,c,e){return{Dw:"world-instance",Hg:a,type:"float",valueType:"numeric",Uj:b,nf:d,Qj:aK.oi.Im(c),Dm:e}}static c1(a,b,d,c,e){return{Dw:"value",Hg:a,type:"float",valueType:"numeric",Uj:b,nf:d,Qj:aK.oi.Im(c),Dm:e}}};"use strict";
const eK=self.A,fK=eK.ta.Va,gK=Object.assign({},{Dm:"absolute"},{ht:"",Hg:"",time:0,Qj:0,Cw:0,loop:!1,Aw:!1,et:1}),hK=Object.assign({},gK,{pw:"current-state",Uj:0,nf:0}),iK=Object.assign({},gK,{pw:"current-state",Uj:[0,0],nf:[0,0]}),jK=Object.assign({},gK,{pw:"current-state",Uj:[0,0,0],nf:[0,0,0]}),kK=Object.assign({},hK,{pw:"start-value"});
function RJ(a,b,d,c,e,g,k,l,n){b="string"===typeof b?b:UJ[b];const p=fK.oi.uH(b)?jK:hK;p.ht=a;p.time=c;p.Qj=e;p.Cw=g;p.loop=k;p.Aw=l;p.et=n;fK.oi.uH(b)?(jK.nf[0]=eK.VB(d),jK.nf[1]=eK.RB(d),jK.nf[2]=eK.GB(d),jK.Hg=LJ.indexOf(b)):hK.nf="offsetOpacity"===b?d/100:d;p.Hg=LJ.indexOf(b);return p}function SJ(a,b,d,c,e,g,k,l,n,p){iK.ht=a;iK.time=e;iK.Qj=g;iK.Cw=k;iK.loop=l;iK.Aw=n;iK.et=p;a="string"===typeof b?b:YJ[b];iK.nf[0]=d;iK.nf[1]=c;iK.Hg=LJ.indexOf(a);return iK}
function TJ(a,b,d,c,e,g,k,l,n){kK.ht=a;kK.time=c;kK.Qj=e;kK.Cw=g;kK.loop=k;kK.Aw=l;kK.et=n;kK.Uj=b;kK.nf=d;kK.Hg=LJ.indexOf("value");return kK}fK.mea=class{constructor(){}};"use strict";const lK=self.A,mK=lK.ta.Va,nK=[];
function dK(a){var b=aK.nQ;0===nK.length&&(nK.push({Ys:mK.oi.OY,result:b.gQ}),nK.push({Ys:mK.oi.uH,result:b.COLOR}),nK.push({Ys:mK.oi.EY,result:b.AO}),nK.push({Ys:mK.oi.GP,result:b.UQ}),nK.push({Ys:()=>!0,result:b.QP}));lK.Jb(a)&&(a=LJ[a]);for(const d of nK)if(d.Ys(a))return d.result}mK.nQ=class{constructor(){}static get gQ(){return"pair"}static get COLOR(){return"color"}static get AO(){return"angle"}static get UQ(){return"value"}static get QP(){return"other"}};"use strict";const oK=self.A;
oK.ta.Va.s0=class{constructor(){}static b1(a){return oK.Wd(oK.ib(parseFloat(a)))}static X0(a){return a.slice(0)}static HI(a){return a}};"use strict";const pK=self.aC,qK=new WeakMap;self.xY=class extends pK{constructor(){super();qK.set(this,W(pK.$t()))}get isEnabled(){return qK.get(this).Wb()}set isEnabled(a){qK.get(this).wC(a)}};"use strict";const rK=self.A;rK.ta.fi=class extends rK.VH{constructor(a){super(a)}j(){super.j()}};const sK=self.A;sK.ta.fi.Eh=class extends sK.XH{constructor(a){super(a)}j(){super.j()}Vc(){}};
const tK=self.A,uK=self.aC;
tK.ta.fi.Instance=class extends tK.WH{constructor(a,b){super(a);this.tn=this.tm=this.Sl=0;this.UC=this.Du=!0;this.aU=!1;this.jf=0;this.bl=tK.m(tK.Pt);this.Bp=this.$.C().ac()||1;b&&(this.Sl=b[0],this.tm=b[1],this.tn=b[2],this.Du=!!b[3],this.jf=(this.UC=!!b[4])?0:3);this.UC&&(0===this.Sl?(this.jf=1,0===this.tm&&(this.jf=2)):(this.$.C().De(0),this.g.Z()));this.Bf()}j(){super.j()}rd(){return{fit:this.Sl,wt:this.tm,fot:this.tn,d:this.Du,s:this.jf,st:this.bl.U(),mo:this.Bp}}zc(a){this.Sl=a.fit;this.tm=
a.wt;this.tn=a.fot;this.Du=a.d;this.jf=a.s;this.bl.Set(a.st);this.Bp=a.mo;3===this.jf?this.Zm():this.Bf()}Xe(){this.bl.Bb(Qk(this.g,this.$));const a=this.$.C();0===this.jf&&(a.De(this.bl.U()/this.Sl*this.Bp),this.g.Z(),a.ac()>=this.Bp&&(a.De(this.Bp),this.jf=1,this.bl.Tb(),this.Bq("fadeinend"),this.da(tK.ta.fi.H.AZ)));1===this.jf&&this.bl.U()>=this.tm&&(this.jf=2,this.bl.Tb(),this.Bq("waitend"),this.da(tK.ta.fi.H.g_));2===this.jf&&(0!==this.tn?(a.De(this.Bp-this.bl.U()/this.tn*this.Bp),this.g.Z(),
0>=a.ac()&&(this.jf=3,this.bl.Tb(),this.Bq("fadeoutend"),this.da(tK.ta.fi.H.BZ),this.Du&&tp(this.g,this.$))):(this.jf=3,this.bl.Tb()));3===this.jf&&this.Zm()}Tm(){this.jf=0;this.bl.Tb();0===this.Sl?(this.jf=1,0===this.tm&&(this.jf=2)):(this.$.C().De(0),this.g.Z());this.Bf()}dd(a){switch(a){case 0:return this.Sl;case 1:return this.tm;case 2:return this.tn;case 3:return this.Du}}si(a,b){switch(a){case 0:this.Sl=Math.max(b,0);break;case 1:this.tm=Math.max(b,0);break;case 2:this.tn=Math.max(b,0);break;
case 3:this.Du=!!b}}xe(){return self.kY}};const vK=new WeakMap;self.kY=class extends uK{constructor(){super();vK.set(this,W(uK.$t()))}};self.A.ta.fi.H={BZ(){return!0},AZ(){return!0},g_(){return!0}};self.A.ta.fi.Sa={T_(){this.UC||this.aU||(this.Bp=this.$.C().ac()||1,this.aU=!0);3===this.jf&&this.Tm()},wba(){this.Tm()},G_(a){this.Sl=Math.max(a,0)},tda(a){this.tm=Math.max(a,0)},H_(a){this.tn=Math.max(a,0)}};self.A.ta.fi.rf={n7(){return this.Sl},Lea(){return this.tm},o7(){return this.tn}};const Z=self.A;
self.IO=function(){return[Z.B.dc,Z.ta.Va,Z.B.Ig,Z.B.qb,Z.B.Keyboard,Z.B.qd,Z.B.Audio,Z.B.video,Z.B.Text,Z.ta.fi,Z.B.yb.H.WP,Z.B.Audio.H.RY,Z.B.video.Sa.eI,Z.B.Audio.Sa.Play,Z.B.yb.H.Mt,Z.B.qd.H.NY,Z.B.yb.H.j0,Z.B.dc.Sa.B_,Z.B.qd.H.IY,Z.B.yb.Sa.aY,Z.B.qd.H.HH,Z.B.yb.H.bX,Z.B.Keyboard.H.AP,Z.B.dc.Sa.A_,Z.B.Text.H.iQ,Z.B.yb.Sa.h0,Z.B.Ig.H.RP,Z.B.Text.Sa.Go,Z.B.Ig.rf.YY,Z.B.yb.H.uX,Z.B.qd.H.ZP,Z.B.dc.Sa.M_,Z.B.qd.rf.ZQ,Z.B.qd.rf.$Q,Z.B.dc.H.dX,Z.B.dc.Sa.J_,Z.B.dc.Sa.QO,Z.ta.Va.Sa.k0,Z.B.dc.H.iQ,Z.B.Audio.Sa.V_,
Z.B.dc.Sa.C_,Z.B.yb.Sa.LO,Z.B.dc.Sa.sd,Z.B.yb.H.cX,Z.B.dc.Sa.S_,Z.B.yb.Sa.N_,Z.B.yb.Sa.vI,Z.B.Text.Sa.l0,Z.B.dc.Sa.W_,Z.ta.fi.Sa.T_,Z.ta.fi.Sa.G_,Z.ta.fi.Sa.H_,Z.B.yb.Sa.E_,Z.B.yb.Sa.K_,Z.B.Text.Sa.I_,Z.B.Text.Sa.MP,Z.B.Text.Sa.qg,Z.B.Text.Sa.xC,Z.B.dc.Sa.MP,Z.B.dc.Sa.hZ,Z.B.Text.Sa.QO,Z.B.qb.Sa.bY,Z.B.Audio.Sa.eI]};
self.WW=[{Va:0},{NW:0},{HW:0},{IW:0},{JW:0},{KW:0},{LW:0},{MW:0},{dc:0},{s7:0},{n0:0},{Ig:0},{qb:0},{UY:0},{eZ:0},{x_:0},{u0:0},{WY:0},{Y_:0},{m0:0},{p0:0},{o0:0},{hX:0},{jX:0},{fi:0},{vX:0},{C8:0},{P8:0},{Qea:0},{P9:0},{r7:0},{Y5:0},{X5:0},{X6:0}];
self.q8={NW:class extends self.mg{},HW:class extends self.mg{},IW:class extends self.mg{},JW:class extends self.mg{},KW:class extends self.mg{},LW:class extends self.mg{},MW:class extends self.mg{},dc:class extends self.mg{},n0:class extends self.mg{},Ig:class extends self.je{},qb:class extends self.je{},UY:class extends self.je{},eZ:class extends self.je{},x_:class extends self.je{},u0:class extends self.kx{},WY:class extends self.mg{},Y_:class extends self.qH{},m0:class extends self.mg{},p0:class extends self.mg{},
o0:class extends self.mg{},hX:class extends self.qH{},jX:class extends self.mg{},vX:class extends self.mg{}};
self.VW=[()=>"bgm",()=>0,()=>"U_A",()=>"Button Interaction",()=>"When hovering",()=>1,()=>2,()=>3,()=>4,()=>"When Pressed",()=>"F_N_A",()=>"S_T",()=>"",()=>"Hover",()=>32,()=>24,a=>{if(0>=a.Fv.length)throw new RangeError("invalid numbered node");const b=a.Fv[0].cH();return()=>b()},()=>33,()=>5,()=>400,()=>38,()=>80,()=>64,()=>36,()=>"Luigi",()=>60,()=>16,()=>17,()=>20,()=>21,()=>15,()=>"Idle",()=>6,()=>208,()=>320,()=>200,()=>357,()=>"as",()=>150,()=>"Mario",()=>110,()=>90,()=>.05,()=>.3,()=>10,()=>
11,()=>43,()=>8,()=>300,()=>170,()=>.02,()=>"Jump into the smashing with your friends",()=>.2,()=>"Play alone earn trophies",()=>"Mr hand: im too lazy to write this",()=>27,()=>"Adjust your sound settings",()=>128,()=>258,()=>130,()=>.1,()=>350,()=>250,()=>"BlurVertical",()=>"BlurHorizontal",()=>500,()=>.4,()=>"Sorry this menu is not available yet",()=>"Go to the Sound Test room?",()=>"Update your Game? (You can skip this)",()=>"https://github.com/Maritosu/SSBB-UI-TEST",()=>"ON",()=>"OFF"];
